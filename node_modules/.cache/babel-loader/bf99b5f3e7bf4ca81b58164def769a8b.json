{"ast":null,"code":"import _defineProperty from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pandusetiawan/Documents/react/df-v1.2/src/views/pages/authentication/login/LoginCustom.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CardBody, FormGroup, Form, Input, Button, Label } from \"reactstrap\";\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\";\nimport { Mail, Lock, Check, Info, User } from \"react-feather\"; // import { loginWithJWT, loginWithCustom } from \"../../../../redux/actions/auth/loginActions\"\n\nimport { loginWithCustom } from \"../../../../redux/actions/auth/loginActions\";\nimport { connect } from \"react-redux\";\nimport { history } from \"../../../../history\";\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport { useParams } from 'react-router-dom';\n\nvar LoginCustom = /*#__PURE__*/function (_React$Component) {\n  _inherits(LoginCustom, _React$Component);\n\n  function LoginCustom() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, LoginCustom);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(LoginCustom)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      // email: \"admin@gmail.com\",\n      // password: \"admin\",\n      nik: \"\",\n      password: \"\",\n      alertWrongPassword: false,\n      alertUserNotFound: false,\n      alertUserNotActive: false,\n      remember: false\n    };\n\n    _this.handleLogin = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n\n                _this.props.loginWithCustom(_this.state); // const queryParams = await new URLSearchParams(window.location.search);\n                // const name = await queryParams.get('status');\n                // console.log(name); // 55 test null\n                // console.log('res',this.props.match.params   )\n                // this.props.loginWithJWT(this.state)\n\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.handleAlertWrongPassword = function (state, value) {\n      _this.setState(_defineProperty({}, state, value));\n    };\n\n    _this.handleAlertUserNotFound = function (state, value) {\n      _this.setState(_defineProperty({}, state, value));\n    };\n\n    _this.handleAlertUserNotActive = function (state, value) {\n      _this.setState(_defineProperty({}, state, value));\n    };\n\n    _this.componentDidMount = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e) {\n        var queryParams, name;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // console.log('e :', e)\n                // console.log('login props: ', this.props)\n                console.log('didmount : ', e);\n                _context2.next = 3;\n                return new URLSearchParams(window.location.search);\n\n              case 3:\n                queryParams = _context2.sent;\n                _context2.next = 6;\n                return queryParams.get('status');\n\n              case 6:\n                name = _context2.sent;\n                console.log(name); // 55 test null\n\n                if (name === 'wrong_password') {\n                  _this.setState({\n                    alertWrongPassword: true\n                  });\n                }\n\n                if (name === 'user_not_found') {\n                  _this.setState({\n                    alertUserNotFound: true\n                  });\n                }\n\n                if (name === 'user_not_active') {\n                  _this.setState({\n                    alertUserNotActive: true\n                  });\n                }\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(LoginCustom, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        className: \"pt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        action: \"/home\",\n        onSubmit: this.handleLogin,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        className: \"form-label-group position-relative has-icon-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        placeholder: \"NIK\",\n        value: this.state.nik,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            nik: e.target.value\n          });\n        },\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-control-position\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(User, {\n        size: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }\n      }, \"NIK\")), /*#__PURE__*/React.createElement(FormGroup, {\n        className: \"form-label-group position-relative has-icon-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        type: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: function onChange(e) {\n          return _this2.setState({\n            password: e.target.value\n          });\n        },\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-control-position\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Lock, {\n        size: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(Label, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }\n      }, \"Password\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Button.Ripple, {\n        color: \"primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 15\n        }\n      }, \"Login\"))), /*#__PURE__*/React.createElement(SweetAlert, {\n        error: true,\n        title: \"Error\",\n        show: this.state.alertWrongPassword,\n        onConfirm: function onConfirm() {\n          return _this2.handleAlertWrongPassword(\"alertWrongPassword\", false);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"sweet-alert-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }\n      }, \"Ooops, password anda salah!\")), /*#__PURE__*/React.createElement(SweetAlert, {\n        error: true,\n        title: \"Error\",\n        show: this.state.alertUserNotFound,\n        onConfirm: function onConfirm() {\n          return _this2.handleAlertUserNotFound(\"alertUserNotFound\", false);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"sweet-alert-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      }, \"Ooops, user tidak ditemukan!\")), /*#__PURE__*/React.createElement(SweetAlert, {\n        error: true,\n        title: \"Error\",\n        show: this.state.alertUserNotActive,\n        onConfirm: function onConfirm() {\n          return _this2.handleAlertUserNotActive(\"alertUserNotActive\", false);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"sweet-alert-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, \"Ooops, user tidak aktif!\"))));\n    }\n  }]);\n\n  return LoginCustom;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    values: state.auth.login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  // loginWithJWT,\n  loginWithCustom: loginWithCustom\n})(LoginCustom);","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/pages/authentication/login/LoginCustom.js"],"names":["React","Link","CardBody","FormGroup","Form","Input","Button","Label","Checkbox","Mail","Lock","Check","Info","User","loginWithCustom","connect","history","SweetAlert","useParams","LoginCustom","state","nik","password","alertWrongPassword","alertUserNotFound","alertUserNotActive","remember","handleLogin","e","preventDefault","props","handleAlertWrongPassword","value","setState","handleAlertUserNotFound","handleAlertUserNotActive","componentDidMount","console","log","URLSearchParams","window","location","search","queryParams","get","name","target","Component","mapStateToProps","values","auth","login"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { CardBody, FormGroup, Form, Input, Button, Label } from \"reactstrap\"\r\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\"\r\nimport { Mail, Lock, Check, Info, User } from \"react-feather\"\r\n// import { loginWithJWT, loginWithCustom } from \"../../../../redux/actions/auth/loginActions\"\r\nimport { loginWithCustom } from \"../../../../redux/actions/auth/loginActions\"\r\nimport { connect } from \"react-redux\"\r\nimport { history } from \"../../../../history\"\r\nimport SweetAlert from 'react-bootstrap-sweetalert';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nclass LoginCustom extends React.Component {\r\n  state = {\r\n    // email: \"admin@gmail.com\",\r\n    // password: \"admin\",\r\n    nik:\"\",\r\n    password:\"\",\r\n    alertWrongPassword: false,\r\n    alertUserNotFound: false,\r\n    alertUserNotActive: false,\r\n    remember: false\r\n  }\r\n\r\n  handleLogin = async(e) => {\r\n    e.preventDefault()\r\n    this.props.loginWithCustom(this.state)\r\n    // const queryParams = await new URLSearchParams(window.location.search);\r\n    // const name = await queryParams.get('status');\r\n    // console.log(name); // 55 test null\r\n\r\n    // console.log('res',this.props.match.params   )\r\n    // this.props.loginWithJWT(this.state)\r\n  }\r\n\r\n  handleAlertWrongPassword = (state, value) => {\r\n    this.setState({ [state] : value })\r\n  }\r\n\r\n  handleAlertUserNotFound = (state, value) => {\r\n    this.setState({ [state] : value })\r\n  }\r\n\r\n  handleAlertUserNotActive = (state, value) => {\r\n    this.setState({ [state] : value })\r\n  }\r\n\r\n  componentDidMount= async(e) =>{\r\n    // console.log('e :', e)\r\n    // console.log('login props: ', this.props)\r\n\r\n    console.log('didmount : ', e)\r\n    const queryParams = await new URLSearchParams(window.location.search);\r\n    const name = await queryParams.get('status');\r\n    console.log(name); // 55 test null\r\n\r\n    if (name === 'wrong_password') {\r\n      this.setState({alertWrongPassword: true});\r\n    }\r\n\r\n    if(name === 'user_not_found'){\r\n      this.setState({alertUserNotFound: true})\r\n    }\r\n\r\n    if(name === 'user_not_active'){\r\n      this.setState({alertUserNotActive: true})\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <CardBody className=\"pt-1\">\r\n          <Form action=\"/home\" onSubmit={this.handleLogin}>\r\n            <FormGroup className=\"form-label-group position-relative has-icon-left\">\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"NIK\"\r\n                value={this.state.nik}\r\n                onChange={e => this.setState({ nik: e.target.value })}\r\n                required\r\n              />\r\n              <div className=\"form-control-position\">\r\n                {/* <Mail size={15} /> */}\r\n                <User size={15} />\r\n              </div>\r\n              <Label>NIK</Label>\r\n            </FormGroup>\r\n            <FormGroup className=\"form-label-group position-relative has-icon-left\">\r\n              <Input\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                value={this.state.password}\r\n                onChange={e => this.setState({ password: e.target.value })}\r\n                required\r\n              />\r\n              <div className=\"form-control-position\">\r\n                <Lock size={15} />\r\n              </div>\r\n              <Label>Password</Label>\r\n            </FormGroup>\r\n            {/* <FormGroup className=\"d-flex justify-content-between align-items-center\">\r\n              <Checkbox\r\n                color=\"primary\"\r\n                icon={<Check className=\"vx-icon\" size={16} />}\r\n                label=\"Remember me\"\r\n                defaultChecked={false}\r\n                onChange={this.handleRemember}\r\n              />\r\n              <div className=\"float-right\">\r\n                <Link to=\"/pages/forgot-password\">Forgot Password?</Link>\r\n              </div>\r\n            </FormGroup> */}\r\n            {/* <div className=\"d-flex justify-content-between\">\r\n              <Button.Ripple\r\n                color=\"primary\"\r\n                outline\r\n                onClick={() => {\r\n                  history.push(\"/pages/register\")\r\n                }}\r\n              >\r\n                Register\r\n              </Button.Ripple>\r\n              <Button.Ripple color=\"primary\" type=\"submit\">\r\n                Login\r\n              </Button.Ripple>\r\n            </div> */}\r\n            <div className=\"d-flex justify-content-end\">\r\n              <Button.Ripple color=\"primary\" type=\"submit\">\r\n                Login\r\n              </Button.Ripple>\r\n            </div>\r\n          </Form>\r\n\r\n          <SweetAlert error title=\"Error\"\r\n              show={this.state.alertWrongPassword}\r\n              onConfirm={() => this.handleAlertWrongPassword(\"alertWrongPassword\", false)}\r\n            >\r\n                <p className=\"sweet-alert-text\">\r\n                  Ooops, password anda salah!\r\n                </p>\r\n            </SweetAlert>\r\n\r\n            <SweetAlert error title=\"Error\"\r\n              show={this.state.alertUserNotFound}\r\n              onConfirm={() => this.handleAlertUserNotFound(\"alertUserNotFound\", false)}\r\n            >\r\n                <p className=\"sweet-alert-text\">\r\n                  Ooops, user tidak ditemukan!\r\n                </p>\r\n            </SweetAlert>\r\n\r\n            <SweetAlert error title=\"Error\"\r\n              show={this.state.alertUserNotActive}\r\n              onConfirm={() => this.handleAlertUserNotActive(\"alertUserNotActive\", false)}\r\n            >\r\n                <p className=\"sweet-alert-text\">\r\n                  Ooops, user tidak aktif!\r\n                </p>\r\n            </SweetAlert>\r\n\r\n        </CardBody>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    values: state.auth.login\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {\r\n  // loginWithJWT,\r\n  loginWithCustom\r\n})(LoginCustom)\r\n"]},"metadata":{},"sourceType":"module"}