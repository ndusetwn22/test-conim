{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{FormGroup,Input}from\"reactstrap\";import{Menu,Search,Check,Info,Star,Trash}from\"react-feather\";import PerfectScrollbar from\"react-perfect-scrollbar\";import{connect}from\"react-redux\";import{getTodos,completeTask,starTask,importantTask,trashTask,searchTask}from\"../../../redux/actions/todo/index\";import Checkbox from\"../../../components/@vuexy/checkbox/CheckboxesVuexy\";var TodoList=/*#__PURE__*/function(_React$Component){_inherits(TodoList,_React$Component);var _super=_createSuper(TodoList);function TodoList(){var _this;_classCallCheck(this,TodoList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={todos:[],handleUpdateTask:null,currentLocation:_this.props.routerProps.location.pathname,value:\"\"};_this.handleOnChange=function(e){_this.setState({value:e.target.value});_this.props.searchTask(e.target.value);};return _this;}_createClass(TodoList,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.props.getTodos(this.props.routerProps.match.params);case 2:this.setState({todos:this.props.app.todo.todos,handleUpdateTask:this.props.handleUpdateTask});case 3:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,todos=_this$state.todos,handleUpdateTask=_this$state.handleUpdateTask,value=_this$state.value;var routerFilter=this.props.routerProps.match.params.filter;var todosArr=value.length?this.props.app.todo.filteredTodos:todos;var renderTodos=todosArr.length>0?todosArr.map(function(todo,i){return/*#__PURE__*/React.createElement(\"li\",{className:\"todo-item \".concat(todo.isCompleted?\"completed\":\"\"),key:i,onClick:function onClick(){handleUpdateTask(todo);}},/*#__PURE__*/React.createElement(\"div\",{className:\"todo-title-wrapper d-flex justify-content-between mb-50\"},/*#__PURE__*/React.createElement(\"div\",{className:\"todo-title-area d-flex align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title-wrapper d-flex\"},/*#__PURE__*/React.createElement(Checkbox,{color:\"primary\",className:\"user-checkbox\",icon:/*#__PURE__*/React.createElement(Check,{className:\"vx-icon\",size:12}),label:\"\",checked:todo.isCompleted,size:\"sm\",onClick:function onClick(e){e.stopPropagation();_this2.props.completeTask(todo);},onChange:function onChange(e){return e.stopPropagation();}}),/*#__PURE__*/React.createElement(\"h6\",{className:\"todo-title mt-50 mx-50\"},todo.title)),todo.tags.length>0?/*#__PURE__*/React.createElement(\"div\",{className:\"chip-wrapper\"},todo.tags.map(function(tag,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"chip mb-0\",key:i},/*#__PURE__*/React.createElement(\"div\",{className:\"chip-body\"},/*#__PURE__*/React.createElement(\"span\",{className:\"chip-text\"},/*#__PURE__*/React.createElement(\"span\",{className:\"bullet bullet-\".concat(tag===\"backend\"?\"warning\":tag===\"doc\"?\"success\":tag===\"bug\"?\"danger\":\"primary\",\" bullet-xs\")}),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize ml-25\"},tag))));})):null),/*#__PURE__*/React.createElement(\"div\",{className:\"todo-item-action d-flex \".concat(routerFilter===\"trashed\"?\"justify-content-end\":\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"todo-item-info d-inline-block \".concat(routerFilter===\"trashed\"?\"mr-1\":\"mr-1 mr-sm-0\"),onClick:function onClick(e){e.stopPropagation();_this2.props.importantTask(todo);}},/*#__PURE__*/React.createElement(Info,{size:17,className:\"\".concat(todo.isImportant?\"text-success\":\"\")})),/*#__PURE__*/React.createElement(\"div\",{className:\"todo-item-favorite d-inline-block mr-1 mr-sm-0\",onClick:function onClick(e){e.stopPropagation();_this2.props.starTask(todo);}},/*#__PURE__*/React.createElement(Star,{size:17,className:\"\".concat(todo.isStarred?\"text-warning\":\"\")})),routerFilter!==\"trashed\"?/*#__PURE__*/React.createElement(\"div\",{className:\"todo-item-delete d-inline-block mr-1 mr-sm-0\",onClick:function onClick(e){e.stopPropagation();_this2.props.trashTask(todo.id);}},/*#__PURE__*/React.createElement(Trash,{size:17})):null)),todo.desc.length>0?/*#__PURE__*/React.createElement(\"p\",{className:\"todo-desc truncate mb-0\"},todo.desc):\"\");}):/*#__PURE__*/React.createElement(\"p\",{className:\"p-1 text-center mt-2 font-medium-3 text-bold-500\"},\"No tasks at this time\");return/*#__PURE__*/React.createElement(\"div\",{className:\"content-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"todo-app-area\"},/*#__PURE__*/React.createElement(\"div\",{className:\"todo-app-list-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"todo-app-list\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app-fixed-search\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sidebar-toggle d-inline-block d-lg-none\",onClick:function onClick(){return _this2.props.mainSidebar(true);}},/*#__PURE__*/React.createElement(Menu,{size:24})),/*#__PURE__*/React.createElement(FormGroup,{className:\"position-relative has-icon-left m-0 d-inline-block d-lg-block\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Search...\",onChange:function onChange(e){return _this2.handleOnChange(e);},value:value}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control-position\"},/*#__PURE__*/React.createElement(Search,{size:15})))),/*#__PURE__*/React.createElement(PerfectScrollbar,{className:\"todo-task-list\",options:{wheelPropagation:false}},/*#__PURE__*/React.createElement(\"ul\",{className:\"todo-task-list-wrapper\"},renderTodos))))));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.app.todo.routeParam!==state.currentLocation){return{todos:props.app.todo.todos};}// Return null if the state hasn't changed\nreturn null;}}]);return TodoList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{app:state.todoApp};};export default connect(mapStateToProps,{getTodos:getTodos,completeTask:completeTask,starTask:starTask,importantTask:importantTask,trashTask:trashTask,searchTask:searchTask})(TodoList);","map":null,"metadata":{},"sourceType":"module"}