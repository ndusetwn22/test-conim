{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Card,CardBody,CardHeader,CardTitle,Badge,Input,Button}from\"reactstrap\";import DataTable from\"react-data-table-component\";import{Star,Search}from\"react-feather\";import axios from'axios';var CustomHeader=function CustomHeader(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"add-new\"},/*#__PURE__*/React.createElement(Button.Ripple,{color:\"primary\",onClick:function onClick(){return props.tarikData();}},\"Add New\")),/*#__PURE__*/React.createElement(\"div\",{className:\"position-relative has-icon-left mb-1\"},/*#__PURE__*/React.createElement(Input,{value:props.value,onChange:function onChange(e){return props.handleFilter(e);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control-position\"},/*#__PURE__*/React.createElement(Search,{size:\"15\"}))));};// const tarikData = async() =>{\n//   console.log('tarik data')\n//   let sql = `\n//   select * from employees limit 100;\n// `\n// var result = await axios.post('http://localhost:3001/api/query', {\n//                           query : sql\n//                         })\n//                           .then(result => {\n//                             let res = result.data.response\n//                             console.log('result : ', result)\n//                             if (res.length == '') {\n//                               return []\n//                             }\n//                             // console.log('result : ', (result.data))\n//                             return res;\n//                         }).catch(err => {\n//                           console.log('error : ', err)\n//                             return []\n//                         })\n// await this.setState({data: result})\n// }\nvar DataTableCustom=/*#__PURE__*/function(_React$Component){_inherits(DataTableCustom,_React$Component);var _super=_createSuper(DataTableCustom);function DataTableCustom(){var _this;_classCallCheck(this,DataTableCustom);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={columns:[{name:\"Name\",selector:\"name\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-img ml-xl-0 ml-2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{// title={row.name}\ntitle:row.first_name+' '+row.last_name,className:\"d-block text-bold-500 text-truncate mb-0\"},row.first_name+' '+row.last_name),/*#__PURE__*/React.createElement(\"small\",{title:row.emp_no},row.emp_no)));}}],data:[{image:require(\"../../../assets/img/portrait/small/avatar-s-12.jpg\"),name:\"Hortensia Soaper\",email:\"hsoaperh@mapy.cz\",date:\"June 1, 2017\",status:\"active\",revenue:\"$60,000\",ratings:\"good\"}],filteredData:[],value:\"\"};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var sql,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('table custom : ');// var result = await axios.get('https://jsonplaceholder.typicode.com/users')\n//                         .then(result => {\n//                             let res = result.data\n//                             console.log('result : ', result)\n//                             if (res.length == '') {\n//                               return []\n//                             }\n//                             // console.log('result : ', (result.data))\n//                             return res;\n//                         }).catch(err => {\n//                             return []\n//                         })\nsql=\"\\n        select * from employees limit 100;\\n      \";_context.next=4;return axios.post('http://localhost:3001/api/query',{query:sql}).then(function(result){var res=result.data.response;console.log('result : ',result);if(res.length==''){return[];}// console.log('result : ', (result.data))\nreturn res;}).catch(function(err){console.log('error : ',err);return[];});case 4:result=_context.sent;_context.next=7;return _this.setState({data:result});case 7:console.log('state data:',_this.state.data);console.log('state data:',typeof _this.state.data);case 9:case\"end\":return _context.stop();}}},_callee);}));_this.tarikData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var sql,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('tarik data');sql=\"\\n      select * from employees limit 10001;\\n    \";_context2.next=4;return axios.post('http://localhost:3001/api/query',{query:sql}).then(function(result){var res=result.data.response;console.log('result : ',result);if(res.length==''){return[];}// console.log('result : ', (result.data))\nreturn res;}).catch(function(err){console.log('error : ',err);return[];});case 4:result=_context2.sent;_context2.next=7;return _this.setState({data:result});case 7:case\"end\":return _context2.stop();}}},_callee2);}));_this.handleFilter=function(e){var value=e.target.value;var data=_this.state.data;var filteredData=_this.state.filteredData;_this.setState({value:value});if(value.length){filteredData=data.filter(function(item){// console.log('ITEM : ', item)\nvar startsWithCondition=item.first_name.toLowerCase().startsWith(value.toLowerCase())||item.last_name.toLowerCase().startsWith(value.toLowerCase())||item.emp_no.toString().toLowerCase().startsWith(value.toLowerCase());// item.name.toLowerCase().startsWith(value.toLowerCase())\n// item.date.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.email.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.status.toLowerCase().startsWith(value.toLowerCase())\nvar includesCondition=item.first_name.toLowerCase().includes(value.toLowerCase())||item.last_name.toLowerCase().includes(value.toLowerCase())||item.emp_no.toString().toLowerCase().includes(value.toLowerCase());// item.name.toLowerCase().includes(value.toLowerCase())\n// item.date.toLowerCase().includes(value.toLowerCase()) ||\n// item.email.toLowerCase().includes(value.toLowerCase()) ||\n// item.revenue.toLowerCase().includes(value.toLowerCase()) ||\n// item.status.toLowerCase().includes(value.toLowerCase())\nif(startsWithCondition){return startsWithCondition;}else if(!startsWithCondition&&includesCondition){return includesCondition;}else return null;});_this.setState({filteredData:filteredData});}};return _this;}_createClass(DataTableCustom,[{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,columns=_this$state.columns,value=_this$state.value,filteredData=_this$state.filteredData;return/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"Custom\")),/*#__PURE__*/React.createElement(CardBody,{className:\"rdt_Wrapper\"},/*#__PURE__*/React.createElement(DataTable,{className:\"dataTable-custom\",data:value.length?filteredData:data,columns:columns,noHeader:true,pagination:true,subHeader:true,subHeaderComponent:/*#__PURE__*/React.createElement(CustomHeader,{value:value,handleFilter:this.handleFilter,tarikData:this.tarikData})})));}}]);return DataTableCustom;}(React.Component);export default DataTableCustom;","map":null,"metadata":{},"sourceType":"module"}