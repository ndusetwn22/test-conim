{"ast":null,"code":"import _defineProperty from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from\"react\";import{api_query}from\"../../../../api/ApiConstant\";import axios from'axios';import{Card,CardHeader,CardTitle,CardBody,FormGroup,Row,Col,Input,Form,Button,CardImg,CustomInput,Label,Modal,ModalHeader,ModalBody,ModalFooter,Alert}from\"reactstrap\";import Checkbox from\"../../../../components/@vuexy/checkbox/CheckboxesVuexy\";import{Check,Star,Save,Send,X,RotateCcw}from\"react-feather\";import{history}from\"../../../../../src/history\";import Select from\"react-select\";import SweetAlert from\"react-bootstrap-sweetalert\";import Toggle from\"react-toggle\";import\"react-toggle/style.css\";import\"../../../../assets/scss/plugins/forms/switch/react-toggle.scss\";import Spinner from\"../../../../components/@vuexy/spinner/Fallback-spinner\";import img1 from\"../../../../assets/img/pages/1.png\";import img2 from\"../../../../assets/img/pages/2.png\";import logo from\"../../../../assets/img/logo/dankos-logo.png\";import{PDFDownloadLink,Document,Page,View,Text,Link,Font,StyleSheet,Image}from'@react-pdf/renderer';var styles=StyleSheet.create({title:{// margin: 20,\nmarginTop:30,marginLeft:20,marginRight:20,fontSize:20,textAlign:'center',// backgroundColor: '#e4e4e4',\nfontWeight:'bold',textDecoration:'underline'// fontFamily: 'Oswald',\n// textTransform: 'uppercase',\n// fontFamily: 'Oswald',\n},image:{marginLeft:40,marginTop:-20,// width: 50, //kesamping\nheight:35//kebawah\n},body:{flexGrow:1},body2:{flexGrow:1},row:{// flexGrow: 1,\nflexDirection:'row'},row2:{flexGrow:1,// marginLeft: 20,\n// marginRight: 20,\nflexDirection:'row'// border: '2px solid rgba(0, 0, 0, 0.05)', \n},row3:{// flexGrow: 1,\n// marginLeft: 20,\n// marginRight: 20,\nflexDirection:'row'},border:{border:'2px solid rgba(0, 0, 0, 0.05)',marginLeft:20,marginRight:20,marginTop:10},border2:{border:'2px solid rgba(0, 0, 0, 0.05)',marginLeft:20,marginRight:10,marginTop:50},border3:{border:'2px solid rgba(0, 0, 0, 0.05)',marginLeft:10,marginRight:20,marginTop:50},border4:{border:'2px solid rgba(0, 0, 0, 0.05)'},block:{flexGrow:1},text:{width:'60%',margin:10,// fontFamily: 'Oswald',\ntextAlign:'justify'},textNoMargin:{width:'50%',// fontFamily: 'Oswald',\ntextAlign:'justify'},fill1:{width:'40%',backgroundColor:'#e14427'},fill2:{flexGrow:2,backgroundColor:'#e6672d'},fill3:{flexGrow:2,backgroundColor:'#e78632'},fill4:{flexGrow:2,backgroundColor:'#e29e37'}});Font.register({family:'Oswald',src:'https://fonts.gstatic.com/s/oswald/v13/Y_TKV6o8WovbUd3m_X9aAA.ttf'});export var MyDoc=function MyDoc(props){return/*#__PURE__*/React.createElement(Document,null,/*#__PURE__*/React.createElement(Page,{size:\"A4\"},/*#__PURE__*/React.createElement(Text,{style:styles.title},\"Lembar Laporan SS\"),/*#__PURE__*/React.createElement(View,{style:styles.body},/*#__PURE__*/React.createElement(View,{style:styles.row},/*#__PURE__*/React.createElement(Image,{src:logo,style:styles.image}),/*#__PURE__*/React.createElement(Text,{style:([styles.text],{fontWeight:'bold',marginLeft:330,fontSize:8})},\"*Nomor SS: \\xA0 \",props.editData.nomor_ss)),/*#__PURE__*/React.createElement(View,{style:styles.border},/*#__PURE__*/React.createElement(View,{style:styles.row},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:3,marginRight:5,width:'50%',textAlign:'justify'}]},\"Tema \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0: \",props.editData.tema),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:3,marginRight:5,width:'50%'}]},\"Kategori** \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0: \",props.editData.nama_kategori)),/*#__PURE__*/React.createElement(View,{style:styles.row},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:3}]},\"Dibuat Oleh (Nama Lengkap): \",\"\\n\",\" \\xA0\\xA0\",\"1. \"+props.editData.pengusul_1,\" \",\"\\n\",\"\\xA0\\xA0\",\"2. \",props.editData.pengusul_id_2=='0'?\"-\":props.editData.pengusul_2),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:8,marginTop:3,marginRight:5,width:'50%'}]},\"Change Control** \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0: \",props.editData.change_control=='Y'?\"Diperlukan CC\":\"Tidak Diperlukan CC\")),/*#__PURE__*/React.createElement(View,{style:styles.row},/*#__PURE__*/React.createElement(Text,{style:([styles.textNoMargin],{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:3})},\"Fasilitator \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0: \",props.atasanNama),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:185,marginTop:3,marginRight:5,width:'50%'}]},\"Nomor CC** \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0: \",props.editData.nomor_cc==''||props.editData.nomor_cc==null?'-':props.editData.nomor_cc)),/*#__PURE__*/React.createElement(View,{style:styles.row2},/*#__PURE__*/React.createElement(Text,{style:([styles.textNoMargin],{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:3})},\"Departemen \\xA0\\xA0: \",props.editData.departement_terdampak),/*#__PURE__*/React.createElement(View,null)),/*#__PURE__*/React.createElement(View,{style:styles.row2},/*#__PURE__*/React.createElement(Text,{style:([styles.textNoMargin],{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:3})},\"Tgl. dibuat \\xA0\\xA0\\xA0\\xA0\\xA0: \",props.editData.tgl),/*#__PURE__*/React.createElement(View,null)),/*#__PURE__*/React.createElement(View,{style:styles.row2},/*#__PURE__*/React.createElement(Text,{style:([styles.textNoMargin],{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:3})},\"Tgl. tutup \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0: \",props.editData.closed_date),/*#__PURE__*/React.createElement(View,null)),/*#__PURE__*/React.createElement(View,{style:styles.row2},/*#__PURE__*/React.createElement(Text,{style:([styles.textNoMargin],{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:3,marginBottom:3})},\"Lokasi \\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0: \",props.editData.lokasi),/*#__PURE__*/React.createElement(View,null)))),/*#__PURE__*/React.createElement(View,{style:[styles.body,{top:-50}]},/*#__PURE__*/React.createElement(View,{style:styles.row},/*#__PURE__*/React.createElement(View,{style:[styles.border2,{width:'50%',height:150}]},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:10,marginLeft:5,marginTop:-13,marginRight:5,width:'100%',textAlign:'justify'}]},\"Permasalahan yang ada\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:5,marginRight:5,paddingRight:10,width:'100%',textAlign:'justify'}]},props.editData.permasalahan)),/*#__PURE__*/React.createElement(View,{style:[styles.border3,{width:'50%',height:150}]},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:10,marginLeft:5,marginTop:-13,marginRight:5,width:'100%',textAlign:'justify'}]},\"Improvement yang dilakukan\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:5,marginRight:5,paddingRight:10,width:'100%',textAlign:'justify'}]},props.editData.improvement)))),/*#__PURE__*/React.createElement(View,{style:[styles.body2,{top:-100}]},/*#__PURE__*/React.createElement(View,{style:styles.row},/*#__PURE__*/React.createElement(View,{style:[styles.border2,{width:'50%',height:200}]},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:10,marginLeft:5,marginTop:-13,marginRight:5,width:'100%',textAlign:'justify'}]},\"Biaya Uraian\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:5,marginRight:5,paddingRight:10,width:'100%',textAlign:'justify'}]},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:6,marginLeft:5,marginTop:-13,marginRight:5,width:'100%',textAlign:'justify'}]},\"Ket: Hitungan setiap biaya/manhours yang dibutuhkan untuk improvement harus terlampir \",\"\\n\\n\"),props.editData.biaya_uraian),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:6,marginLeft:5,marginTop:125,marginRight:5,paddingRight:10,width:'100%',textAlign:'justify'}]},\"Noted: Setiap biaya/manhours yang dibutuhkan untuk improvement dikurangi terhadap total saving yang diperoleh\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{textDecoration:'underline',fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:5,bottom:5,marginTop:10,marginRight:5,width:'100%',textAlign:'justify'}]},\"Total Biaya: \",\"\\n\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:5,marginTop:5,bottom:5,marginRight:5,width:'100%',textAlign:'justify'}]},\"Rp. \",props.editData.biaya.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"))),/*#__PURE__*/React.createElement(View,{style:[styles.border3,{width:'50%',height:200}]},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:10,marginLeft:5,marginTop:-13,marginRight:5,width:'100%',textAlign:'justify'}]},\"Keuntungan \",/*#__PURE__*/React.createElement(\"i\",null,\"(Cost Saving)\"),\" Uraian\"),/*#__PURE__*/React.createElement(View,{style:styles.row},/*#__PURE__*/React.createElement(View,{style:[styles.border4,{width:'50%',height:50}]},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:4,marginTop:5,marginLeft:5,marginRight:5,paddingRight:10,width:'100%',textAlign:'justify'}]},\"Soft saving/potential saving: penghemematan yang didapet secara tidak langsung (waktu/jumlah kasus). \",\"\\n\",\"Cara Hitung 1: **Jam (Penghematan improvement) * jumlah orang * Proses/Kegiatan 1 bulan x harga manhours (23.175) x sisa bulan berjalan sampai akhir tahun (contoh buat conim di Maret maka dikali 9 bulan). \",\"\\n\",\"Cara Hitung 2: **Jumlah kasus dalam satu tahun (Penghematan improvement) x biaya kerugian yang disebabkan oleh setiap kasus tersebut.\")),/*#__PURE__*/React.createElement(View,{style:[styles.border4,{width:'50%',height:50}]},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:4,marginTop:5,marginLeft:5,marginRight:5,paddingRight:10,width:'100%',textAlign:'justify'}]},\"Hard Saving: Penghematan yang di dapat secara langsung, (Contoh: Penghematan harga bahan/reagen/material/energi). \",\"\\n\",\"Cara Hitung: Selisih harga per pcs/bahan/reagen/energi (Penghematan improvement) * proses/kegiatan 1 bulan * sisa bulan berjalan sampai akhir tahun (contoh buat conim di maret Maret maka dikali 9 bulan). \",\"\\n\",\"Jika menggunakan jumlah BN, maka gunakan ROFO 1 tahun.\"))),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:6,marginLeft:5,marginTop:3,marginRight:5,width:'100%',textAlign:'justify'}]},props.editData.jenis_saving=='PS'?'Soft Saving':props.editData.jenis_saving=='HS'?'Hard Saving':'Soft Saving / Hard Saving'),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:5,marginRight:5,paddingRight:10,width:'100%',textAlign:'justify'}]},props.editData.keuntungan_uraian),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{textDecoration:'underline',fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:5,bottom:-100,marginTop:-5,marginRight:5,width:'100%',textAlign:'justify'}]},\"Total Keuntungan: \",\"\\n\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:5,marginTop:0,bottom:-105,marginRight:5,width:'100%',textAlign:'justify'}]},\"Rp. \",props.editData.keuntungan.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"))))),/*#__PURE__*/React.createElement(View,{style:[styles.body,{top:-110}]},/*#__PURE__*/React.createElement(View,{style:[styles.border,{height:80}]},/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:10,marginLeft:5,marginTop:-13,marginRight:5,width:'100%',textAlign:'justify'}]},\"Catatan **\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontSize:8,marginLeft:5,marginTop:5,marginRight:5,width:'100%',textAlign:'justify'}]},props.editData.catatan_reject_delete==null||props.editData.catatan_reject_delete==''?'':props.editData.catatan_reject_delete,\" \",\"\\n\\n\",props.editData.catatan_return==null||props.editData.catatan_return==''?'':props.editData.catatan_return),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:6,marginLeft:10,marginTop:90,marginRight:5,width:'100%',textAlign:'justify'}]},\"* Diisi oleh MSTD\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:6,marginLeft:100,marginTop:0,marginRight:5,width:'100%',textAlign:'justify'}]},\"** Diisi oleh Spv/Mgr Area\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:5,marginTop:20,marginRight:5,width:'100%',textAlign:'justify'}]},\"Dibuat oleh :\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:400,marginTop:0,marginRight:5,width:'100%',textAlign:'justify'}]},\"Disetujui oleh :\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:5,marginTop:25,marginRight:5,width:'100%',textAlign:'justify'}]},\"Signed by System\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:400,marginTop:0,marginRight:5,width:'100%',textAlign:'justify'}]},\"Signed by System\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:5,marginTop:25,marginRight:5,width:'100%',textAlign:'justify'}]},\"___________________________\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:400,marginTop:0,marginRight:5,width:'100%',textAlign:'justify'}]},\"___________________________\"),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:5,marginTop:12,marginRight:5,width:'100%',textAlign:'justify'}]},props.editData.pengusul_1),/*#__PURE__*/React.createElement(Text,{style:[styles.textNoMargin,{fontWeight:'bold',fontStyle:'italic',fontSize:8,marginLeft:400,marginTop:0,marginRight:5,width:'100%',textAlign:'justify'}]},props.atasanNama)))));};var MstdListSsView=/*#__PURE__*/function(_React$Component){_inherits(MstdListSsView,_React$Component);var _super=_createSuper(MstdListSsView);function MstdListSsView(props){var _this;_classCallCheck(this,MstdListSsView);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tmp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({isLoading:true});case 2:_context.next=4;return _this.isLogin('mstd_df');case 4:_context.next=6;return _this.tarikDataProfile();case 6:_context.next=8;return _this.tarikKategori2();case 8:_context.next=10;return _this.tarikPartner2();case 10:// await this.tarikNomorSS();\ntmp=_this.state.dataAtasan.filter(function(x){return x.value===_this.state.ssAtasanSelected;});tmp=tmp[0].label==='0'||tmp[0].label==null||tmp[0].label===undefined?\"-\":tmp[0].label;_this.setState({atasanNama:tmp});//   console.log('state biaya : ', this.state.ssBiaya)\n//   console.log('state keuntungan : ', this.state.ssKeuntungan)\n_context.next=15;return _this.setState({isLoading:false});case 15:console.log('props edit : ',_this.props);case 16:case\"end\":return _context.stop();}}},_callee);}));_this.onImageChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var reader;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({fotoKondisiSebelumFile:event.target.files});if(event.target.files&&event.target.files[0]){reader=new FileReader();reader.onload=function(e){_this.setState({fotoKondisiSebelum:e.target.result});};reader.readAsDataURL(event.target.files[0]);}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.onImageChange2=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var reader;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({fotoKondisiSesudahFile:event.target.files});if(event.target.files&&event.target.files[0]){reader=new FileReader();reader.onload=function(e){_this.setState({fotoKondisiSesudah:e.target.result});};reader.readAsDataURL(event.target.files[0]);}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.tarikPartner2=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var sql,result;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:sql=\"\\n  select id as value,\\n    name as label,\\n    departement_id\\n  from df_master_user dmu\\n  where dmu.id = \"+_this.props.editData.pengusul_id_2+\"\\n  order by dmu.name asc\\n  \";_context5.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(result){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:res=result.data.response.rows;console.log('result query atasan : ',res);if(!(res.length=='')){_context4.next=4;break;}return _context4.abrupt(\"return\",[]);case 4:_context4.next=6;return _this.setState({dataPartner:res});case 6:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref5.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context5.sent;case 4:case\"end\":return _context5.stop();}}},_callee5);}));_this.toggleModal=function(){_this.setState(function(prevState){return{modal:!prevState.modal};});};_this.toggleModalFix=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var sql,result;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_this.setState(function(prevState){return{modal:!prevState.modal};});// if (this.state.noCFF == '' || this.state.noCFF == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'No CFF Tidak Boleh Kosong', 'warning')}\nif(!(_this.state.noSS==''||_this.state.noSS==null)){_context8.next=7;break;}_context8.next=4;return _this.handleAlert('isSweetAlert',true,'Warning','No SS Tidak Boleh Kosong','warning');case 4:return _context8.abrupt(\"return\",_context8.sent);case 7:// Ngecek jika ada cost saving maka lanjut ke FA, jika tidak maka ke MSTD Spv\nif(_this.state.ssBiaya==0&&_this.state.ssKeuntungan==0){// Tidak ada cost saving gausah kategori 2 \n// var sql = `\n// with ins1 as(\n//     update df_cff\n//     set\n//     nomor_cff = '`+this.state.noCFF+`',\n//     status_cff_id = 5,\n//     update_by = `+this.state.myProfile.id+`,\n//     update_date = now()\n//     where id = `+this.props.editData.cff_id+`\n// returning id as return_id\n// )\n//     update df_ss\n//     set\n//     nomor_ss = '`+this.state.noSS+`',\n//     ss_status_id = 5,\n//     update_by = `+this.state.myProfile.id+`,\n//     update_date = now()\n//     where id = `+this.props.editData.ds_id+`\n// `\n// kalo cost saving 0 -> nggausah masukin kategori_2\nsql=\"\\n            with ins1 as (\\n              update df_suggestion_system\\n              set\\n              nomor_ss = '\"+_this.state.noSS+\"',\\n              ss_status_id = 5,\\n              closed_date = now(),\\n              update_by = \"+_this.state.myProfile.id+\",\\n              update_date = timezone('utc-7', now())\\n              where id = \"+_this.props.editData.ds_id+\"\\n            returning id as return_id)\\n\\n              INSERT INTO df_ss_history_approval\\n              (ss_id, approved_rejected_by_id, approval_rejected_status, create_by, create_date)\\n              VALUES((select return_id from ins1), \"+_this.state.myProfile.id+\", 'Approved', \"+_this.state.myProfile.id+\", timezone('utc-7', now()));\\n          \";}else{// Ada cost saving\n// var sql = `\n//     with ins1 as(\n//         update df_cff\n//         set\n//         nomor_cff = '`+this.state.noCFF+`',\n//         status_cff_id = 4,\n//         update_by = `+this.state.myProfile.id+`,\n//         update_date = now()\n//         where id = `+this.props.editData.cff_id+`\n//     returning id as return_id\n//     )\n//         update df_ss\n//         set\n//         nomor_ss = '`+this.state.noSS+`',\n//         ss_status_id = 4,\n//         update_by = `+this.state.myProfile.id+`,\n//         update_date = now()\n//         where id = `+this.props.editData.ds_id+`\n//     `\nsql=\"\\n          with ins1 as(\\n            update df_suggestion_system\\n            set\\n            nomor_ss = '\"+_this.state.noSS+\"',\\n            ss_status_id = 4,\\n            ss_kategori_2_id = \"+_this.state.kategoriSelected2+\",\\n            closed_date = now(),\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = timezone('utc-7', now())\\n            where id = \"+_this.props.editData.ds_id+\"\\n          returning id as return_id)\\n\\n            INSERT INTO df_ss_history_approval\\n            (ss_id, approved_rejected_by_id, approval_rejected_status, create_by, create_date)\\n            VALUES((select return_id from ins1), \"+_this.state.myProfile.id+\", 'Approved', \"+_this.state.myProfile.id+\", timezone('utc-7', now()));\\n        \";}// console.log('sql : ', sql)\n_context8.next=10;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(result){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:res=result.data.response;// await this.nomorPlusOne();\n// Beda dgn sweetAlert yg lain\n_context6.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil Approve SS','success');case 3:return _context6.abrupt(\"return\",_context6.sent);case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4){return _ref7.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(err){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log('error : ',err);_context7.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal Approve SS','danger');case 3:return _context7.abrupt(\"return\",_context7.sent);case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref8.apply(this,arguments);};}());case 10:result=_context8.sent;case 11:case\"end\":return _context8.stop();}}},_callee8);}));_this.toggleModalReject=function(){_this.setState(function(prevState){return{modalReject:!prevState.modalReject};});};_this.toggleModalRejectFix=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var sql,result;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_this.setState(function(prevState){return{modalReject:!prevState.modalReject};});if(!(_this.state.alasanReject==''||_this.state.alasanReject==null)){_context11.next=7;break;}_context11.next=4;return _this.handleAlert('isSweetAlert',true,'Warning','Alasan Reject Tidak Boleh Kosong','warning');case 4:return _context11.abrupt(\"return\",_context11.sent);case 7:// let sql = `\n//     with ins1 as(\n//         update df_cff\n//         set\n//         status_cff_id = 8,\n//         update_by = `+this.state.myProfile.id+`,\n//         update_date = now()\n//         where id = `+this.props.editData.cff_id+`\n//     returning id as return_id\n//     )\n//         update df_ss\n//         set\n//         catatan_reject_delete = '`+this.state.alasanReject+`',\n//         ss_status_id = 8,\n//         update_by = `+this.state.myProfile.id+`,\n//         update_date = now()\n//         where id = `+this.props.editData.ds_id+`\n//     `\nsql=\"\\n          with ins1 as (  \\n            update df_suggestion_system\\n            set\\n            catatan_reject_delete = '\"+_this.state.alasanReject+\"',\\n            ss_status_id = 8,\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = timezone('utc-7', now())\\n            where id = \"+_this.props.editData.ds_id+\"\\n          returning id as return_id)\\n\\n            INSERT INTO df_ss_history_approval\\n            (ss_id, approved_rejected_by_id, approval_rejected_status, create_by, create_date)\\n            VALUES((select return_id from ins1), \"+_this.state.myProfile.id+\", 'Rejected', \"+_this.state.myProfile.id+\", timezone('utc-7', now()));\\n        \";// console.log('sql : ', sql)\n_context11.next=10;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(result){var res;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context9.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil Reject SS','success');case 3:return _context9.abrupt(\"return\",_context9.sent);case 4:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x6){return _ref10.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(err){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:console.log('error : ',err);_context10.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal Reject SS','danger');case 3:return _context10.abrupt(\"return\",_context10.sent);case 4:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x7){return _ref11.apply(this,arguments);};}());case 10:result=_context11.sent;case 11:case\"end\":return _context11.stop();}}},_callee11);}));_this.toggleModalReturn=function(){_this.setState(function(prevState){return{modalReturn:!prevState.modalReturn};});};_this.toggleModalReturnFix=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(){var sql,result;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_this.setState(function(prevState){return{modalReturn:!prevState.modalReturn};});if(!(_this.state.alasanReturn==''||_this.state.alasanReturn==null)){_context14.next=7;break;}_context14.next=4;return _this.handleAlert('isSweetAlert',true,'Warning','Alasan Return Tidak Boleh Kosong','warning');case 4:return _context14.abrupt(\"return\",_context14.sent);case 7:// let sql = `\n//     with ins1 as(\n//         update df_cff\n//         set\n//         status_cff_id = 7,\n//         update_by = `+this.state.myProfile.id+`,\n//         update_date = now()\n//         where id = `+this.props.editData.cff_id+`\n//     returning id as return_id\n//     )\n//         update df_ss\n//         set\n//         catatan_return = '`+this.state.alasanReturn+`',\n//         ss_status_id = 7,\n//         update_by = `+this.state.myProfile.id+`,\n//         update_date = now()\n//         where id = `+this.props.editData.ds_id+`\n//     `\nsql=\"\\n          with ins1 as (\\n            update df_suggestion_system\\n            set\\n            catatan_return = '\"+_this.state.alasanReturn+\"',\\n            ss_status_id = 7,\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = timezone('utc-7', now())\\n            where id = \"+_this.props.editData.ds_id+\"\\n          returning id as return_id)\\n\\n            INSERT INTO df_ss_history_approval\\n            (ss_id, approved_rejected_by_id, approval_rejected_status, create_by, create_date)\\n            VALUES((select return_id from ins1), \"+_this.state.myProfile.id+\", 'Returned', \"+_this.state.myProfile.id+\", timezone('utc-7', now()));\\n        \";// console.log('sql : ', sql)\n_context14.next=10;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(result){var res;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context12.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil Return SS','success');case 3:return _context12.abrupt(\"return\",_context12.sent);case 4:case\"end\":return _context12.stop();}}},_callee12);}));return function(_x8){return _ref13.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(err){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:console.log('error : ',err);_context13.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal Return SS','danger');case 3:return _context13.abrupt(\"return\",_context13.sent);case 4:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x9){return _ref14.apply(this,arguments);};}());case 10:result=_context14.sent;case 11:case\"end\":return _context14.stop();}}},_callee14);}));_this.isLogin=/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(role){var myProfile;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:if(localStorage.getItem('account')==undefined||localStorage.getItem('account')==null){history.push(\"/pages/login\");}else if(JSON.parse(localStorage.getItem('account')).role!==role){history.push(\"/pages/login\");}else{myProfile=JSON.parse(localStorage.getItem('account'));console.log('myProfile ss : ',myProfile);_this.setState({myProfile:myProfile});}case 1:case\"end\":return _context15.stop();}}},_callee15);}));return function(_x10){return _ref15.apply(this,arguments);};}();_this.tarikAtasan=/*#__PURE__*/function(){var _ref16=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(departement_id){var sql,result;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:sql=\"\\n  select id as value,\\n    name as label,\\n    departement_id\\n  from df_master_user dmu\\n  where job_level = '4'\\n  \";_context17.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(result){var res;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:res=result.data.response.rows;console.log('result query atasan : ',res);if(!(res.length=='')){_context16.next=4;break;}return _context16.abrupt(\"return\",[]);case 4:_context16.next=6;return _this.setState({dataAtasan:res});case 6:case\"end\":return _context16.stop();}}},_callee16);}));return function(_x12){return _ref17.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context17.sent;case 4:case\"end\":return _context17.stop();}}},_callee17);}));return function(_x11){return _ref16.apply(this,arguments);};}();_this.tarikNomorSS=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(){var sql,result;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:sql=\"\\n      select  id, nomor\\n      from df_nomor_ss\\n    \";_context19.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref19=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(result){var res,currentTime,year,tmp;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:res=result.data.response.rows[0];console.log('result query kategori : ',res);if(!(res.length=='')){_context18.next=4;break;}return _context18.abrupt(\"return\",[]);case 4:// var myTmp = null\n// Return today's date and time\ncurrentTime=new Date();// returns the year (four digits)\nyear=currentTime.getFullYear();// var tmp = 'SS/'+toString(year)+toString(this.state.nomorSS.nomor)\ntmp='SS/'+year+'/'+res.nomor;// setTimeout(async() => {\n//   console.log('SS : ', tmp)\n// }, 3000);\nconsole.log('nomor ss: ',tmp);// console.log('year : ', year)\n// console.log('nomor : ', res.nomor)\n_context18.next=10;return _this.setState({noSS:tmp});case 10:case\"end\":return _context18.stop();}}},_callee18);}));return function(_x13){return _ref19.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context19.sent;case 4:case\"end\":return _context19.stop();}}},_callee19);}));_this.tarikKategori2=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(){var sql,result;return _regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:sql=\"\\n  select  id as value,\\n          nama_kategori_2 as label\\n  from df_ss_kategori_2\\n\";_context21.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref21=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(result){var res;return _regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:res=result.data.response.rows;console.log('result query kategori : ',res);if(!(res.length=='')){_context20.next=4;break;}return _context20.abrupt(\"return\",[]);case 4:_context20.next=6;return _this.setState({dataKategori:res});case 6:case\"end\":return _context20.stop();}}},_callee20);}));return function(_x14){return _ref21.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context21.sent;case 4:case\"end\":return _context21.stop();}}},_callee21);}));_this.tarikDataProfile=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee23(){var sql,result;return _regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:sql=\"\\n      select nik, name, departement_id, nama_departemen, job_level from df_master_user dmu\\n      join df_master_departement dmd\\n      on dmu.departement_id = dmd.id\\n      where dmu.id = \"+_this.props.editData.pengusul_id+\"\\n  \";_context23.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref23=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(result){var res;return _regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:res=result.data.response.rows[0];console.log('result query profile : ',res);if(!(res.length=='')){_context22.next=6;break;}return _context22.abrupt(\"return\");case 6:_context22.next=8;return _this.tarikAtasan(res.departement_id);case 8:_context22.next=10;return _this.setState({cffNik:res.nik,cffName:res.name,cffNamaDepartemen:res.nama_departemen});case 10:case\"end\":return _context22.stop();}}},_callee22);}));return function(_x15){return _ref23.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context23.sent;case 4:case\"end\":return _context23.stop();}}},_callee23);}));_this.tarikDataFormCff=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee25(){var sql,result;return _regeneratorRuntime.wrap(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:sql=\"\\n      select * from df_cff dc where dc.id = \"+_this.props.editData.cff_id+\"\\n  \";_context25.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref25=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee24(result){var res;return _regeneratorRuntime.wrap(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:res=result.data.response.rows[0];console.log('result query cff : ',res);if(!(res.length=='')){_context24.next=6;break;}return _context24.abrupt(\"return\");case 6:_context24.next=8;return _this.setState({cffKondisiSaatIni:res.kondisi_sekarang,cffKondisiDiusulkan:res.kondisi_diusulkan,cffAlasanPerubahan:res.alasan_perubahan,cffDampakPerubahan:res.dampak_perubahan});case 8:case\"end\":return _context24.stop();}}},_callee24);}));return function(_x16){return _ref25.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context25.sent;case 4:case\"end\":return _context25.stop();}}},_callee25);}));_this.handleAlertConfirm=function(state,value,title,text,type){if(value){_this.setState(_defineProperty({},state,value));_this.setState({sweetAlertTitleConfirm:title,sweetAlertTextConfirm:text,sweetAlertTypeConfirm:type});}else{_this.setState(_defineProperty({},state,value));_this.props.changeViewPage('page');}// if(text == \"Berhasil membuat SS\"){\n//   this.setState({ [state] : value })\n//   this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n//   // this.props.changeViewPage('page')\n// }else{}\n};_this.handleAlert=function(state,value,title,text,type){if(value){_this.setState(_defineProperty({},state,value));_this.setState({sweetAlertTitle:title,sweetAlertText:text,sweetAlertType:type});}else{_this.setState(_defineProperty({},state,value));}};_this.state={fotoKondisiSebelum:_this.props.editData.foto_kondisi_sebelum!=''?_this.props.editData.foto_kondisi_sebelum:img1,fotoKondisiSebelumFile:null,fotoKondisiSesudah:_this.props.editData.foto_kondisi_sesudah!=''?_this.props.editData.foto_kondisi_sesudah:img2,fotoKondisiSesudahFile:null,isCheckedFoto:_this.props.editData.foto_kondisi_sebelum!=''||_this.props.editData.foto_kondisi_sesudah!=''?true:false,img:img2,isLoading:false,myProfile:null,step:0,isCheckedPartner:_this.props.editData.pengusul_id_2==0?false:true,ssPartner:_this.props.editData.pengusul_id_2,dataPartner:[],modal:false,modalReject:false,modalReturn:false,alasanReject:'',alasanReturn:'',//old\ndataKategori:[],kategoriSelected:null,kategoriSelected2:null,isChecked:false,catatanCC:'',//baru\nnoCFF:'',noSS:'',isSweetAlert:false,sweetAlertTitle:'Judul',sweetAlertText:'Text',sweetAlertType:'warning',isSweetAlertConfirm:false,sweetAlertTitleConfirm:'Judul',sweetAlertTextConfirm:'Text',sweetAlertTypeConfirm:'warning',dataAtasan:[],cffNik:'',cffName:'',cffNamaDepartemen:'',cffKondisiSaatIni:'',cffKondisiDiusulkan:'',cffAlasanPerubahan:'',cffDampakPerubahan:'',// ssAtasanSelected: null,\n// ssTema: '',\n// ssLokasi: '',\n// ssKondisiSebelum: '',\n// ssKondisiSesudah: '',\n// ssPermasalahan: '',\n// ssImprovement: '',\n// ssBiaya: 0,\n// ssBiayaUraian: '',\n// ssKeuntungan: 0,\n// ssKeuntunganUraian: '',\n/////////\n// cffNik: '',\n// cffName: '',\n// cffKondisiSaatIni: this.props.editData.kondisi_sekarang,\n// cffKondisiDiusulkan: this.props.editData.kondisi_diusulkan,\n// cffAlasanPerubahan: this.props.editData.alasan_perubahan,\n// cffDampakPerubahan: this.props.editData.dampak_perubahan,\nssAtasanSelected:_this.props.editData.fasilitator_id,ssTema:_this.props.editData.tema,ssLokasi:_this.props.editData.lokasi,// ssKondisiSebelum: this.props.editData.kondisi_sebelum,\n// ssKondisiSesudah: this.props.editData.kondisi_sesudah,\nssPermasalahan:_this.props.editData.permasalahan,ssImprovement:_this.props.editData.improvement,ssBiaya:parseInt(_this.props.editData.biaya),ssBiayaUraian:_this.props.editData.biaya_uraian,ssKeuntungan:parseInt(_this.props.editData.keuntungan),ssKeuntunganUraian:_this.props.editData.keuntungan_uraian,nomorSS:0,atasanNama:'-'};return _this;}_createClass(MstdListSsView,[{key:\"render\",value:function render(){var _this2=this;// const [centeredModal, setCenteredModal] = useState(false)\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,this.state.isLoading?/*#__PURE__*/React.createElement(Spinner,null):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-start\"},/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-warning mb-1 ml-1\",onClick:function onClick(){return _this2.props.changeViewPage();}},\"Back\"),/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-success mb-1 ml-1\"},/*#__PURE__*/React.createElement(PDFDownloadLink,{document:/*#__PURE__*/React.createElement(MyDoc,Object.assign({},this.state,this.props)),fileName:\"ss-file.pdf\",style:{color:'white'}},function(_ref26){var blob=_ref26.blob,url=_ref26.url,loading=_ref26.loading,error=_ref26.error;return loading?'Loading document...':'Download pdf';}))),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"SS Form\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"nik\"},\"NIK\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"nik\",id:\"nik\",placeholder:\"NIK\"// value={this.state.myProfile == null ? '':this.state.myProfile.nik}\n,value:this.state.cffNik,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"name\",id:\"name\",placeholder:\"Name\"// value={this.state.myProfile == null ? '':this.state.myProfile.name}\n,value:this.state.cffName,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"departement\"},\"Departement\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"departement\",id:\"departement\",placeholder:\"Departement\"// value={this.state.myProfile == null ? '':this.state.myProfile.nama_departemen}\n,value:this.state.cffNamaDepartemen,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(FormGroup,null,\"Pengusul 2 : \\xA0\",/*#__PURE__*/React.createElement(\"i\",null,\"*optional\"),\"\\n\",/*#__PURE__*/React.createElement(\"label\",{className:\"react-toggle-wrapper\"},/*#__PURE__*/React.createElement(Toggle,{checked:this.state.isCheckedPartner// onChange={this.handleSwitchChange}\n,onChange:function onChange(){return _this2.setState({isCheckedPartner:!_this2.state.isCheckedPartner});},name:\"controlledSwitch\",className:\"mt-1\",disabled:true// value=\"yes\"\n})))),this.state.isCheckedPartner?/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Pilih Pengusul 2\"),/*#__PURE__*/React.createElement(Select,{className:\"React\",classNamePrefix:\"select\",defaultValue:this.state.dataPartner.filter(function(x){return x.value==_this2.state.ssPartner;}),name:\"clear\",options:this.state.dataPartner,onChange:function onChange(val){return _this2.setState({ssPartner:val.value});},isDisabled:true}))):null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Pilih Fasilitator\"),/*#__PURE__*/React.createElement(Select,{className:\"React\",classNamePrefix:\"select\"// defaultValue={colourOptions[1]}\n,defaultValue:this.state.dataAtasan.filter(function(x){return x.value===_this2.state.ssAtasanSelected;}),name:\"clear\",options:this.state.dataAtasan// isClearable={true}\n,onChange:function onChange(val){return _this2.setState({ssAtasanSelected:val.value});},isDisabled:true// disabled\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssTema\"},\"Tema\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"ssTema\",id:\"ssTema\",placeholder:\"Tema\",value:this.state.ssTema,onChange:function onChange(val){return _this2.setState({ssTema:val.target.value});},disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssLokasi\"},\"Lokasi\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"ssLokasi\",id:\"ssLokasi\",placeholder:\"Lokasi Suggestion System\",value:this.state.ssLokasi,onChange:function onChange(val){return _this2.setState({ssLokasi:val.target.value});},disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Permasalahan yang ada\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssPermasalahan\",onChange:function onChange(val){return _this2.setState({ssPermasalahan:val.target.value});},value:this.state.ssPermasalahan,placeholder:'Jelaskan permasalahan yang ada',disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Improvement yang dilakukan\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssImprovement\",onChange:function onChange(val){return _this2.setState({ssImprovement:val.target.value});},value:this.state.ssImprovement,placeholder:'Jelaskan improvement yang dilakukan',disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(FormGroup,null,\"Melampirkan foto : \\xA0\",/*#__PURE__*/React.createElement(\"i\",null,\"*optional\"),\"\\n\",/*#__PURE__*/React.createElement(\"label\",{className:\"react-toggle-wrapper\"},/*#__PURE__*/React.createElement(Toggle,{checked:this.state.isCheckedFoto// onChange={this.handleSwitchChange}\n,onChange:function onChange(){return _this2.setState({isCheckedFoto:!_this2.state.isCheckedFoto});},name:\"controlledSwitch\",className:\"mt-1\",disabled:true// value=\"yes\"\n})))),this.state.isCheckedFoto?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,{className:\"d-flex flex-wrap justify-content-center\"},/*#__PURE__*/React.createElement(Col,{lg:\"4\",md:\"6\",sm:\"6\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardImg,{onContextMenu:function onContextMenu(e){return e.preventDefault();},className:\"img-fluid mb-2\"// src={'https://firebasestorage.googleapis.com/v0/b/df-conim.appspot.com/o/dev%2Fss%2F2%2FKondisiSebelum?alt=media&token=4e77a992-3047-46d4-a141-f2dbe63b6b94'}\n,src:this.state.fotoKondisiSebelum,alt:\"card image cap\"// style={{width: 400, height: 300}}\n}),/*#__PURE__*/React.createElement(\"p\",null,\"Kondisi Sebelum\")))),/*#__PURE__*/React.createElement(Col,{lg:\"4\",md:\"6\",sm:\"6\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardImg,{onContextMenu:function onContextMenu(e){return e.preventDefault();},className:\"img-fluid mb-2\",src:this.state.fotoKondisiSesudah,alt:\"card image cap\"// style={{width: 400, height: 300}}\n}),/*#__PURE__*/React.createElement(\"p\",null,\"Kondisi Sesudah\"))))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"has-icon-left position-relative\"},/*#__PURE__*/React.createElement(Label,{for:\"profileImage\"},\"Pilih Foto Kondisi Sebelum\"),/*#__PURE__*/React.createElement(CustomInput,{type:\"file\",id:\"exampleCustomFileBrowser\",name:\"profileImage\",accept:\"image/*\",onChange:function onChange(event){return _this2.onImageChange(event);},disabled:true// onChange={(val)=>this.setState({fotoKondisiSebelum:val.target.files})}\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"has-icon-left position-relative\"},/*#__PURE__*/React.createElement(Label,{for:\"profileImage\"},\"Pilih Foto Kondisi Sesudah\"),/*#__PURE__*/React.createElement(CustomInput,{type:\"file\",id:\"exampleCustomFileBrowser\",name:\"profileImage\",accept:\"image/*\",onChange:function onChange(event){return _this2.onImageChange2(event);},disabled:true// onChange={(val)=>this.setState({fotoKondisiSebelum:val.target.files})}\n})))):null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Biaya Uraian\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssBiayaUraian\",onChange:function onChange(val){return _this2.setState({ssBiayaUraian:val.target.value});},value:this.state.ssBiayaUraian,placeholder:'Jelaskan uraian biaya yang dibutuhkan',disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssBiaya\"},\"Total Biaya\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"ssBiaya\",id:\"ssBiaya\",placeholder:\"Total biaya\",value:this.state.ssBiaya,onChange:function onChange(val){return _this2.setState({ssBiaya:val.target.value});},disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Keuntungan (Cost Saving) Uraian\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssKeuntunganUraian\",onChange:function onChange(val){return _this2.setState({ssKeuntunganUraian:val.target.value});},value:this.state.ssKeuntunganUraian,placeholder:'Jelaskan uraian keuntungan (cost saving)',disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssKeuntungan\"},\"Total Keuntungan (cost saving)\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"ssKeuntungan\",id:\"ssKeuntungan\",placeholder:\"Total keuntungan (cost saving)\",value:this.state.ssKeuntungan,onChange:function onChange(val){return _this2.setState({ssKeuntungan:val.target.value});},disabled:true// required\n})))))))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modal,toggle:this.toggleModal,className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModal,className:\"bg-success\"},\"Approve Suggestion System\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(Row,null,this.state.ssBiaya==0&&this.state.ssKeuntungan==0?null:/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Pilih Kategori Suggestion System 2\"),/*#__PURE__*/React.createElement(Select,{className:\"React\",classNamePrefix:\"select\",value:this.state.dataKategori.filter(function(option){return option.value==_this2.state.kategoriSelected2;}),name:\"clear\",options:this.state.dataKategori// isClearable={true}\n,onChange:function onChange(val){return _this2.setState({kategoriSelected2:val.value});}// onChange={(val)=>this.setState({ssAtasanSelected: val.target.value})}\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"catatan\"},\"No SS\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"noSS\",id:\"noSS\",placeholder:\"No SS\",value:this.state.noSS,onChange:function onChange(val){return _this2.setState({noSS:val.target.value});}// required\n,disabled:true}))))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:this.toggleModalFix},\"Approve\"),\" \")),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modalReject,toggle:this.toggleModalReject,className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModalReject,className:\"bg-danger\"},\"Reject Suggestion System\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"nik\"},\"Alasan reject\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"reject\",id:\"reject\",placeholder:\"Jelaskan alasan reject\",value:this.state.alasanReject,onChange:function onChange(val){return _this2.setState({alasanReject:val.target.value});}// disabled\n})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"none\",className:\"bg-gradient-danger\",onClick:this.toggleModalRejectFix},\"Reject\"),\" \")),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modalReturn,toggle:this.toggleModalReturn,className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModalReturn,className:\"bg-primary\"},\"Return Suggestion System\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"nik\"},\"Alasan return\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"return\",id:\"return\",placeholder:\"Jelaskan alasan return\",value:this.state.alasanReturn,onChange:function onChange(val){return _this2.setState({alasanReturn:val.target.value});}// disabled\n})))),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"none\",className:\"bg-gradient-primary\",onClick:this.toggleModalReturnFix},\"Return\"),\" \")),/*#__PURE__*/React.createElement(SweetAlert,{type:this.state.sweetAlertType,title:this.state.sweetAlertTitle,show:this.state.isSweetAlert,onConfirm:function onConfirm(){return _this2.handleAlert(\"isSweetAlert\",false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"sweet-alert-text\"},this.state.sweetAlertText)),/*#__PURE__*/React.createElement(SweetAlert,{type:this.state.sweetAlertTypeConfirm,title:this.state.sweetAlertTitleConfirm,show:this.state.isSweetAlertConfirm,onConfirm:function onConfirm(){return _this2.handleAlertConfirm(\"isSweetAlertConfirm\",false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"sweet-alert-text\"},this.state.sweetAlertTextConfirm)));}}]);return MstdListSsView;}(React.Component);export default MstdListSsView;","map":null,"metadata":{},"sourceType":"module"}