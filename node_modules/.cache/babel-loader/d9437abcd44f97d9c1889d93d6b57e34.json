{"ast":null,"code":"var _jsxFileName = \"/Users/pandusetiawan/Documents/react/df-v1.1/src/views/ui-elements/data-list/DataListConfig.js\";\nimport React, { Component } from \"react\";\nimport { Button, Progress, UncontrolledDropdown, DropdownMenu, DropdownToggle, DropdownItem, Input } from \"reactstrap\";\nimport DataTable from \"react-data-table-component\";\nimport classnames from \"classnames\";\nimport ReactPaginate from \"react-paginate\";\nimport { history } from \"../../../history\";\nimport { Edit, Trash, ChevronDown, Plus, Check, ChevronLeft, ChevronRight } from \"react-feather\";\nimport { connect } from \"react-redux\";\nimport { getData, getInitialData, deleteData, updateData, addData, filterData } from \"../../../redux/actions/data-list/\";\nimport Sidebar from \"./DataListSidebar\";\nimport Chip from \"../../../components/@vuexy/chips/ChipComponent\";\nimport Checkbox from \"../../../components/@vuexy/checkbox/CheckboxesVuexy\";\nimport \"../../../assets/scss/plugins/extensions/react-paginate.scss\";\nimport \"../../../assets/scss/pages/data-list.scss\";\nconst chipColors = {\n  \"on hold\": \"warning\",\n  delivered: \"success\",\n  pending: \"primary\",\n  canceled: \"danger\"\n};\nconst selectedStyle = {\n  rows: {\n    selectedHighlighStyle: {\n      backgroundColor: \"rgba(115,103,240,.05)\",\n      color: \"#7367F0 !important\",\n      boxShadow: \"0 0 1px 0 #7367F0 !important\",\n      \"&:hover\": {\n        transform: \"translateY(0px) !important\"\n      }\n    }\n  }\n};\n\nconst ActionsComponent = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-list-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Edit, {\n    className: \"cursor-pointer mr-1\",\n    size: 20,\n    onClick: () => {\n      return props.currentData(props.row);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Trash, {\n    className: \"cursor-pointer\",\n    size: 20,\n    onClick: () => {\n      props.deleteRow(props.row);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst CustomHeader = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-list-header d-flex justify-content-between flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actions-left d-flex flex-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    className: \"data-list-dropdown mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    className: \"p-1\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"align-middle mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, \"Actions\"), /*#__PURE__*/React.createElement(ChevronDown, {\n    size: 15,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(DropdownMenu, {\n    tag: \"div\",\n    right: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    tag: \"a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, \"Delete\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    tag: \"a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, \"Archive\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    tag: \"a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, \"Print\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    tag: \"a\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }\n  }, \"Export\"))), /*#__PURE__*/React.createElement(Button, {\n    className: \"add-new-btn\",\n    color: \"primary\",\n    onClick: () => props.handleSidebar(true, true),\n    outline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Plus, {\n    size: 15,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"align-middle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Add New\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actions-right d-flex flex-wrap mt-sm-0 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n    className: \"data-list-rows-dropdown mr-1 d-md-block d-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DropdownToggle, {\n    color: \"\",\n    className: \"sort-dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"align-middle mx-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, `${props.index[0]} - ${props.index[1]} of ${props.total}`), /*#__PURE__*/React.createElement(ChevronDown, {\n    size: 15,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(DropdownMenu, {\n    tag: \"div\",\n    right: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(DropdownItem, {\n    tag: \"a\",\n    onClick: () => props.handleRowsPerPage(4),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    tag: \"a\",\n    onClick: () => props.handleRowsPerPage(10),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }\n  }, \"10\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    tag: \"a\",\n    onClick: () => props.handleRowsPerPage(15),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"15\"), /*#__PURE__*/React.createElement(DropdownItem, {\n    tag: \"a\",\n    onClick: () => props.handleRowsPerPage(20),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, \"20\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    onChange: e => props.handleFilter(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 11\n    }\n  }))));\n};\n\nclass DataListConfig extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [],\n      totalPages: 0,\n      currentPage: 0,\n      columns: [{\n        name: \"Name\",\n        selector: \"name\",\n        sortable: true,\n        minWidth: \"300px\",\n        cell: row => /*#__PURE__*/React.createElement(\"p\", {\n          title: row.name,\n          className: \"text-truncate text-bold-500 mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 11\n          }\n        }, row.name)\n      }, {\n        name: \"Category\",\n        selector: \"category\",\n        sortable: true\n      }, {\n        name: \"Popularity\",\n        selector: \"popularity\",\n        sortable: true,\n        cell: row => /*#__PURE__*/React.createElement(Progress, {\n          className: \"w-100 mb-0\",\n          color: row.popularity.color,\n          value: row.popularity.popValue,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 11\n          }\n        })\n      }, {\n        name: \"Order Status\",\n        selector: \"order_status\",\n        sortable: true,\n        cell: row => /*#__PURE__*/React.createElement(Chip, {\n          className: \"m-0\",\n          color: chipColors[row.order_status],\n          text: row.order_status,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 11\n          }\n        })\n      }, {\n        name: \"Price\",\n        selector: \"price\",\n        sortable: true,\n        cell: row => `$${row.price}`\n      }, {\n        name: \"Actions\",\n        sortable: true,\n        cell: row => /*#__PURE__*/React.createElement(ActionsComponent, {\n          row: row,\n          getData: this.props.getData,\n          parsedFilter: this.props.parsedFilter,\n          currentData: this.handleCurrentData,\n          deleteRow: this.handleDelete,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }\n        })\n      }],\n      allData: [],\n      value: \"\",\n      rowsPerPage: 4,\n      sidebar: false,\n      currentData: null,\n      selected: [],\n      totalRecords: 0,\n      sortIndex: [],\n      addNew: \"\"\n    };\n    this.thumbView = this.props.thumbView;\n\n    this.handleFilter = e => {\n      this.setState({\n        value: e.target.value\n      });\n      this.props.filterData(e.target.value);\n    };\n\n    this.handleRowsPerPage = value => {\n      let {\n        parsedFilter,\n        getData\n      } = this.props;\n      let page = parsedFilter.page !== undefined ? parsedFilter.page : 1;\n      history.push(`/data-list/list-view?page=${page}&perPage=${value}`);\n      this.setState({\n        rowsPerPage: value\n      });\n      getData({\n        page: parsedFilter.page,\n        perPage: value\n      });\n    };\n\n    this.handleSidebar = (boolean, addNew = false) => {\n      this.setState({\n        sidebar: boolean\n      });\n      if (addNew === true) this.setState({\n        currentData: null,\n        addNew: true\n      });\n    };\n\n    this.handleDelete = row => {\n      this.props.deleteData(row);\n      this.props.getData(this.props.parsedFilter);\n\n      if (this.state.data.length - 1 === 0) {\n        let urlPrefix = this.props.thumbView ? \"/data-list/thumb-view/\" : \"/data-list/list-view/\";\n        history.push(`${urlPrefix}list-view?page=${parseInt(this.props.parsedFilter.page - 1)}&perPage=${this.props.parsedFilter.perPage}`);\n        this.props.getData({\n          page: this.props.parsedFilter.page - 1,\n          perPage: this.props.parsedFilter.perPage\n        });\n      }\n    };\n\n    this.handleCurrentData = obj => {\n      this.setState({\n        currentData: obj\n      });\n      this.handleSidebar(true);\n    };\n\n    this.handlePagination = page => {\n      let {\n        parsedFilter,\n        getData\n      } = this.props;\n      let perPage = parsedFilter.perPage !== undefined ? parsedFilter.perPage : 4;\n      let urlPrefix = this.props.thumbView ? \"/data-list/thumb-view/\" : \"/data-list/list-view/\";\n      history.push(`${urlPrefix}list-view?page=${page.selected + 1}&perPage=${perPage}`);\n      getData({\n        page: page.selected + 1,\n        perPage: perPage\n      });\n      this.setState({\n        currentPage: page.selected\n      });\n    };\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.dataList.data.length !== state.data.length || state.currentPage !== props.parsedFilter.page) {\n      return {\n        data: props.dataList.data,\n        allData: props.dataList.filteredData,\n        totalPages: props.dataList.totalPages,\n        currentPage: parseInt(props.parsedFilter.page) - 1,\n        rowsPerPage: parseInt(props.parsedFilter.perPage),\n        totalRecords: props.dataList.totalRecords,\n        sortIndex: props.dataList.sortIndex\n      };\n    } // Return null if the state hasn't changed\n\n\n    return null;\n  }\n\n  componentDidMount() {\n    this.props.getData(this.props.parsedFilter);\n    this.props.getInitialData();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.thumbView) {\n      this.thumbView = false;\n      let columns = [{\n        name: \"Image\",\n        selector: \"img\",\n        minWidth: \"220px\",\n        cell: row => /*#__PURE__*/React.createElement(\"img\", {\n          src: row.img,\n          height: \"100\",\n          alt: row.name,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 24\n          }\n        })\n      }, {\n        name: \"Name\",\n        selector: \"name\",\n        sortable: true,\n        minWidth: \"250px\",\n        cell: row => /*#__PURE__*/React.createElement(\"p\", {\n          title: row.name,\n          className: \"text-truncate text-bold-500 mb-0\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }\n        }, row.name)\n      }, {\n        name: \"Category\",\n        selector: \"category\",\n        sortable: true\n      }, {\n        name: \"Popularity\",\n        selector: \"popularity\",\n        sortable: true,\n        cell: row => /*#__PURE__*/React.createElement(Progress, {\n          className: \"w-100 mb-0\",\n          color: row.popularity.color,\n          value: row.popularity.popValue,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }\n        })\n      }, {\n        name: \"Order Status\",\n        selector: \"order_status\",\n        sortable: true,\n        cell: row => /*#__PURE__*/React.createElement(Chip, {\n          className: \"m-0\",\n          color: chipColors[row.order_status],\n          text: row.order_status,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }\n        })\n      }, {\n        name: \"Price\",\n        selector: \"price\",\n        sortable: true,\n        cell: row => `$${row.price}`\n      }, {\n        name: \"Actions\",\n        sortable: true,\n        cell: row => /*#__PURE__*/React.createElement(ActionsComponent, {\n          row: row,\n          getData: this.props.getData,\n          parsedFilter: this.props.parsedFilter,\n          currentData: this.handleCurrentData,\n          deleteRow: this.handleDelete,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 13\n          }\n        })\n      }];\n      this.setState({\n        columns\n      });\n    }\n  }\n\n  render() {\n    let {\n      columns,\n      data,\n      allData,\n      totalPages,\n      value,\n      rowsPerPage,\n      currentData,\n      sidebar,\n      totalRecords,\n      sortIndex\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `data-list ${this.props.thumbView ? \"thumb-view\" : \"list-view\"}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(DataTable, {\n      columns: columns,\n      data: value.length ? allData : data,\n      pagination: true,\n      paginationServer: true,\n      paginationComponent: () => /*#__PURE__*/React.createElement(ReactPaginate, {\n        previousLabel: /*#__PURE__*/React.createElement(ChevronLeft, {\n          size: 15,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 30\n          }\n        }),\n        nextLabel: /*#__PURE__*/React.createElement(ChevronRight, {\n          size: 15,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 26\n          }\n        }),\n        breakLabel: \"...\",\n        breakClassName: \"break-me\",\n        pageCount: totalPages,\n        containerClassName: \"vx-pagination separated-pagination pagination-end pagination-sm mb-0 mt-2\",\n        activeClassName: \"active\",\n        forcePage: this.props.parsedFilter.page ? parseInt(this.props.parsedFilter.page - 1) : 0,\n        onPageChange: page => this.handlePagination(page),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 13\n        }\n      }),\n      noHeader: true,\n      subHeader: true,\n      selectableRows: true,\n      responsive: true,\n      pointerOnHover: true,\n      selectableRowsHighlight: true,\n      onSelectedRowsChange: data => this.setState({\n        selected: data.selectedRows\n      }),\n      customStyles: selectedStyle,\n      subHeaderComponent: /*#__PURE__*/React.createElement(CustomHeader, {\n        handleSidebar: this.handleSidebar,\n        handleFilter: this.handleFilter,\n        handleRowsPerPage: this.handleRowsPerPage,\n        rowsPerPage: rowsPerPage,\n        total: totalRecords,\n        index: sortIndex,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 13\n        }\n      }),\n      sortIcon: /*#__PURE__*/React.createElement(ChevronDown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 21\n        }\n      }),\n      selectableRowsComponent: Checkbox,\n      selectableRowsComponentProps: {\n        color: \"primary\",\n        icon: /*#__PURE__*/React.createElement(Check, {\n          className: \"vx-icon\",\n          size: 12,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 19\n          }\n        }),\n        label: \"\",\n        size: \"sm\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Sidebar, {\n      show: sidebar,\n      data: currentData,\n      updateData: this.props.updateData,\n      addData: this.props.addData,\n      handleSidebar: this.handleSidebar,\n      thumbView: this.props.thumbView,\n      getData: this.props.getData,\n      dataParams: this.props.parsedFilter,\n      addNew: this.state.addNew,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(\"data-list-overlay\", {\n        show: sidebar\n      }),\n      onClick: () => this.handleSidebar(false, true),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    dataList: state.dataList\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getData,\n  deleteData,\n  updateData,\n  addData,\n  getInitialData,\n  filterData\n})(DataListConfig);","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.1/src/views/ui-elements/data-list/DataListConfig.js"],"names":["React","Component","Button","Progress","UncontrolledDropdown","DropdownMenu","DropdownToggle","DropdownItem","Input","DataTable","classnames","ReactPaginate","history","Edit","Trash","ChevronDown","Plus","Check","ChevronLeft","ChevronRight","connect","getData","getInitialData","deleteData","updateData","addData","filterData","Sidebar","Chip","Checkbox","chipColors","delivered","pending","canceled","selectedStyle","rows","selectedHighlighStyle","backgroundColor","color","boxShadow","transform","ActionsComponent","props","currentData","row","deleteRow","CustomHeader","handleSidebar","index","total","handleRowsPerPage","e","handleFilter","DataListConfig","state","data","totalPages","currentPage","columns","name","selector","sortable","minWidth","cell","popularity","popValue","order_status","price","parsedFilter","handleCurrentData","handleDelete","allData","value","rowsPerPage","sidebar","selected","totalRecords","sortIndex","addNew","thumbView","setState","target","page","undefined","push","perPage","boolean","length","urlPrefix","parseInt","obj","handlePagination","getDerivedStateFromProps","dataList","filteredData","componentDidMount","componentDidUpdate","prevProps","prevState","img","render","selectedRows","icon","label","size","show","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\nimport {\n  Button,\n  Progress,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownToggle,\n  DropdownItem,\n  Input\n} from \"reactstrap\"\nimport DataTable from \"react-data-table-component\"\nimport classnames from \"classnames\"\nimport ReactPaginate from \"react-paginate\"\nimport { history } from \"../../../history\"\nimport {\n  Edit,\n  Trash,\n  ChevronDown,\n  Plus,\n  Check,\n  ChevronLeft,\n  ChevronRight\n} from \"react-feather\"\nimport { connect } from \"react-redux\"\nimport {\n  getData,\n  getInitialData,\n  deleteData,\n  updateData,\n  addData,\n  filterData\n} from \"../../../redux/actions/data-list/\"\nimport Sidebar from \"./DataListSidebar\"\nimport Chip from \"../../../components/@vuexy/chips/ChipComponent\"\nimport Checkbox from \"../../../components/@vuexy/checkbox/CheckboxesVuexy\"\n\nimport \"../../../assets/scss/plugins/extensions/react-paginate.scss\"\nimport \"../../../assets/scss/pages/data-list.scss\"\n\nconst chipColors = {\n  \"on hold\": \"warning\",\n  delivered: \"success\",\n  pending: \"primary\",\n  canceled: \"danger\"\n}\n\nconst selectedStyle = {\n  rows: {\n    selectedHighlighStyle: {\n      backgroundColor: \"rgba(115,103,240,.05)\",\n      color: \"#7367F0 !important\",\n      boxShadow: \"0 0 1px 0 #7367F0 !important\",\n      \"&:hover\": {\n        transform: \"translateY(0px) !important\"\n      }\n    }\n  }\n}\n\nconst ActionsComponent = props => {\n  return (\n    <div className=\"data-list-action\">\n      <Edit\n        className=\"cursor-pointer mr-1\"\n        size={20}\n        onClick={() => {\n          return props.currentData(props.row)\n        }}\n      />\n      <Trash\n        className=\"cursor-pointer\"\n        size={20}\n        onClick={() => {\n          props.deleteRow(props.row)\n        }}\n      />\n    </div>\n  )\n}\n\nconst CustomHeader = props => {\n  return (\n    <div className=\"data-list-header d-flex justify-content-between flex-wrap\">\n      <div className=\"actions-left d-flex flex-wrap\">\n        <UncontrolledDropdown className=\"data-list-dropdown mr-1\">\n          <DropdownToggle className=\"p-1\" color=\"primary\">\n            <span className=\"align-middle mr-1\">Actions</span>\n            <ChevronDown size={15} />\n          </DropdownToggle>\n          <DropdownMenu tag=\"div\" right>\n            <DropdownItem tag=\"a\">Delete</DropdownItem>\n            <DropdownItem tag=\"a\">Archive</DropdownItem>\n            <DropdownItem tag=\"a\">Print</DropdownItem>\n            <DropdownItem tag=\"a\">Export</DropdownItem>\n          </DropdownMenu>\n        </UncontrolledDropdown>\n        <Button\n          className=\"add-new-btn\"\n          color=\"primary\"\n          onClick={() => props.handleSidebar(true, true)}\n          outline>\n          <Plus size={15} />\n          <span className=\"align-middle\">Add New</span>\n        </Button>\n      </div>\n      <div className=\"actions-right d-flex flex-wrap mt-sm-0 mt-2\">\n        <UncontrolledDropdown className=\"data-list-rows-dropdown mr-1 d-md-block d-none\">\n          <DropdownToggle color=\"\" className=\"sort-dropdown\">\n            <span className=\"align-middle mx-50\">\n              {`${props.index[0]} - ${props.index[1]} of ${props.total}`}\n            </span>\n            <ChevronDown size={15} />\n          </DropdownToggle>\n          <DropdownMenu tag=\"div\" right>\n            <DropdownItem tag=\"a\" onClick={() => props.handleRowsPerPage(4)}>\n              4\n            </DropdownItem>\n            <DropdownItem tag=\"a\" onClick={() => props.handleRowsPerPage(10)}>\n              10\n            </DropdownItem>\n            <DropdownItem tag=\"a\" onClick={() => props.handleRowsPerPage(15)}>\n              15\n            </DropdownItem>\n            <DropdownItem tag=\"a\" onClick={() => props.handleRowsPerPage(20)}>\n              20\n            </DropdownItem>\n          </DropdownMenu>\n        </UncontrolledDropdown>\n        <div className=\"filter-section\">\n          <Input type=\"text\" onChange={e => props.handleFilter(e)} />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nclass DataListConfig extends Component {\n  static getDerivedStateFromProps(props, state) {\n    if (\n      props.dataList.data.length !== state.data.length ||\n      state.currentPage !== props.parsedFilter.page\n    ) {\n      return {\n        data: props.dataList.data,\n        allData: props.dataList.filteredData,\n        totalPages: props.dataList.totalPages,\n        currentPage: parseInt(props.parsedFilter.page) - 1,\n        rowsPerPage: parseInt(props.parsedFilter.perPage),\n        totalRecords: props.dataList.totalRecords,\n        sortIndex: props.dataList.sortIndex\n      }\n    }\n\n    // Return null if the state hasn't changed\n    return null\n  }\n\n  state = {\n    data: [],\n    totalPages: 0,\n    currentPage: 0,\n    columns: [\n      {\n        name: \"Name\",\n        selector: \"name\",\n        sortable: true,\n        minWidth: \"300px\",\n        cell: row => (\n          <p title={row.name} className=\"text-truncate text-bold-500 mb-0\">\n            {row.name}\n          </p>\n        )\n      },\n      {\n        name: \"Category\",\n        selector: \"category\",\n        sortable: true\n      },\n      {\n        name: \"Popularity\",\n        selector: \"popularity\",\n        sortable: true,\n        cell: row => (\n          <Progress\n            className=\"w-100 mb-0\"\n            color={row.popularity.color}\n            value={row.popularity.popValue}\n          />\n        )\n      },\n      {\n        name: \"Order Status\",\n        selector: \"order_status\",\n        sortable: true,\n        cell: row => (\n          <Chip\n            className=\"m-0\"\n            color={chipColors[row.order_status]}\n            text={row.order_status}\n          />\n        )\n      },\n      {\n        name: \"Price\",\n        selector: \"price\",\n        sortable: true,\n        cell: row => `$${row.price}`\n      },\n      {\n        name: \"Actions\",\n        sortable: true,\n        cell: row => (\n          <ActionsComponent\n            row={row}\n            getData={this.props.getData}\n            parsedFilter={this.props.parsedFilter}\n            currentData={this.handleCurrentData}\n            deleteRow={this.handleDelete}\n          />\n        )\n      }\n    ],\n    allData: [],\n    value: \"\",\n    rowsPerPage: 4,\n    sidebar: false,\n    currentData: null,\n    selected: [],\n    totalRecords: 0,\n    sortIndex: [],\n    addNew: \"\"\n  }\n\n  thumbView = this.props.thumbView\n\n  componentDidMount() {\n    this.props.getData(this.props.parsedFilter)\n    this.props.getInitialData()\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.thumbView) {\n      this.thumbView = false\n      let columns = [\n        {\n          name: \"Image\",\n          selector: \"img\",\n          minWidth: \"220px\",\n          cell: row => <img src={row.img} height=\"100\" alt={row.name} />\n        },\n        {\n          name: \"Name\",\n          selector: \"name\",\n          sortable: true,\n          minWidth: \"250px\",\n          cell: row => (\n            <p title={row.name} className=\"text-truncate text-bold-500 mb-0\">\n              {row.name}\n            </p>\n          )\n        },\n        {\n          name: \"Category\",\n          selector: \"category\",\n          sortable: true\n        },\n        {\n          name: \"Popularity\",\n          selector: \"popularity\",\n          sortable: true,\n          cell: row => (\n            <Progress\n              className=\"w-100 mb-0\"\n              color={row.popularity.color}\n              value={row.popularity.popValue}\n            />\n          )\n        },\n        {\n          name: \"Order Status\",\n          selector: \"order_status\",\n          sortable: true,\n          cell: row => (\n            <Chip\n              className=\"m-0\"\n              color={chipColors[row.order_status]}\n              text={row.order_status}\n            />\n          )\n        },\n        {\n          name: \"Price\",\n          selector: \"price\",\n          sortable: true,\n          cell: row => `$${row.price}`\n        },\n        {\n          name: \"Actions\",\n          sortable: true,\n          cell: row => (\n            <ActionsComponent\n              row={row}\n              getData={this.props.getData}\n              parsedFilter={this.props.parsedFilter}\n              currentData={this.handleCurrentData}\n              deleteRow={this.handleDelete}\n            />\n          )\n        }\n      ]\n      this.setState({ columns })\n    }\n  }\n\n  handleFilter = e => {\n    this.setState({ value: e.target.value })\n    this.props.filterData(e.target.value)\n  }\n\n  handleRowsPerPage = value => {\n    let { parsedFilter, getData } = this.props\n    let page = parsedFilter.page !== undefined ? parsedFilter.page : 1\n    history.push(`/data-list/list-view?page=${page}&perPage=${value}`)\n    this.setState({ rowsPerPage: value })\n    getData({ page: parsedFilter.page, perPage: value })\n  }\n\n  handleSidebar = (boolean, addNew = false) => {\n    this.setState({ sidebar: boolean })\n    if (addNew === true) this.setState({ currentData: null, addNew: true })\n  }\n\n  handleDelete = row => {\n    this.props.deleteData(row)\n    this.props.getData(this.props.parsedFilter)\n    if (this.state.data.length - 1 === 0) {\n      let urlPrefix = this.props.thumbView\n        ? \"/data-list/thumb-view/\"\n        : \"/data-list/list-view/\"\n      history.push(\n        `${urlPrefix}list-view?page=${parseInt(\n          this.props.parsedFilter.page - 1\n        )}&perPage=${this.props.parsedFilter.perPage}`\n      )\n      this.props.getData({\n        page: this.props.parsedFilter.page - 1,\n        perPage: this.props.parsedFilter.perPage\n      })\n    }\n  }\n\n  handleCurrentData = obj => {\n    this.setState({ currentData: obj })\n    this.handleSidebar(true)\n  }\n\n  handlePagination = page => {\n    let { parsedFilter, getData } = this.props\n    let perPage = parsedFilter.perPage !== undefined ? parsedFilter.perPage : 4\n    let urlPrefix = this.props.thumbView\n      ? \"/data-list/thumb-view/\"\n      : \"/data-list/list-view/\"\n    history.push(\n      `${urlPrefix}list-view?page=${page.selected + 1}&perPage=${perPage}`\n    )\n    getData({ page: page.selected + 1, perPage: perPage })\n    this.setState({ currentPage: page.selected })\n  }\n\n  render() {\n    let {\n      columns,\n      data,\n      allData,\n      totalPages,\n      value,\n      rowsPerPage,\n      currentData,\n      sidebar,\n      totalRecords,\n      sortIndex\n    } = this.state\n    return (\n      <div\n        className={`data-list ${\n          this.props.thumbView ? \"thumb-view\" : \"list-view\"\n        }`}>\n        <DataTable\n          columns={columns}\n          data={value.length ? allData : data}\n          pagination\n          paginationServer\n          paginationComponent={() => (\n            <ReactPaginate\n              previousLabel={<ChevronLeft size={15} />}\n              nextLabel={<ChevronRight size={15} />}\n              breakLabel=\"...\"\n              breakClassName=\"break-me\"\n              pageCount={totalPages}\n              containerClassName=\"vx-pagination separated-pagination pagination-end pagination-sm mb-0 mt-2\"\n              activeClassName=\"active\"\n              forcePage={\n                this.props.parsedFilter.page\n                  ? parseInt(this.props.parsedFilter.page - 1)\n                  : 0\n              }\n              onPageChange={page => this.handlePagination(page)}\n            />\n          )}\n          noHeader\n          subHeader\n          selectableRows\n          responsive\n          pointerOnHover\n          selectableRowsHighlight\n          onSelectedRowsChange={data =>\n            this.setState({ selected: data.selectedRows })\n          }\n          customStyles={selectedStyle}\n          subHeaderComponent={\n            <CustomHeader\n              handleSidebar={this.handleSidebar}\n              handleFilter={this.handleFilter}\n              handleRowsPerPage={this.handleRowsPerPage}\n              rowsPerPage={rowsPerPage}\n              total={totalRecords}\n              index={sortIndex}\n            />\n          }\n          sortIcon={<ChevronDown />}\n          selectableRowsComponent={Checkbox}\n          selectableRowsComponentProps={{\n            color: \"primary\",\n            icon: <Check className=\"vx-icon\" size={12} />,\n            label: \"\",\n            size: \"sm\"\n          }}\n        />\n        <Sidebar\n          show={sidebar}\n          data={currentData}\n          updateData={this.props.updateData}\n          addData={this.props.addData}\n          handleSidebar={this.handleSidebar}\n          thumbView={this.props.thumbView}\n          getData={this.props.getData}\n          dataParams={this.props.parsedFilter}\n          addNew={this.state.addNew}\n        />\n        <div\n          className={classnames(\"data-list-overlay\", {\n            show: sidebar\n          })}\n          onClick={() => this.handleSidebar(false, true)}\n        />\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    dataList: state.dataList\n  }\n}\n\nexport default connect(mapStateToProps, {\n  getData,\n  deleteData,\n  updateData,\n  addData,\n  getInitialData,\n  filterData\n})(DataListConfig)\n"]},"metadata":{},"sourceType":"module"}