{"ast":null,"code":"import _toConsumableArray from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import ReactDOM from\"react-dom\";import classnames from\"classnames\";import{history}from\"../../../history\";import PerfectScrollbar from\"react-perfect-scrollbar\";import{AlertTriangle}from\"react-feather\";var Autocomplete=/*#__PURE__*/function(_React$Component){_inherits(Autocomplete,_React$Component);var _super=_createSuper(Autocomplete);function Autocomplete(props){var _this;_classCallCheck(this,Autocomplete);_this=_super.call(this,props);_this.onSuggestionItemClick=function(url,e){if(_this.props.onSuggestionClick){_this.props.onSuggestionClick(e);}_this.setState({activeSuggestion:0,showSuggestions:false,userInput:e.currentTarget.innerText});if(url)history.push(url);};_this.onSuggestionItemHover=function(index){_this.setState({activeSuggestion:index});};_this.onChange=function(e){var userInput=e.currentTarget.value;_this.setState({activeSuggestion:0,showSuggestions:true,userInput:userInput});if(e.target.value<1){_this.setState({showSuggestions:false});}};_this.onInputClick=function(e){e.stopPropagation();};_this.onKeyDown=function(e){var _this$state=_this.state,activeSuggestion=_this$state.activeSuggestion,showSuggestions=_this$state.showSuggestions,userInput=_this$state.userInput;var filterKey=_this.props.filterKey;var suggestionList=ReactDOM.findDOMNode(_this.suggestionList);// User pressed the up arrow\nif(e.keyCode===38&&activeSuggestion!==0){_this.setState({activeSuggestion:activeSuggestion-1});if(e.target.value.length>-1&&suggestionList!==null&&activeSuggestion<=_this.filteredData.length/2){suggestionList.scrollTop=0;}}// User pressed the down arrow\nelse if(e.keyCode===40&&activeSuggestion<_this.filteredData.length-1){_this.setState({activeSuggestion:activeSuggestion+1});if(e.target.value.length>-1&&suggestionList!==null&&activeSuggestion>=_this.filteredData.length/2){suggestionList.scrollTop=suggestionList.scrollHeight;}}// User Pressed ESC\nelse if(e.keyCode===27){_this.setState({showSuggestions:false,userInput:\"\"});}// User Pressed ENTER\nelse if(e.keyCode===13&&showSuggestions){if(typeof _this.filteredData[activeSuggestion]==\"undefined\"){return;}else{_this.onSuggestionItemClick(_this.filteredData[activeSuggestion].link,e);_this.setState({userInput:_this.filteredData[activeSuggestion][filterKey],showSuggestions:false});}}else{return;}// Custom Keydown Event\nif(_this.props.onKeyDown!==undefined&&_this.props.onKeyDown!==null&&_this.props.onKeyDown){_this.props.onKeyDown(e,userInput);}};_this.renderGroupedSuggestion=function(arr){var _this$props=_this.props,filterKey=_this$props.filterKey,customRender=_this$props.customRender;var _assertThisInitialize=_assertThisInitialized(_this),onSuggestionItemClick=_assertThisInitialize.onSuggestionItemClick,onSuggestionItemHover=_assertThisInitialize.onSuggestionItemHover,_assertThisInitialize2=_assertThisInitialize.state,activeSuggestion=_assertThisInitialize2.activeSuggestion,userInput=_assertThisInitialize2.userInput;var renderSuggestion=function renderSuggestion(item,i){if(!customRender){return/*#__PURE__*/React.createElement(\"li\",{className:classnames(\"suggestion-item\",{active:_this.filteredData.indexOf(item)===activeSuggestion}),key:item[filterKey],onClick:function onClick(e){return onSuggestionItemClick(item.link,e);},onMouseEnter:function onMouseEnter(){_this.onSuggestionItemHover(_this.filteredData.indexOf(item));}},item[filterKey]);}else if(customRender){return customRender(item,i,_this.filteredData,activeSuggestion,onSuggestionItemClick,onSuggestionItemHover,userInput);}else{return null;}};return arr.map(function(item,i){return renderSuggestion(item,i);});};_this.renderUngroupedSuggestions=function(){var _this$filteredData;var _this$props2=_this.props,filterKey=_this$props2.filterKey,suggestions=_this$props2.suggestions,customRender=_this$props2.customRender,suggestionLimit=_this$props2.suggestionLimit;var _assertThisInitialize3=_assertThisInitialized(_this),onSuggestionItemClick=_assertThisInitialize3.onSuggestionItemClick,onSuggestionItemHover=_assertThisInitialize3.onSuggestionItemHover,_assertThisInitialize4=_assertThisInitialize3.state,activeSuggestion=_assertThisInitialize4.activeSuggestion,userInput=_assertThisInitialize4.userInput;_this.filteredData=[];var sortSingleData=suggestions.filter(function(i){var startCondition=i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),includeCondition=i[filterKey].toLowerCase().includes(userInput.toLowerCase());if(startCondition){return startCondition;}else if(!startCondition&&includeCondition){return includeCondition;}else{return null;}}).slice(0,suggestionLimit);(_this$filteredData=_this.filteredData).push.apply(_this$filteredData,_toConsumableArray(sortSingleData));return sortSingleData.map(function(suggestion,index){if(!customRender){return/*#__PURE__*/React.createElement(\"li\",{className:classnames(\"suggestion-item\",{active:_this.filteredData.indexOf(suggestion)===activeSuggestion}),key:suggestion[filterKey],onClick:function onClick(e){return onSuggestionItemClick(suggestion.link?suggestion.link:null,e);},onMouseEnter:function onMouseEnter(){return _this.onSuggestionItemHover(_this.filteredData.indexOf(suggestion));}},suggestion[filterKey]);}else if(customRender){return customRender(suggestion,index,_this.filteredData,activeSuggestion,onSuggestionItemClick,onSuggestionItemHover,userInput);}else{return null;}});};_this.renderSuggestions=function(){var _this$props3=_this.props,filterKey=_this$props3.filterKey,grouped=_this$props3.grouped,filterHeaderKey=_this$props3.filterHeaderKey,suggestions=_this$props3.suggestions;var _assertThisInitialize5=_assertThisInitialized(_this),renderUngroupedSuggestions=_assertThisInitialize5.renderUngroupedSuggestions,userInput=_assertThisInitialize5.state.userInput;// Checks if suggestions are grouped or not.\nif(grouped===undefined||grouped===null||!grouped){return renderUngroupedSuggestions();}else{_this.filteredData=[];return suggestions.map(function(suggestion){var _this$filteredData2;var sortData=suggestion.data.filter(function(i){var startCondition=i[filterKey].toLowerCase().startsWith(userInput.toLowerCase()),includeCondition=i[filterKey].toLowerCase().includes(userInput.toLowerCase());if(startCondition){return startCondition;}else if(!startCondition&&includeCondition){return includeCondition;}else{return null;}}).slice(0,suggestion.searchLimit);(_this$filteredData2=_this.filteredData).push.apply(_this$filteredData2,_toConsumableArray(sortData));return/*#__PURE__*/React.createElement(React.Fragment,{key:suggestion[filterHeaderKey]},/*#__PURE__*/React.createElement(\"li\",{className:\"suggestion-item suggestion-title text-primary text-bold-600\"},suggestion[filterHeaderKey]),sortData.length?_this.renderGroupedSuggestion(sortData):/*#__PURE__*/React.createElement(\"li\",{className:\"suggestion-item no-result\"},/*#__PURE__*/React.createElement(AlertTriangle,{size:15}),\" \",/*#__PURE__*/React.createElement(\"span\",{className:\"align-middle ml-50\"},\"No Result\")));});}};_this.clearInput=function(val){if(_this.props.clearInput&&!val){_this.setState({userInput:\"\"});}};_this.handleExtenalClick=function(e){var container=_this.refs.container;var target=e.target;if(target!==container&&!container.contains(target)){_this.setState({showSuggestions:false});if(_this.props.externalClick)_this.props.externalClick(e);}};_this.state={activeSuggestion:0,showSuggestions:false,userInput:\"\",focused:false,openUp:false};_this.filteredData=[];document.body.addEventListener(\"click\",_this.handleExtenalClick);return _this;}// Suggestion Click Event\n_createClass(Autocomplete,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){var textInput=ReactDOM.findDOMNode(this.input);var _this$props4=this.props,autoFocus=_this$props4.autoFocus,onSuggestionsShown=_this$props4.onSuggestionsShown,clearInput=_this$props4.clearInput;// For searchbar focus\nif(textInput!==null&&autoFocus){textInput.focus();}if(this.props.defaultSuggestions&&prevState.showSuggestions===false&&this.state.focused){this.setState({showSuggestions:true});}// Clear Input\nif(clearInput===false&&this.state.userInput.length){this.setState({userInput:\"\"});}// Function on Suggestions Shown\nif(onSuggestionsShown&&this.state.showSuggestions){onSuggestionsShown(this.state.userInput);}if(this.props.defaultSuggestions&&prevState.focused===false&&this.state.focused===true){this.setState({showSuggestions:true});}}},{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.defaultSuggestions&&this.state.focused){this.setState({showSuggestions:true});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.body.removeEventListener(\"click\",this.handleExtenalClick);}},{key:\"render\",value:function render(){var _this2=this;var _onChange=this.onChange,_onKeyDown=this.onKeyDown,_this$state2=this.state,showSuggestions=_this$state2.showSuggestions,userInput=_this$state2.userInput,openUp=_this$state2.openUp;var suggestionsListComponent;if(showSuggestions){suggestionsListComponent=/*#__PURE__*/React.createElement(PerfectScrollbar,{className:classnames(\"suggestions-list\",{\"open-up\":openUp}),ref:function ref(el){return _this2.suggestionList=el;},component:\"ul\",options:{wheelPropagation:false}},this.renderSuggestions());}return/*#__PURE__*/React.createElement(\"div\",{className:\"vx-autocomplete-container\",ref:\"container\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",onChange:function onChange(e){_onChange(e);if(_this2.props.onChange){_this2.props.onChange(e);}},onKeyDown:function onKeyDown(e){return _onKeyDown(e);},value:userInput,className:\"vx-autocomplete-search \".concat(this.props.className?this.props.className:\"\"),placeholder:this.props.placeholder,onClick:this.onInputClick,ref:function ref(el){return _this2.input=el;},onFocus:function onFocus(e){_this2.setState({focused:true});},autoFocus:this.props.autoFocus,onBlur:function onBlur(e){// this.onBlur(e)\nif(_this2.props.onBlur)_this2.props.onBlur(e);_this2.setState({focused:false});}}),suggestionsListComponent);}}]);return Autocomplete;}(React.Component);export default Autocomplete;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/components/@vuexy/autoComplete/AutoCompleteComponent.js"],"names":["React","ReactDOM","classnames","history","PerfectScrollbar","AlertTriangle","Autocomplete","props","onSuggestionItemClick","url","e","onSuggestionClick","setState","activeSuggestion","showSuggestions","userInput","currentTarget","innerText","push","onSuggestionItemHover","index","onChange","value","target","onInputClick","stopPropagation","onKeyDown","state","filterKey","suggestionList","findDOMNode","keyCode","length","filteredData","scrollTop","scrollHeight","link","undefined","renderGroupedSuggestion","arr","customRender","renderSuggestion","item","i","active","indexOf","map","renderUngroupedSuggestions","suggestions","suggestionLimit","sortSingleData","filter","startCondition","toLowerCase","startsWith","includeCondition","includes","slice","suggestion","renderSuggestions","grouped","filterHeaderKey","sortData","data","searchLimit","clearInput","val","handleExtenalClick","container","refs","contains","externalClick","focused","openUp","document","body","addEventListener","prevProps","prevState","textInput","input","autoFocus","onSuggestionsShown","focus","defaultSuggestions","removeEventListener","suggestionsListComponent","el","wheelPropagation","className","placeholder","onBlur","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport PropTypes from \"prop-types\"\nimport classnames from \"classnames\"\nimport { history } from \"../../../history\"\nimport PerfectScrollbar from \"react-perfect-scrollbar\"\nimport { AlertTriangle } from \"react-feather\"\nclass Autocomplete extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      activeSuggestion: 0,\n      showSuggestions: false,\n      userInput: \"\",\n      focused: false,\n      openUp: false\n    }\n\n    this.filteredData = []\n    document.body.addEventListener(\"click\", this.handleExtenalClick)\n  }\n\n  // Suggestion Click Event\n  onSuggestionItemClick = (url, e) => {\n    if (this.props.onSuggestionClick) {\n      this.props.onSuggestionClick(e)\n    }\n    this.setState({\n      activeSuggestion: 0,\n      showSuggestions: false,\n      userInput: e.currentTarget.innerText\n    })\n    if (url) history.push(url)\n  }\n\n  // Suggestion Hover Event\n  onSuggestionItemHover = index => {\n    this.setState({ activeSuggestion: index })\n  }\n\n  // Input Change\n  onChange = e => {\n    const userInput = e.currentTarget.value\n    this.setState({\n      activeSuggestion: 0,\n      showSuggestions: true,\n      userInput\n    })\n    if (e.target.value < 1) {\n      this.setState({\n        showSuggestions: false\n      })\n    }\n  }\n\n  // Input Click Event\n  onInputClick = e => {\n    e.stopPropagation()\n  }\n\n  // Input's Keydown Event\n  onKeyDown = e => {\n    const { activeSuggestion, showSuggestions, userInput } = this.state\n    const filterKey = this.props.filterKey\n    let suggestionList = ReactDOM.findDOMNode(this.suggestionList)\n\n    // User pressed the up arrow\n    if (e.keyCode === 38 && activeSuggestion !== 0) {\n      this.setState({ activeSuggestion: activeSuggestion - 1 })\n      if (\n        e.target.value.length > -1 &&\n        suggestionList !== null &&\n        activeSuggestion <= this.filteredData.length / 2\n      ) {\n        suggestionList.scrollTop = 0\n      }\n    }\n\n    // User pressed the down arrow\n    else if (\n      e.keyCode === 40 &&\n      activeSuggestion < this.filteredData.length - 1\n    ) {\n      this.setState({ activeSuggestion: activeSuggestion + 1 })\n\n      if (\n        e.target.value.length > -1 &&\n        suggestionList !== null &&\n        activeSuggestion >= this.filteredData.length / 2\n      ) {\n        suggestionList.scrollTop = suggestionList.scrollHeight\n      }\n    }\n\n    // User Pressed ESC\n    else if (e.keyCode === 27) {\n      this.setState({\n        showSuggestions: false,\n        userInput: \"\"\n      })\n    }\n\n    // User Pressed ENTER\n    else if (e.keyCode === 13 && showSuggestions) {\n      if (typeof(this.filteredData[activeSuggestion]) == \"undefined\") {\n        return\n      }else{\n          this.onSuggestionItemClick(this.filteredData[activeSuggestion].link, e)\n          this.setState({\n            userInput: this.filteredData[activeSuggestion][filterKey],\n            showSuggestions: false\n        })\n      }\n    } else {\n      return\n    }\n\n    // Custom Keydown Event\n    if (\n      this.props.onKeyDown !== undefined &&\n      this.props.onKeyDown !== null &&\n      this.props.onKeyDown\n    ) {\n      this.props.onKeyDown(e, userInput)\n    }\n  }\n\n  // Grouped Suggestions\n  renderGroupedSuggestion = arr => {\n    const { filterKey, customRender } = this.props\n    const {\n      onSuggestionItemClick,\n      onSuggestionItemHover,\n      state: { activeSuggestion, userInput }\n    } = this\n\n    let renderSuggestion = (item, i) => {\n      if (!customRender) {\n        return (\n          <li\n            className={classnames(\"suggestion-item\", {\n              active: this.filteredData.indexOf(item) === activeSuggestion\n            })}\n            key={item[filterKey]}\n            onClick={e => onSuggestionItemClick(item.link, e)}\n            onMouseEnter={() => {\n              this.onSuggestionItemHover(this.filteredData.indexOf(item))\n            }}>\n            {item[filterKey]}\n          </li>\n        )\n      } else if (customRender) {\n        return customRender(\n          item,\n          i,\n          this.filteredData,\n          activeSuggestion,\n          onSuggestionItemClick,\n          onSuggestionItemHover,\n          userInput\n        )\n      } else {\n        return null\n      }\n    }\n\n    return arr.map((item, i) => {\n      return renderSuggestion(item, i)\n    })\n  }\n\n  // Ungrouped Suggestions\n  renderUngroupedSuggestions = () => {\n    const { filterKey, suggestions, customRender, suggestionLimit } = this.props\n    const {\n      onSuggestionItemClick,\n      onSuggestionItemHover,\n      state: { activeSuggestion, userInput }\n    } = this\n\n    this.filteredData = []\n    let sortSingleData = suggestions\n      .filter(i => {\n        let startCondition = i[filterKey]\n            .toLowerCase()\n            .startsWith(userInput.toLowerCase()),\n          includeCondition = i[filterKey]\n            .toLowerCase()\n            .includes(userInput.toLowerCase())\n        if (startCondition) {\n          return startCondition\n        } else if (!startCondition && includeCondition) {\n          return includeCondition\n        } else {\n          return null\n        }\n      })\n      .slice(0, suggestionLimit)\n    this.filteredData.push(...sortSingleData)\n    return sortSingleData.map((suggestion, index) => {\n      if (!customRender) {\n        return (\n          <li\n            className={classnames(\"suggestion-item\", {\n              active: this.filteredData.indexOf(suggestion) === activeSuggestion\n            })}\n            key={suggestion[filterKey]}\n            onClick={e =>\n              onSuggestionItemClick(suggestion.link ? suggestion.link : null, e)\n            }\n            onMouseEnter={() =>\n              this.onSuggestionItemHover(this.filteredData.indexOf(suggestion))\n            }>\n            {suggestion[filterKey]}\n          </li>\n        )\n      } else if (customRender) {\n        return customRender(\n          suggestion,\n          index,\n          this.filteredData,\n          activeSuggestion,\n          onSuggestionItemClick,\n          onSuggestionItemHover,\n          userInput\n        )\n      } else {\n        return null\n      }\n    })\n  }\n\n  // Renders Suggestions\n  renderSuggestions = () => {\n    const { filterKey, grouped, filterHeaderKey, suggestions } = this.props\n    const {\n      renderUngroupedSuggestions,\n      state: { userInput }\n    } = this\n\n    // Checks if suggestions are grouped or not.\n    if (grouped === undefined || grouped === null || !grouped) {\n      return renderUngroupedSuggestions()\n    } else {\n      this.filteredData = []\n      return suggestions.map(suggestion => {\n        let sortData = suggestion.data\n          .filter(i => {\n            let startCondition = i[filterKey]\n                .toLowerCase()\n                .startsWith(userInput.toLowerCase()),\n              includeCondition = i[filterKey]\n                .toLowerCase()\n                .includes(userInput.toLowerCase())\n            if (startCondition) {\n              return startCondition\n            } else if (!startCondition && includeCondition) {\n              return includeCondition\n            } else {\n              return null\n            }\n          })\n          .slice(0, suggestion.searchLimit)\n\n        this.filteredData.push(...sortData)\n        return (\n          <React.Fragment key={suggestion[filterHeaderKey]}>\n            <li className=\"suggestion-item suggestion-title text-primary text-bold-600\">\n              {suggestion[filterHeaderKey]}\n            </li>\n            {sortData.length ? (\n              this.renderGroupedSuggestion(sortData)\n            ) : (\n              <li className=\"suggestion-item no-result\">\n                <AlertTriangle size={15} />{\" \"}\n                <span className=\"align-middle ml-50\">No Result</span>\n              </li>\n            )}\n          </React.Fragment>\n        )\n      })\n    }\n  }\n\n  // Clears Input\n  clearInput = val => {\n    if (this.props.clearInput && !val) {\n      this.setState({\n        userInput: \"\"\n      })\n    }\n  }\n\n  // Closes Suggestions if clicked outside container (On Blur Basically)\n  handleExtenalClick = e => {\n    let { container } = this.refs\n    const { target } = e\n    if (target !== container && !container.contains(target)) {\n      this.setState({\n        showSuggestions: false\n      })\n      if (this.props.externalClick) this.props.externalClick(e)\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let textInput = ReactDOM.findDOMNode(this.input)\n    let { autoFocus, onSuggestionsShown, clearInput } = this.props\n    // For searchbar focus\n    if (textInput !== null && autoFocus) {\n      textInput.focus()\n    }\n\n    if (\n      this.props.defaultSuggestions &&\n      prevState.showSuggestions === false &&\n      this.state.focused\n    ) {\n      this.setState({ showSuggestions: true })\n    }\n\n    // Clear Input\n    if (clearInput === false && this.state.userInput.length) {\n      this.setState({\n        userInput: \"\"\n      })\n    }\n\n    // Function on Suggestions Shown\n    if (onSuggestionsShown && this.state.showSuggestions) {\n      onSuggestionsShown(this.state.userInput)\n    }\n\n    if (\n      this.props.defaultSuggestions &&\n      prevState.focused === false &&\n      this.state.focused === true\n    ) {\n      this.setState({ showSuggestions: true })\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.defaultSuggestions && this.state.focused) {\n      this.setState({ showSuggestions: true })\n    }\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener(\"click\", this.handleExtenalClick)\n  }\n\n  render() {\n    const {\n      onChange,\n      onKeyDown,\n      state: { showSuggestions, userInput, openUp }\n    } = this\n    let suggestionsListComponent\n\n    if (showSuggestions) {\n      suggestionsListComponent = (\n        <PerfectScrollbar\n          className={classnames(\"suggestions-list\", {\n            \"open-up\": openUp\n          })}\n          ref={el => (this.suggestionList = el)}\n          component=\"ul\"\n          options={{ wheelPropagation: false }}>\n          {this.renderSuggestions()}\n        </PerfectScrollbar>\n      )\n    }\n\n    return (\n      <div className=\"vx-autocomplete-container\" ref=\"container\">\n        <input\n          type=\"text\"\n          onChange={e => {\n            onChange(e)\n            if (this.props.onChange) {\n              this.props.onChange(e)\n            }\n          }}\n          onKeyDown={e => onKeyDown(e)}\n          value={userInput}\n          className={`vx-autocomplete-search ${\n            this.props.className ? this.props.className : \"\"\n          }`}\n          placeholder={this.props.placeholder}\n          onClick={this.onInputClick}\n          ref={el => {\n            return (this.input = el)\n          }}\n          onFocus={e => {\n            this.setState({ focused: true })\n          }}\n          autoFocus={this.props.autoFocus}\n          onBlur={e => {\n            // this.onBlur(e)\n            if (this.props.onBlur) this.props.onBlur(e)\n            this.setState({ focused: false })\n          }}\n        />\n        {suggestionsListComponent}\n      </div>\n    )\n  }\n}\n\nexport default Autocomplete\n\nAutocomplete.propTypes = {\n  suggestions: PropTypes.array.isRequired,\n  filterKey: PropTypes.string.isRequired,\n  filterHeaderKey: PropTypes.string,\n  placeholder: PropTypes.string,\n  suggestionLimit: PropTypes.number,\n  grouped: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  onKeyDown: PropTypes.func,\n  onChange: PropTypes.func,\n  onSuggestionsShown: PropTypes.func,\n  onSuggestionItemClick: PropTypes.func\n}\n"]},"metadata":{},"sourceType":"module"}