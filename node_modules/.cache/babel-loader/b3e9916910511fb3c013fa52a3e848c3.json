{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{api_query}from\"../../api/ApiConstant\";import{Card,CardBody,CardHeader,CardTitle,Badge,Input,Button}from\"reactstrap\";import DataTable from\"react-data-table-component\";import{Star,Search,Edit,Trash,ChevronDown,Plus,Check,ChevronLeft,ChevronRight}from\"react-feather\";import axios from'axios';import ModalDigimon from\"./ModalDigimon\";import{history}from\"../../../src/history\";var CustomHeader=function CustomHeader(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"add-new\"},/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-success\",onClick:function onClick(){return props.tarikData();}},\"Add New\")),/*#__PURE__*/React.createElement(\"div\",{className:\"position-relative has-icon-left mb-1\"},/*#__PURE__*/React.createElement(Input,{value:props.value,onChange:function onChange(e){return props.handleFilter(e);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control-position\"},/*#__PURE__*/React.createElement(Search,{size:\"15\"}))));};var ActionsComponent=function ActionsComponent(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"data-list-action\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-1 mb-1 bg-gradient-success\",color:\"none\",onClick:function onClick(){console.log('props : ',props);console.log('digimon : ',props.row.name);return props.isVisible(props.row.name,props.row.img);}},\" Showss \"));};var DataTableDigimon=/*#__PURE__*/function(_React$Component){_inherits(DataTableDigimon,_React$Component);var _super=_createSuper(DataTableDigimon);function DataTableDigimon(){var _this;_classCallCheck(this,DataTableDigimon);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={modalVisible:false,modalImage:'',modalDigimonName:'',columns:[{name:\"Name\",selector:\"name\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-img ml-xl-0 ml-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid rounded-circle\",height:\"36\",width:\"36\",src:row.img,alt:row.name})),/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.name,className:\"d-block text-bold-500 text-truncate mb-0\"},row.name)));}},{name:\"Image\",selector:\"img\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-img ml-xl-0 ml-2\"},/*#__PURE__*/React.createElement(\"img\",{className:\"img-fluid rounded-circle\",height:\"100\",width:\"100\",src:row.img,alt:row.name})));}},{name:\"Digimon Status\",selector:\"level\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.level,className:\"d-block text-bold-500 text-truncate mb-0\"},row.level)));}},{name:\"Actions\",sortable:true,cell:function cell(row){return/*#__PURE__*/React.createElement(ActionsComponent,{row:row// getData={this.state.data}\n,isVisible:_this.toggleModalDigimon});}}],data:[{image:require(\"../../assets/img/portrait/small/avatar-s-12.jpg\"),name:\"Hortensia Soaper\",email:\"hsoaperh@mapy.cz\",date:\"June 1, 2017\",status:\"active\",revenue:\"$60,000\",ratings:\"good\"}],filteredData:[],value:\"\"};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.isLogin();case 2:_context.next=4;return _this.tarikData();case 4:_context.next=6;return _this.tarikDataPostgre();case 6:case\"end\":return _context.stop();}}},_callee);}));_this.isLogin=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(localStorage.getItem('account')==undefined||localStorage.getItem('account')==null){history.push(\"/pages/login\");}case 1:case\"end\":return _context2.stop();}}},_callee2);}));_this.toggleModalDigimon=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(name,img){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log('LAUNCH TOGGLE DIGIMON');if(!(name==undefined)){_context3.next=6;break;}_context3.next=4;return _this.setState({modalVisible:false,modalImage:null,modalNameDigimon:''});case 4:_context3.next=8;break;case 6:_context3.next=8;return _this.setState({modalVisible:!_this.state.modalVisible,modalImage:img,modalDigimonName:name});case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x,_x2){return _ref3.apply(this,arguments);};}();_this.tarikData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return axios.get('https://digimon-api.vercel.app/api/digimon').then(function(result){// console.log('result digimon : ', result)\nvar res=result.data;console.log('result : ',result);if(res.length==''){return[];}// console.log('result : ', (result.data))\nreturn res;}).catch(function(err){return[];});case 2:result=_context4.sent;_context4.next=5;return _this.setState({data:result});case 5:case\"end\":return _context4.stop();}}},_callee4);}));_this.tarikDataPostgre=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var sql,result;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:// console.log('tarik data')\n// let sql = `\n//     select * from employees_new limit 10000;\n// `\nconsole.log('test query');sql=\"\\n      select * from df_master_user\\n      \";_context5.next=4;return axios.post(api_query,{query:sql}).then(function(result){var res=result.data.response;// console.log('result : ', result)\nconsole.log('result postgres : ',result);console.log('postgres : ',res);if(res.length==''){return[];}}).catch(function(err){console.log('error : ',err);return[];});case 4:result=_context5.sent;_context5.next=7;return _this.setState({position:result});case 7:case\"end\":return _context5.stop();}}},_callee5);}));_this.handleFilter=function(e){var value=e.target.value;var data=_this.state.data;var filteredData=_this.state.filteredData;_this.setState({value:value});if(value.length){filteredData=data.filter(function(item){// console.log('ITEM : ', item)\nvar startsWithCondition=item.name.toLowerCase().startsWith(value.toLowerCase())||item.img.toLowerCase().startsWith(value.toLowerCase())||item.level.toLowerCase().startsWith(value.toLowerCase());// item.name.toLowerCase().startsWith(value.toLowerCase())\n// item.date.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.email.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.status.toLowerCase().startsWith(value.toLowerCase())\nvar includesCondition=item.name.toLowerCase().includes(value.toLowerCase())||item.img.toLowerCase().includes(value.toLowerCase())||item.level.toLowerCase().includes(value.toLowerCase());// item.name.toLowerCase().includes(value.toLowerCase())\n// item.date.toLowerCase().includes(value.toLowerCase()) ||\n// item.email.toLowerCase().includes(value.toLowerCase()) ||\n// item.revenue.toLowerCase().includes(value.toLowerCase()) ||\n// item.status.toLowerCase().includes(value.toLowerCase())\nif(startsWithCondition){return startsWithCondition;}else if(!startsWithCondition&&includesCondition){return includesCondition;}else return null;});_this.setState({filteredData:filteredData});}};return _this;}_createClass(DataTableDigimon,[{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,columns=_this$state.columns,value=_this$state.value,filteredData=_this$state.filteredData;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"Digimon Table\")),/*#__PURE__*/React.createElement(CardBody,{className:\"rdt_Wrapper\"},/*#__PURE__*/React.createElement(DataTable,{className:\"dataTable-custom\",data:value.length?filteredData:data,columns:columns,noHeader:true,pagination:true,subHeader:true,subHeaderComponent:/*#__PURE__*/React.createElement(CustomHeader,{value:value,handleFilter:this.handleFilter,tarikData:this.tarikData})}))),/*#__PURE__*/React.createElement(ModalDigimon,Object.assign({},this.state,this.props,{// modalImage={this.state.modalImage}\n// modalVisible={this.state.modalVisible}\ntoggleModal:this.toggleModalDigimon})));}}]);return DataTableDigimon;}(React.Component);export default DataTableDigimon;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/test-page/DataTableDigimon.js"],"names":["React","api_query","Card","CardBody","CardHeader","CardTitle","Badge","Input","Button","DataTable","Star","Search","Edit","Trash","ChevronDown","Plus","Check","ChevronLeft","ChevronRight","axios","ModalDigimon","history","CustomHeader","props","tarikData","value","e","handleFilter","ActionsComponent","console","log","row","name","isVisible","img","DataTableDigimon","state","modalVisible","modalImage","modalDigimonName","columns","selector","sortable","minWidth","cell","level","toggleModalDigimon","data","image","require","email","date","status","revenue","ratings","filteredData","componentDidMount","isLogin","tarikDataPostgre","localStorage","getItem","undefined","push","setState","modalNameDigimon","get","then","result","res","length","catch","err","sql","post","query","response","position","target","filter","item","startsWithCondition","toLowerCase","startsWith","includesCondition","includes","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport { api_query } from \"../../api/ApiConstant\"\r\nimport {\r\n  Card,\r\n  CardBody,\r\n  CardHeader,\r\n  CardTitle,\r\n  Badge,\r\n  Input,\r\n  Button\r\n} from \"reactstrap\"\r\nimport DataTable from \"react-data-table-component\"\r\nimport { Star, Search,\r\n    Edit,\r\n    Trash,\r\n    ChevronDown,\r\n    Plus,\r\n    Check,\r\n    ChevronLeft,\r\n    ChevronRight } from \"react-feather\"\r\nimport axios from 'axios'\r\nimport ModalDigimon from \"./ModalDigimon\"\r\nimport { history } from \"../../../src/history\"\r\n\r\nconst CustomHeader = props => {\r\n  return (\r\n    <div className=\"d-flex flex-wrap justify-content-between\">\r\n      <div className=\"add-new\">\r\n        <Button.Ripple color=\"none\" className=\"bg-gradient-success\" onClick={() => props.tarikData()}>Add New</Button.Ripple>\r\n      </div>\r\n      <div className=\"position-relative has-icon-left mb-1\">\r\n        <Input value={props.value} onChange={e => props.handleFilter(e)} />\r\n        <div className=\"form-control-position\">\r\n          <Search size=\"15\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ActionsComponent = props => {\r\n    return (\r\n      <div className=\"data-list-action\">\r\n        <Button.Ripple className=\"mr-1 mb-1 bg-gradient-success\" color=\"none\"\r\n          onClick={()=> {\r\n            console.log('props : ', props);\r\n            console.log('digimon : ', props.row.name);\r\n            return props.isVisible(props.row.name, props.row.img)\r\n            }}> Showss </Button.Ripple>\r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\nclass DataTableDigimon extends React.Component {\r\n  state = {\r\n    modalVisible: false,\r\n    modalImage: '',\r\n    modalDigimonName: '',\r\n    columns: [\r\n      {\r\n        name: \"Name\",\r\n        selector: \"name\",\r\n        sortable: true,\r\n        minWidth: \"200px\",\r\n        cell: row => (\r\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\r\n            <div className=\"user-img ml-xl-0 ml-2\">\r\n              <img\r\n                className=\"img-fluid rounded-circle\"\r\n                height=\"36\"\r\n                width=\"36\"\r\n                src={row.img}\r\n                alt={row.name}\r\n              />\r\n            </div>\r\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\r\n              <span\r\n                title={row.name}\r\n                className=\"d-block text-bold-500 text-truncate mb-0\">\r\n                {row.name}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )\r\n      },\r\n      {\r\n        name: \"Image\",\r\n        selector: \"img\",\r\n        sortable: true,\r\n        minWidth: \"200px\",\r\n        cell: row => (\r\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\r\n            <div className=\"user-img ml-xl-0 ml-2\">\r\n              <img\r\n                className=\"img-fluid rounded-circle\"\r\n                height=\"100\"\r\n                width=\"100\"\r\n                src={row.img}\r\n                alt={row.name}\r\n              />\r\n            </div>\r\n          </div>\r\n        )\r\n      },\r\n      {\r\n        name: \"Digimon Status\",\r\n        selector: \"level\",\r\n        sortable: true,\r\n        minWidth: \"200px\",\r\n        cell: row => (\r\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\r\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\r\n              <span\r\n                title={row.level}\r\n                className=\"d-block text-bold-500 text-truncate mb-0\">\r\n                {row.level}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )\r\n      },\r\n      {\r\n        name: \"Actions\",\r\n        sortable: true,\r\n        cell: row => (\r\n          <ActionsComponent\r\n            row={row}\r\n            // getData={this.state.data}\r\n            isVisible= {this.toggleModalDigimon}\r\n          />\r\n        )\r\n      }\r\n    ],\r\n    data: [\r\n      {\r\n        image: require(\"../../assets/img/portrait/small/avatar-s-12.jpg\"),\r\n        name: \"Hortensia Soaper\",\r\n        email: \"hsoaperh@mapy.cz\",\r\n        date: \"June 1, 2017\",\r\n        status: \"active\",\r\n        revenue: \"$60,000\",\r\n        ratings: \"good\"\r\n      }\r\n    ],\r\n    filteredData: [],\r\n    value: \"\"\r\n  }\r\n\r\n  componentDidMount=async()=>{\r\n    await this.isLogin();\r\n\r\n    await this.tarikData();\r\n    await this.tarikDataPostgre();\r\n\r\n    // console.log('state data:', typeof(this.state.data))\r\n    // console.log('local', JSON.parse(localStorage.getItem('account')).role)\r\n\r\n  }\r\n\r\n  isLogin = async() =>{\r\n    if (localStorage.getItem('account') == undefined || localStorage.getItem('account') == null) {\r\n      history.push(\"/pages/login\")\r\n    }\r\n  }\r\n\r\n  toggleModalDigimon = async(name, img) =>{\r\n      console.log('LAUNCH TOGGLE DIGIMON')\r\n\r\n      if (name == undefined) {\r\n        await this.setState({\r\n            modalVisible: false,\r\n            modalImage: null,\r\n            modalNameDigimon: ''\r\n        })\r\n      }else{\r\n        await this.setState({\r\n            modalVisible: !this.state.modalVisible,\r\n            modalImage: img,\r\n            modalDigimonName: name\r\n        })\r\n      }\r\n\r\n\r\n  }\r\n\r\n  tarikData = async() =>{\r\n        var result = await axios.get('https://digimon-api.vercel.app/api/digimon')\r\n            .then(result => {\r\n                // console.log('result digimon : ', result)\r\n                let res = result.data\r\n                console.log('result : ', result)\r\n                if (res.length == '') {\r\n                return []\r\n                }\r\n                // console.log('result : ', (result.data))\r\n                return res;\r\n            }).catch(err => {\r\n                return []\r\n            })\r\n\r\n        await this.setState({\r\n            data: result\r\n        })\r\n    }\r\n\r\n    tarikDataPostgre = async() =>{\r\n      // console.log('tarik data')\r\n      // let sql = `\r\n      //     select * from employees_new limit 10000;\r\n      // `\r\n      console.log('test query')\r\n\r\n      let sql = `\r\n      select * from df_master_user\r\n      `\r\n      var result = await axios.post(api_query, {\r\n                                  query : sql\r\n                              })\r\n                                  .then(result => {\r\n                                  let res = result.data.response\r\n                                  // console.log('result : ', result)\r\n                                  console.log('result postgres : ', result)\r\n                                  console.log('postgres : ', res)\r\n                                  if (res.length == '') {\r\n                                      return []\r\n                                  }\r\n                              }).catch(err => {\r\n                                  console.log('error : ', err)\r\n                                  return []\r\n                              })\r\n        await this.setState({position: result})\r\n      }\r\n\r\n  handleFilter = e => {\r\n    let value = e.target.value\r\n    let data = this.state.data\r\n    let filteredData = this.state.filteredData\r\n    this.setState({ value })\r\n\r\n    if (value.length) {\r\n      filteredData = data.filter(item => {\r\n        // console.log('ITEM : ', item)\r\n        let startsWithCondition =\r\n          item.name.toLowerCase().startsWith(value.toLowerCase()) ||\r\n          item.img.toLowerCase().startsWith(value.toLowerCase()) ||\r\n          item.level.toLowerCase().startsWith(value.toLowerCase())\r\n          // item.name.toLowerCase().startsWith(value.toLowerCase())\r\n          // item.date.toLowerCase().startsWith(value.toLowerCase()) ||\r\n          // item.email.toLowerCase().startsWith(value.toLowerCase()) ||\r\n          // item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\r\n          // item.status.toLowerCase().startsWith(value.toLowerCase())\r\n        let includesCondition =\r\n          item.name.toLowerCase().includes(value.toLowerCase()) ||\r\n          item.img.toLowerCase().includes(value.toLowerCase()) ||\r\n          item.level.toLowerCase().includes(value.toLowerCase())\r\n          // item.name.toLowerCase().includes(value.toLowerCase())\r\n          // item.date.toLowerCase().includes(value.toLowerCase()) ||\r\n          // item.email.toLowerCase().includes(value.toLowerCase()) ||\r\n          // item.revenue.toLowerCase().includes(value.toLowerCase()) ||\r\n          // item.status.toLowerCase().includes(value.toLowerCase())\r\n\r\n        if (startsWithCondition) {\r\n          return startsWithCondition\r\n        } else if (!startsWithCondition && includesCondition) {\r\n          return includesCondition\r\n        } else return null\r\n      })\r\n      this.setState({ filteredData })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let { data, columns, value, filteredData } = this.state\r\n    return (\r\n        <>\r\n            <Card>\r\n                <CardHeader>\r\n                <CardTitle>Digimon Table</CardTitle>\r\n                </CardHeader>\r\n                <CardBody className=\"rdt_Wrapper\">\r\n                <DataTable\r\n                    className=\"dataTable-custom\"\r\n                    data={value.length ? filteredData : data}\r\n                    columns={columns}\r\n                    noHeader\r\n                    pagination\r\n                    subHeader\r\n                    subHeaderComponent={\r\n                    <CustomHeader value={value} handleFilter={this.handleFilter} tarikData={this.tarikData}/>\r\n                    }\r\n                />\r\n                </CardBody>\r\n            </Card>\r\n            <ModalDigimon {...this.state} {...this.props}\r\n                        // modalImage={this.state.modalImage}\r\n                        // modalVisible={this.state.modalVisible}\r\n                        toggleModal={this.toggleModalDigimon}></ModalDigimon>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default DataTableDigimon\r\n"]},"metadata":{},"sourceType":"module"}