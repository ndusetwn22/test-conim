{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{api_query}from\"../../../api/ApiConstant\";import{Card,CardBody,CardHeader,CardTitle,Badge,Input,Button,Label,Modal,ModalHeader,ModalBody,ModalFooter,Alert}from\"reactstrap\";import DataTable from\"react-data-table-component\";import{Star,Search,Edit,Trash,ChevronDown,Plus,Check,ChevronLeft,ChevronRight}from\"react-feather\";import axios from'axios';import{history}from\"../../../../src/history\";import Spinner from\"../../../components/@vuexy/spinner/Fallback-spinner\";var CustomHeader=function CustomHeader(props){return/*#__PURE__*/ (// <div className=\"d-flex flex-wrap justify-content-between\">\nReact.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"position-relative has-icon-left mb-1\"},/*#__PURE__*/React.createElement(Input,{value:props.value,onChange:function onChange(e){return props.handleFilter(e);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control-position\"},/*#__PURE__*/React.createElement(Search,{size:\"15\"})))));};var ApprovalComponent=function ApprovalComponent(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"data-list-action\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-1 bg-gradient-success\",color:\"none\",size:\"sm\",onClick:function onClick(){console.log('props : ',props);console.log('digimon : ',props.row.name);return props.isVisible(props.row.name,props.row.img);}},\" Approve\"));};var RejectComponent=function RejectComponent(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"data-list-action\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-1 bg-gradient-danger\",color:\"none\",size:\"sm\",onClick:function onClick(){console.log('props : ',props);console.log('digimon : ',props.row.name);return props.isVisible(props.row.name,props.row.img);}},\" Reject\"));};var ActionsComponent=function ActionsComponent(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"data-list-action\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-1 bg-gradient-success\",color:\"none\",size:\"sm\",onClick:function onClick(){// console.log('props : ', props);\nreturn props.isView(props.row,props.row.id,props.row.cff_id);}},\"View\"));};var SpvApprovalSSTable=/*#__PURE__*/function(_React$Component){_inherits(SpvApprovalSSTable,_React$Component);var _super=_createSuper(SpvApprovalSSTable);function SpvApprovalSSTable(){var _this;_classCallCheck(this,SpvApprovalSSTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={modalApproval:false,dataApproval:[],columnsApproval:[{name:\"Nama\",selector:\"nama\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.name,className:\"d-block text-bold-500 text-truncate mb-0\"},row.name)));}},{name:\"Status\",selector:\"approval_rejected_status\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.approval_rejected_status,className:\"d-block text-bold-500 text-truncate mb-0\"},row.approval_rejected_status)));}},{name:\"Tanggal\",selector:\"approve_date\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.approve_date,className:\"d-block text-bold-500 text-truncate mb-0\"},row.approve_date)));}}],isLoading:false,modalVisible:false,modalImage:'',modalDigimonName:'',myProfile:null,columns:[{name:\"Tema\",selector:\"tema\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.tema_singkat,className:\"d-block text-bold-500 text-truncate mb-0\"},row.tema_singkat)));}},{name:\"Tanggal dibuat\",selector:\"tgl\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.tgl,className:\"d-block text-bold-500 text-truncate mb-0\"},row.tgl)));}},{name:\"Status\",selector:\"status_deskripsi\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this.viewApproval(row);}},/*#__PURE__*/React.createElement(\"span\",{title:row.status_deskripsi,className:\"d-block text-bold-500 text-truncate mb-0\"},row.status_deskripsi))));}},{name:\"Actions\",sortable:true,cell:function cell(row){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ActionsComponent,{row:row,isView:_this.viewSS}));}}],data:[],filteredData:[],value:\"\"};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({isLoading:true});case 2:_context.next=4;return _this.isLogin('spv_df');case 4:_context.next=6;return _this.tarikDataTable();case 6:_context.next=8;return _this.setState({isLoading:false});case 8:case\"end\":return _context.stop();}}},_callee);}));_this.toggleModalApproval=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var sql,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.setState(function(prevState){return{isLoading:true// modalApproval: !prevState.modalApproval\n};});case 2:sql=\"\\n        select dsha.ss_id, dsha.approved_rejected_by_id, dmu.\\\"name\\\", dsha.approval_rejected_status, dsha.create_date, COALESCE(to_char(dsha.create_date , 'DD Mon YYYY HH24:MI:SS'), '') AS approve_date from df_ss_history_approval dsha \\n        join df_master_user dmu\\n        on dsha.approved_rejected_by_id = dmu.id \\n        where dsha.ss_id = \"+id+\"\\n        order by dsha.id asc\\n    \";_context3.next=5;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(result){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:res=result.data.response.rows;console.log('result : ',result);if(!(res.length=='')){_context2.next=6;break;}return _context2.abrupt(\"return\",[]);case 6:_context2.next=8;return _this.setState({dataApproval:res});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 5:result=_context3.sent;_context3.next=8;return _this.setState(function(prevState){return{isLoading:true,modalApproval:!prevState.modalApproval};});case 8:_context3.next=10;return _this.setState({isLoading:false});case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.toggleModalFixApproval=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this.setState(function(prevState){return{modalApproval:!prevState.modalApproval,dataApproval:[]};});case 1:case\"end\":return _context4.stop();}}},_callee4);}));_this.viewApproval=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(data){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log('viewApproval : ',data);console.log('viewApproval : ',data.ds_id);_context5.next=4;return _this.toggleModalApproval(data.ds_id);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x3){return _ref5.apply(this,arguments);};}();_this.isLogin=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(role){var myProfile;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(localStorage.getItem('account')==undefined||localStorage.getItem('account')==null){history.push(\"/pages/login\");}else if(JSON.parse(localStorage.getItem('account')).role!==role){history.push(\"/pages/login\");}else{myProfile=JSON.parse(localStorage.getItem('account'));console.log('myProfile',myProfile);_this.setState({myProfile:myProfile});}case 1:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4){return _ref6.apply(this,arguments);};}();_this.toggleModalDigimon=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(name,img){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log('LAUNCH TOGGLE DIGIMON');if(!(name==undefined)){_context7.next=6;break;}_context7.next=4;return _this.setState({modalVisible:false,modalImage:null,modalNameDigimon:''});case 4:_context7.next=8;break;case 6:_context7.next=8;return _this.setState({modalVisible:!_this.state.modalVisible,modalImage:img,modalDigimonName:name});case 8:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5,_x6){return _ref7.apply(this,arguments);};}();_this.tarikDataTable=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var sql,result;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:// let sql = `\n// select *, to_char(ds.tanggal_dibuat, 'dd Mon yyyy') as tgl, dss.status_deskripsi, ds.id as ds_id\n// from df_suggestion_system ds\n//     join df_ss_status dss\n//     on ds.ss_status_id = dss.id\n// where\n//     ds.pengusul_id = `+this.state.myProfile.id+` and\n//     ds.ss_status_id != 9\n//     order by ds.id DESC\n// `\nsql=\"\\n    select *, to_char(ds.tanggal_dibuat, 'dd Mon yyyy') as tgl, dss.status_deskripsi, ds.id as ds_id\\n            from df_suggestion_system ds\\n            join df_ss_status dss\\n            on ds.ss_status_id = dss.id\\n      where\\n        fasilitator_id = \"+_this.state.myProfile.id+\" and\\n        ss_status_id = \"+2+\"\\n        order by ds.id desc\\n    \";_context9.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(result){var res,_temp,index,element,temaSingkat,tema;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:// let res = result.data.response\nres=result.data.response.rows;// console.log('result : ', result)\n// console.log('result postgres : ', result)\nconsole.log('result query : ',res);console.log('query leng :',res.length);if(!(res.length=='')){_context8.next=7;break;}return _context8.abrupt(\"return\",[]);case 7:_temp=[];for(index=0;index<res.length;index++){element=res[index].tema;temaSingkat=element.split(' ').slice(0,2).join(' ');temaSingkat=temaSingkat+' ... ';tema=res[index];tema.tema_singkat=temaSingkat;// console.log('dummy : ', dummy)\n// // const elementTgl = res[index].tanggal_dibuat;\n// // var tgl = elementTgl.split('T')\n// console.log('tgl query : ', res[index].tgl)\n// console.log('tema singkat : ', temaSingkat)\n// // console.log('tanggal : ', tgl[0])\n// console.log('element:', element)\n_temp.push(tema);}_context8.next=11;return _this.setState({data:_temp});case 11:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x7){return _ref9.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context9.sent;case 4:case\"end\":return _context9.stop();}}},_callee9);}));_this.handleFilter=function(e){var value=e.target.value;var data=_this.state.data;var filteredData=_this.state.filteredData;_this.setState({value:value});if(value.length){filteredData=data.filter(function(item){// console.log('ITEM : ', item)\nvar startsWithCondition=item.tema.toLowerCase().startsWith(value.toLowerCase())||item.tgl.toLowerCase().startsWith(value.toLowerCase())||item.status_deskripsi.toLowerCase().startsWith(value.toLowerCase());// item.name.toLowerCase().startsWith(value.toLowerCase())\n// item.date.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.email.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.status.toLowerCase().startsWith(value.toLowerCase())\nvar includesCondition=item.tema.toLowerCase().includes(value.toLowerCase())||item.tgl.toLowerCase().includes(value.toLowerCase())||item.status_deskripsi.toLowerCase().includes(value.toLowerCase());// item.name.toLowerCase().includes(value.toLowerCase())\n// item.date.toLowerCase().includes(value.toLowerCase()) ||\n// item.email.toLowerCase().includes(value.toLowerCase()) ||\n// item.revenue.toLowerCase().includes(value.toLowerCase()) ||\n// item.status.toLowerCase().includes(value.toLowerCase())\nif(startsWithCondition){return startsWithCondition;}else if(!startsWithCondition&&includesCondition){return includesCondition;}else return null;});_this.setState({filteredData:filteredData});}};_this.viewSS=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(data,id,cff_id){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:console.log('view SS : ',id);console.log('data row : ',data);_this.props.changeViewPage('edit',data,id);case 3:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x8,_x9,_x10){return _ref10.apply(this,arguments);};}();return _this;}_createClass(SpvApprovalSSTable,[{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,columns=_this$state.columns,value=_this$state.value,filteredData=_this$state.filteredData;return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.isLoading?/*#__PURE__*/React.createElement(Spinner,null):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"Approval SS Spv\")),/*#__PURE__*/React.createElement(CardBody,{className:\"rdt_Wrapper\"},/*#__PURE__*/React.createElement(DataTable,{className:\"dataTable-custom\",data:value.length?filteredData:data,columns:columns,noHeader:true,pagination:true,subHeader:true,subHeaderComponent:/*#__PURE__*/React.createElement(CustomHeader,{value:value,handleFilter:this.handleFilter,tarikData:this.tarikData})// <CustomHeader value={value} handleFilter={this.handleFilter} tarikData={this.tarikDataTable}/>\n}))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modalApproval,toggle:this.toggleModalApproval,className:\"modal-dialog-centered\",backdrop:\"static\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModalFixApproval,className:\"bg-success\"},\"List approval\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(DataTable,{className:\"dataTable-custom\",data:this.state.dataApproval,columns:this.state.columnsApproval,noHeader:true})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:this.toggleModalFixApproval},\"close\"),\" \"))));}}]);return SpvApprovalSSTable;}(React.Component);export default SpvApprovalSSTable;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/ss/spv-approval-ss/SpvApprovalSSTable.js"],"names":["React","api_query","Card","CardBody","CardHeader","CardTitle","Badge","Input","Button","Label","Modal","ModalHeader","ModalBody","ModalFooter","Alert","DataTable","Star","Search","Edit","Trash","ChevronDown","Plus","Check","ChevronLeft","ChevronRight","axios","history","Spinner","CustomHeader","props","value","e","handleFilter","ApprovalComponent","console","log","row","name","isVisible","img","RejectComponent","ActionsComponent","isView","id","cff_id","SpvApprovalSSTable","state","modalApproval","dataApproval","columnsApproval","selector","sortable","minWidth","cell","approval_rejected_status","approve_date","isLoading","modalVisible","modalImage","modalDigimonName","myProfile","columns","tema_singkat","tgl","viewApproval","status_deskripsi","viewSS","data","filteredData","componentDidMount","setState","isLogin","tarikDataTable","toggleModalApproval","prevState","sql","post","query","then","result","res","response","rows","length","catch","err","toggleModalFixApproval","ds_id","role","localStorage","getItem","undefined","push","JSON","parse","toggleModalDigimon","modalNameDigimon","_temp","index","element","tema","temaSingkat","split","slice","join","target","filter","item","startsWithCondition","toLowerCase","startsWith","includesCondition","includes","changeViewPage","tarikData","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { api_query } from \"../../../api/ApiConstant\"\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  Badge,\n  Input,\n  Button,\n  Label, Modal, ModalHeader, ModalBody, ModalFooter, Alert\n} from \"reactstrap\"\nimport DataTable from \"react-data-table-component\"\nimport { Star, Search,\n    Edit,\n    Trash,\n    ChevronDown,\n    Plus,\n    Check,\n    ChevronLeft,\n    ChevronRight } from \"react-feather\"\nimport axios from 'axios'\nimport { history } from \"../../../../src/history\"\nimport Spinner from \"../../../components/@vuexy/spinner/Fallback-spinner\"\n\n\nconst CustomHeader = props => {\n  return (\n    // <div className=\"d-flex flex-wrap justify-content-between\">\n    <div className=\"d-flex flex-wrap justify-content-end\">\n      {/* <div className=\"add-new\">\n        <Button.Ripple color=\"none\" className=\"bg-gradient-success\" onClick={() => props.tarikData()}>Add New</Button.Ripple>\n      </div> */}\n      <div className=\"position-relative has-icon-left mb-1\">\n        <Input value={props.value} onChange={e => props.handleFilter(e)} />\n        <div className=\"form-control-position\">\n          <Search size=\"15\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst ApprovalComponent = props => {\n    return (\n      <div className=\"data-list-action\">\n        <Button.Ripple className=\"mr-1 bg-gradient-success\" color=\"none\" size=\"sm\"\n          onClick={()=> {\n            console.log('props : ', props);\n            console.log('digimon : ', props.row.name);\n            return props.isVisible(props.row.name, props.row.img)\n          }}> Approve</Button.Ripple>\n      </div>\n    )\n  }\n\n  const RejectComponent = props => {\n    return (\n      <div className=\"data-list-action\">\n        <Button.Ripple className=\"mr-1 bg-gradient-danger\" color=\"none\" size=\"sm\"\n          onClick={()=> {\n            console.log('props : ', props);\n            console.log('digimon : ', props.row.name);\n            return props.isVisible(props.row.name, props.row.img)\n          }}> Reject</Button.Ripple>\n      </div>\n    )\n  }\n\n  const ActionsComponent = props => {\n    return (\n      <div className=\"data-list-action\">\n        <Button.Ripple className=\"mr-1 bg-gradient-success\" color=\"none\" size=\"sm\"\n          onClick={()=> {\n            // console.log('props : ', props);\n            return props.isView(props.row, props.row.id, props.row.cff_id)\n          }}>View</Button.Ripple>\n      </div>\n    )\n  }\n\n\n\nclass SpvApprovalSSTable extends React.Component {\n  state = {\n    modalApproval: false,\n    dataApproval: [],\n    columnsApproval: [\n      {\n        name: \"Nama\",\n        selector: \"nama\",\n        sortable: true,\n        minWidth: \"200px\",\n        cell: row =>\n        (\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n              <span\n                title={row.name}\n                className=\"d-block text-bold-500 text-truncate mb-0\">\n                {row.name}\n                {/* {row.tema} */}\n              </span>\n            </div>\n          </div>\n        )\n      },\n      {\n        name: \"Status\",\n        selector: \"approval_rejected_status\",\n        sortable: true,\n        minWidth: \"200px\",\n        cell: row => (\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n              <span\n                title={row.approval_rejected_status}\n                className=\"d-block text-bold-500 text-truncate mb-0\">\n                {row.approval_rejected_status}\n              </span>\n            </div>\n          </div>\n        )\n      },\n      {\n        name: \"Tanggal\",\n        selector: \"approve_date\",\n        sortable: true,\n        minWidth: \"200px\",\n        cell: row => (\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n              <span\n                title={row.approve_date}\n                className=\"d-block text-bold-500 text-truncate mb-0\">\n                {row.approve_date}\n              </span>\n            </div>\n          </div>\n        )\n      },\n    ],\n    isLoading: false,\n    modalVisible: false,\n    modalImage: '',\n    modalDigimonName: '',\n    myProfile: null,\n    columns: [\n      {\n        name: \"Tema\",\n        selector: \"tema\",\n        sortable: true,\n        minWidth: \"200px\",\n        cell: row =>\n        (\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n              <span\n                title={row.tema_singkat}\n                className=\"d-block text-bold-500 text-truncate mb-0\">\n                {row.tema_singkat}\n                {/* {row.tema} */}\n              </span>\n            </div>\n          </div>\n        )\n      },\n      {\n        name: \"Tanggal dibuat\",\n        selector: \"tgl\",\n        sortable: true,\n        minWidth: \"200px\",\n        cell: row => (\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n              <span\n                title={row.tgl}\n                className=\"d-block text-bold-500 text-truncate mb-0\">\n                {row.tgl}\n              </span>\n            </div>\n          </div>\n        )\n      },\n      {\n        name: \"Status\",\n        selector: \"status_deskripsi\",\n        sortable: true,\n        minWidth: \"200px\",\n        cell: row => (\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n              <a onClick={()=>this.viewApproval(row)}>\n                <span\n                  title={row.status_deskripsi}\n                  className=\"d-block text-bold-500 text-truncate mb-0\"\n                  >\n                  {row.status_deskripsi}\n                </span>\n              </a>\n            </div>\n          </div>\n        )\n      },\n      {\n        name: \"Actions\",\n        sortable: true,\n        cell: row =>\n        (\n          <>\n            <ActionsComponent\n              row={row}\n              isView={this.viewSS}\n            />\n          {/* <ApprovalComponent\n            row={row}\n            // getData={this.state.data}\n            isVisible= {this.toggleModalDigimon}\n          />\n\n          <RejectComponent\n            row={row}\n            // getData={this.state.data}\n            isVisible= {this.toggleModalDigimon}\n          /> */}\n          </>\n        )\n      }\n    ],\n    data: [],\n    filteredData: [],\n    value: \"\"\n  }\n\n  componentDidMount=async()=>{\n    await this.setState({isLoading: true});\n    await this.isLogin('spv_df');\n    await this.tarikDataTable();\n    await this.setState({isLoading: false});\n\n    // await this.tarikData();\n    // await this.tarikDataPostgre();\n\n    // console.log('state data:', typeof(this.state.data))\n    // console.log('local', JSON.parse(localStorage.getItem('account')).role)\n\n  }\n\n  toggleModalApproval = async(id) => {\n    await this.setState(prevState => ({\n      isLoading: true,\n      // modalApproval: !prevState.modalApproval\n    }))\n\n    let sql = `\n        select dsha.ss_id, dsha.approved_rejected_by_id, dmu.\"name\", dsha.approval_rejected_status, dsha.create_date, COALESCE(to_char(dsha.create_date , 'DD Mon YYYY HH24:MI:SS'), '') AS approve_date from df_ss_history_approval dsha \n        join df_master_user dmu\n        on dsha.approved_rejected_by_id = dmu.id \n        where dsha.ss_id = `+id+`\n        order by dsha.id asc\n    `\n    var result = await axios.post(api_query, {\n                                query : sql\n                            })\n                                .then(async(result) => {\n                                let res = result.data.response.rows\n                                console.log('result : ', result)\n                                if (res.length == '') {\n                                    return []\n                                }else{\n                                  await this.setState({dataApproval: res})\n                                }\n                            }).catch(err => {\n                                console.log('error : ', err)\n                                return []\n                            })\n\n\n    await this.setState(prevState => ({\n      isLoading: true,\n      modalApproval: !prevState.modalApproval\n    }))\n\n    await this.setState({isLoading: false})\n  }\n  \n  toggleModalFixApproval = async() => {\n    this.setState(prevState => ({\n      modalApproval: !prevState.modalApproval,\n      dataApproval: []\n    }))\n  \n  }\n\n  viewApproval = async(data) =>{\n    console.log('viewApproval : ', data)\n    console.log('viewApproval : ', data.ds_id)\n    await this.toggleModalApproval(data.ds_id);\n  }\n\n  isLogin = async(role) =>{\n    if (localStorage.getItem('account') == undefined || localStorage.getItem('account') == null) {\n      history.push(\"/pages/login\")\n    }else if(JSON.parse(localStorage.getItem('account')).role !== role){\n      history.push(\"/pages/login\")\n    }\n    else{\n      var myProfile = JSON.parse(localStorage.getItem('account'))\n      console.log('myProfile', myProfile)\n      this.setState({myProfile: myProfile})\n    }\n  }\n\n  toggleModalDigimon = async(name, img) =>{\n      console.log('LAUNCH TOGGLE DIGIMON')\n\n      if (name == undefined) {\n        await this.setState({\n            modalVisible: false,\n            modalImage: null,\n            modalNameDigimon: ''\n        })\n      }else{\n        await this.setState({\n            modalVisible: !this.state.modalVisible,\n            modalImage: img,\n            modalDigimonName: name\n        })\n      }\n\n\n  }\n\n  tarikDataTable = async() =>{\n\n    // let sql = `\n    // select *, to_char(ds.tanggal_dibuat, 'dd Mon yyyy') as tgl, dss.status_deskripsi, ds.id as ds_id\n    // from df_suggestion_system ds\n    //     join df_ss_status dss\n    //     on ds.ss_status_id = dss.id\n    // where\n    //     ds.pengusul_id = `+this.state.myProfile.id+` and\n    //     ds.ss_status_id != 9\n    //     order by ds.id DESC\n    // `\n\n    let sql = `\n    select *, to_char(ds.tanggal_dibuat, 'dd Mon yyyy') as tgl, dss.status_deskripsi, ds.id as ds_id\n            from df_suggestion_system ds\n            join df_ss_status dss\n            on ds.ss_status_id = dss.id\n      where\n        fasilitator_id = `+this.state.myProfile.id+` and\n        ss_status_id = `+2+`\n        order by ds.id desc\n    `\n\n    \n    var result = await axios.post(api_query, {\n                                query : sql\n                            })\n                                .then(async(result) => {\n                                // let res = result.data.response\n                                var res = result.data.response.rows\n\n                                // console.log('result : ', result)\n                                // console.log('result postgres : ', result)\n                                console.log('result query : ', res)\n                                console.log('query leng :', res.length)\n                                if (res.length == '') {\n                                    return []\n                                }else{\n                                  var _temp = []\n\n                                  for (let index = 0; index < res.length; index++) {\n                                    const element = res[index].tema;\n                                    var temaSingkat = element.split(' ').slice(0,2).join(' ')\n                                    temaSingkat = temaSingkat + ' ... '\n\n                                    var tema = res[index];\n                                    tema.tema_singkat = temaSingkat\n\n                                    // console.log('dummy : ', dummy)\n\n                                    // // const elementTgl = res[index].tanggal_dibuat;\n                                    // // var tgl = elementTgl.split('T')\n                                    // console.log('tgl query : ', res[index].tgl)\n\n                                    // console.log('tema singkat : ', temaSingkat)\n                                    // // console.log('tanggal : ', tgl[0])\n                                    // console.log('element:', element)\n\n                                    _temp.push(tema)\n\n                                  }\n\n                                  await this.setState({data: _temp})\n                                }\n                            }).catch(err => {\n                                console.log('error : ', err)\n                                return []\n                            })\n      // await this.setState({data: result})\n    }\n\n  handleFilter = e => {\n    let value = e.target.value\n    let data = this.state.data\n    let filteredData = this.state.filteredData\n    this.setState({ value })\n\n    if (value.length) {\n      filteredData = data.filter(item => {\n        // console.log('ITEM : ', item)\n        let startsWithCondition =\n          item.tema.toLowerCase().startsWith(value.toLowerCase()) ||\n          item.tgl.toLowerCase().startsWith(value.toLowerCase()) ||\n          item.status_deskripsi.toLowerCase().startsWith(value.toLowerCase())\n          // item.name.toLowerCase().startsWith(value.toLowerCase())\n          // item.date.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.email.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.status.toLowerCase().startsWith(value.toLowerCase())\n        let includesCondition =\n          item.tema.toLowerCase().includes(value.toLowerCase()) ||\n          item.tgl.toLowerCase().includes(value.toLowerCase()) ||\n          item.status_deskripsi.toLowerCase().includes(value.toLowerCase())\n          // item.name.toLowerCase().includes(value.toLowerCase())\n          // item.date.toLowerCase().includes(value.toLowerCase()) ||\n          // item.email.toLowerCase().includes(value.toLowerCase()) ||\n          // item.revenue.toLowerCase().includes(value.toLowerCase()) ||\n          // item.status.toLowerCase().includes(value.toLowerCase())\n\n        if (startsWithCondition) {\n          return startsWithCondition\n        } else if (!startsWithCondition && includesCondition) {\n          return includesCondition\n        } else return null\n      })\n      this.setState({ filteredData })\n    }\n  }\n\n  viewSS = async(data, id, cff_id) =>{\n    console.log('view SS : ', id)\n    console.log('data row : ', data)\n    this.props.changeViewPage('edit', data, id)\n  }\n\n  render() {\n    let { data, columns, value, filteredData } = this.state\n    return (\n        <>\n          {this.state.isLoading?\n            <Spinner/>\n            :\n            <div>\n            <Card>\n                <CardHeader>\n                <CardTitle>Approval SS Spv</CardTitle>\n                </CardHeader>\n                <CardBody className=\"rdt_Wrapper\">\n                <DataTable\n                    className=\"dataTable-custom\"\n                    data={value.length ? filteredData : data}\n                    columns={columns}\n                    noHeader\n                    pagination\n                    subHeader\n                    subHeaderComponent={\n                    <CustomHeader value={value} handleFilter={this.handleFilter} tarikData={this.tarikData}/>\n                    // <CustomHeader value={value} handleFilter={this.handleFilter} tarikData={this.tarikDataTable}/>\n                    }\n                />\n                </CardBody>\n            </Card>\n\n            <Modal\n                isOpen={this.state.modalApproval}\n                toggle={this.toggleModalApproval}\n                className=\"modal-dialog-centered\"\n                backdrop=\"static\"\n              >\n                <ModalHeader toggle={this.toggleModalFixApproval} className=\"bg-success\">\n                  List approval\n                </ModalHeader>\n                <ModalBody className=\"modal-dialog-centered\">\n                  {/* <Row> */}\n                    <DataTable\n                      className=\"dataTable-custom\"\n                      data={this.state.dataApproval}\n                      columns={this.state.columnsApproval}\n                      noHeader\n                  />\n                    {/* </Row> */}\n                </ModalBody>\n                <ModalFooter>\n                <Button color=\"danger\" onClick={this.toggleModalFixApproval}>\n                  close\n                </Button>{\" \"}\n                </ModalFooter>\n            </Modal>\n            </div>\n            }\n      </>\n    )\n  }\n}\n\nexport default SpvApprovalSSTable\n"]},"metadata":{},"sourceType":"module"}