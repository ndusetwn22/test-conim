{"ast":null,"code":"var _jsxFileName = \"/Users/pandusetiawan/Documents/react/df-v1.1/src/layouts/components/navbar/NavbarBookmarks.js\";\nimport React from \"react\";\nimport { NavItem, NavLink, UncontrolledTooltip, UncontrolledDropdown, DropdownItem, DropdownMenu, DropdownToggle } from \"reactstrap\";\nimport * as Icon from \"react-feather\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport AutoComplete from \"../../../components/@vuexy/autoComplete/AutoCompleteComponent\";\nimport { history } from \"../../../history\";\nimport { connect } from \"react-redux\";\nimport { loadSuggestions, updateStarred } from \"../../../redux/actions/navbar/Index\";\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\"; // a little function to help us with reordering the bookmarks\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n  const [removed] = result.splice(startIndex, 1);\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n\nclass NavbarBookmarks extends React.PureComponent {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      showBookmarks: false,\n      value: \"\",\n      noSuggestions: false,\n      isStarred: false,\n      suggestions: [],\n      starredItems: []\n    };\n    this.updateBookmarks = false;\n\n    this.handleBookmarksVisibility = () => {\n      this.setState({\n        showBookmarks: !this.state.showBookmarks,\n        value: \"\",\n        suggestions: [],\n        noSuggestions: false,\n        starred: null\n      });\n    };\n\n    this.onDragEnd = result => {\n      // dropped outside the list\n      if (!result.destination) {\n        return;\n      }\n\n      const starredItems = reorder(this.state.starredItems, result.source.index, result.destination.index);\n      this.setState({\n        starredItems\n      });\n    };\n\n    this.renderBookmarks = () => {\n      this.updateBookmarks = true;\n      return /*#__PURE__*/React.createElement(DragDropContext, {\n        onDragEnd: this.onDragEnd,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 12\n        }\n      }, /*#__PURE__*/React.createElement(Droppable, {\n        droppableId: \"droppable\",\n        direction: \"horizontal\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }\n      }, (provided, snapshot) => /*#__PURE__*/React.createElement(\"div\", Object.assign({\n        ref: provided.innerRef\n      }, provided.droppableProps, {\n        className: \"d-flex flex-sm-wrap flex-lg-nowrap draggable-cards\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }\n      }), this.state.starredItems.map((item, index) => {\n        const IconTag = Icon[item.icon ? item.icon : \"X\"];\n        return /*#__PURE__*/React.createElement(Draggable, {\n          key: item.target,\n          draggableId: item.target,\n          index: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 17\n          }\n        }, (provided, snapshot) => {\n          return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n            ref: provided.innerRef\n          }, provided.draggableProps, provided.dragHandleProps, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 28\n            }\n          }), /*#__PURE__*/React.createElement(NavItem, {\n            className: \"nav-item d-none d-lg-block\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(NavLink, {\n            tag: \"span\",\n            id: item.target,\n            className: \"nav-link cursor-pointer\",\n            onClick: () => history.push(item.link),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(IconTag, {\n            size: 21,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 27\n            }\n          })), /*#__PURE__*/React.createElement(UncontrolledTooltip, {\n            placement: \"bottom\",\n            target: item.target,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 25\n            }\n          }, item.title)));\n        });\n      }), provided.placeholder)));\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.bookmarks.starred.length !== this.state.starredItems.length && this.updateBookmarks === true) {\n      this.setState({\n        starredItems: this.props.bookmarks.starred\n      });\n      this.updateBookmarks = false;\n    }\n  }\n\n  componentDidMount() {\n    let {\n      bookmarks: {\n        suggestions,\n        starred\n      },\n      loadSuggestions\n    } = this.props;\n    this.setState({\n      suggestions: suggestions,\n      starredItems: starred\n    }, loadSuggestions());\n  }\n\n  render() {\n    let {\n      bookmarks: {\n        extraStarred,\n        suggestions\n      },\n      sidebarVisibility,\n      updateStarred,\n      handleAppOverlay\n    } = this.props;\n    const renderExtraStarred = extraStarred.length > 0 ? extraStarred.map(i => {\n      const IconTag = Icon[i.icon ? i.icon : null];\n      return /*#__PURE__*/React.createElement(DropdownItem, {\n        key: i.id,\n        href: i.link,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(IconTag, {\n        size: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle ml-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 15\n        }\n      }, i.title));\n    }) : null;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-auto float-left bookmark-wrapper d-flex align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"navbar-nav d-xl-none\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(NavItem, {\n      className: \"mobile-menu mr-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      className: \"nav-menu-main menu-toggle hidden-xs is-active\",\n      onClick: sidebarVisibility,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon.Menu, {\n      className: \"ficon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    })))), /*#__PURE__*/React.createElement(\"ul\", {\n      className: \"nav navbar-nav bookmark-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, this.renderBookmarks(), extraStarred.length > 0 ? /*#__PURE__*/React.createElement(NavItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      tag: \"div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      tag: \"span\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Icon.ChevronDown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(DropdownMenu, {\n      right: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, renderExtraStarred)))) : null, /*#__PURE__*/React.createElement(NavItem, {\n      className: \"nav-item d-none d-lg-block\",\n      onClick: this.handleBookmarksVisibility,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(NavLink, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Icon.Star, {\n      className: \"text-warning\",\n      size: 21,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames(\"bookmark-input search-input\", {\n        show: this.state.showBookmarks\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bookmark-input-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Icon.Search, {\n      size: 15,\n      className: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(AutoComplete, {\n      suggestions: suggestions,\n      className: \"form-control\",\n      filterKey: \"title\",\n      autoFocus: true,\n      suggestionLimit: this.state.value.length ? 6 : 100,\n      clearInput: this.state.showBookmarks,\n      defaultSuggestions: true,\n      onChange: e => this.setState({\n        value: e.target.value\n      }),\n      externalClick: e => this.setState({\n        showBookmarks: false\n      }),\n      onKeyDown: e => {\n        if (e.keyCode === 27 || e.keyCode === 13) {\n          this.setState({\n            showBookmarks: false\n          });\n          handleAppOverlay(\"\");\n        }\n      },\n      customRender: (suggestion, i, filteredData, activeSuggestion, onSuggestionItemClick, onSuggestionItemHover, userInput) => {\n        const IconTag = Icon[suggestion.icon ? suggestion.icon : \"X\"];\n\n        if (userInput.length) {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            className: classnames(\"suggestion-item d-flex justify-content-between\", {\n              active: filteredData.indexOf(suggestion) === activeSuggestion\n            }),\n            key: suggestion.target,\n            onClick: e => {\n              if (!this.state.showBookmarks) {\n                e.stopPropagation();\n              }\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            to: suggestion.link,\n            className: \"component-info w-100\",\n            onClick: () => this.setState({\n              showBookmarks: false\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(IconTag, {\n            size: 15,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 27\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"align-middle ml-1\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 27\n            }\n          }, suggestion.title)), /*#__PURE__*/React.createElement(Icon.Star, {\n            className: classnames({\n              \"text-warning\": suggestion.starred === true\n            }),\n            size: 17,\n            onClick: e => {\n              updateStarred(suggestion);\n              e.stopPropagation();\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 25\n            }\n          }));\n        } else {\n          return suggestion.starred === true ? /*#__PURE__*/React.createElement(\"li\", {\n            key: suggestion.target,\n            className: classnames(\"suggestion-item d-flex justify-content-between\", {\n              active: filteredData.indexOf(suggestion) === activeSuggestion\n            }),\n            onClick: e => {\n              if (!this.state.showBookmarks) {\n                e.stopPropagation();\n              }\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 23\n            }\n          }, /*#__PURE__*/React.createElement(Link, {\n            to: suggestion.link,\n            className: \"component-info w-100\",\n            onClick: e => this.setState({\n              showBookmarks: false\n            }),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 25\n            }\n          }, /*#__PURE__*/React.createElement(IconTag, {\n            size: 15,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 27\n            }\n          }), /*#__PURE__*/React.createElement(\"span\", {\n            className: \"align-middle ml-1\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 27\n            }\n          }, suggestion.title)), /*#__PURE__*/React.createElement(Icon.Star, {\n            className: classnames({\n              \"text-warning\": suggestion.starred === true\n            }),\n            size: 17,\n            onClick: e => {\n              updateStarred(suggestion);\n              e.stopPropagation();\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 25\n            }\n          })) : null;\n        }\n      },\n      onSuggestionsShown: userInput => {\n        if (this.state.showBookmarks) {\n          handleAppOverlay(userInput);\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    bookmarks: state.navbar\n  };\n}; // export default connect(mapStateToProps, { loadSuggestions, updateStarred })(\n//   NavbarBookmarks\n// )","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.1/src/layouts/components/navbar/NavbarBookmarks.js"],"names":["React","NavItem","NavLink","UncontrolledTooltip","UncontrolledDropdown","DropdownItem","DropdownMenu","DropdownToggle","Icon","Link","classnames","AutoComplete","history","connect","loadSuggestions","updateStarred","DragDropContext","Droppable","Draggable","reorder","list","startIndex","endIndex","result","Array","from","removed","splice","NavbarBookmarks","PureComponent","state","showBookmarks","value","noSuggestions","isStarred","suggestions","starredItems","updateBookmarks","handleBookmarksVisibility","setState","starred","onDragEnd","destination","source","index","renderBookmarks","provided","snapshot","innerRef","droppableProps","map","item","IconTag","icon","target","draggableProps","dragHandleProps","push","link","title","placeholder","componentDidUpdate","prevProps","bookmarks","length","props","componentDidMount","render","extraStarred","sidebarVisibility","handleAppOverlay","renderExtraStarred","i","id","show","e","keyCode","suggestion","filteredData","activeSuggestion","onSuggestionItemClick","onSuggestionItemHover","userInput","active","indexOf","stopPropagation","mapStateToProps","navbar"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {\n  NavItem,\n  NavLink,\n  UncontrolledTooltip,\n  UncontrolledDropdown,\n  DropdownItem,\n  DropdownMenu,\n  DropdownToggle\n} from \"reactstrap\"\nimport * as Icon from \"react-feather\"\nimport { Link } from \"react-router-dom\"\nimport classnames from \"classnames\"\nimport AutoComplete from \"../../../components/@vuexy/autoComplete/AutoCompleteComponent\"\nimport { history } from \"../../../history\"\nimport { connect } from \"react-redux\"\nimport {\n  loadSuggestions,\n  updateStarred\n} from \"../../../redux/actions/navbar/Index\"\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\"\n\n// a little function to help us with reordering the bookmarks\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list)\n  const [removed] = result.splice(startIndex, 1)\n  result.splice(endIndex, 0, removed)\n  return result\n}\n\nclass NavbarBookmarks extends React.PureComponent {\n  state = {\n    showBookmarks: false,\n    value: \"\",\n    noSuggestions: false,\n    isStarred: false,\n    suggestions: [],\n    starredItems: []\n  }\n\n  updateBookmarks = false\n\n  handleBookmarksVisibility = () => {\n    this.setState({\n      showBookmarks: !this.state.showBookmarks,\n      value: \"\",\n      suggestions: [],\n      noSuggestions: false,\n      starred: null\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.bookmarks.starred.length !== this.state.starredItems.length && this.updateBookmarks === true) {\n      this.setState({ starredItems: this.props.bookmarks.starred })\n      this.updateBookmarks = false\n    }\n  }\n\n  componentDidMount() {\n    let {\n      bookmarks: { suggestions, starred },\n      loadSuggestions\n    } = this.props\n    this.setState(\n      {\n        suggestions: suggestions,\n        starredItems: starred\n      },\n      loadSuggestions()\n    )\n  }\n\n  onDragEnd = result => {\n    // dropped outside the list\n    if (!result.destination) {\n      return\n    }\n\n    const starredItems = reorder(\n      this.state.starredItems,\n      result.source.index,\n      result.destination.index\n    )\n\n    this.setState({\n      starredItems\n    })\n  }\n\n  renderBookmarks = () => {\n    this.updateBookmarks = true\n    return <DragDropContext onDragEnd={this.onDragEnd}>\n      <Droppable droppableId=\"droppable\" direction=\"horizontal\">\n        {(provided, snapshot) => (\n          <div\n            ref={provided.innerRef}\n            {...provided.droppableProps}\n            className=\"d-flex flex-sm-wrap flex-lg-nowrap draggable-cards\"\n          >\n            {this.state.starredItems.map((item, index) => {\n              const IconTag = Icon[item.icon ? item.icon : \"X\"]\n              return (\n                <Draggable key={item.target} draggableId={item.target} index={index}>\n                  {(provided, snapshot) => {\n                    return <div ref={provided.innerRef}\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}>\n                      <NavItem className=\"nav-item d-none d-lg-block\">\n                        <NavLink\n                          tag=\"span\"\n                          id={item.target}\n                          className=\"nav-link cursor-pointer\"\n                          onClick={() => history.push(item.link)}\n\n                        >\n                          <IconTag size={21} />\n                        </NavLink>\n                        <UncontrolledTooltip placement=\"bottom\" target={item.target}>\n                          {item.title}\n                        </UncontrolledTooltip>\n                      </NavItem>\n                    </div>\n                  }}\n\n                </Draggable>\n              )\n            })}\n            {provided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </DragDropContext>\n  }\n\n\n\n  render() {\n    let {\n      bookmarks: { extraStarred, suggestions },\n      sidebarVisibility,\n      updateStarred,\n      handleAppOverlay\n    } = this.props\n\n    const renderExtraStarred =\n      extraStarred.length > 0\n        ? extraStarred.map(i => {\n          const IconTag = Icon[i.icon ? i.icon : null]\n          return (\n            <DropdownItem key={i.id} href={i.link}>\n              <IconTag size={15} />\n              <span className=\"align-middle ml-1\">{i.title}</span>\n            </DropdownItem>\n          )\n        })\n        : null\n\n    return (\n      <div className=\"mr-auto float-left bookmark-wrapper d-flex align-items-center\">\n        <ul className=\"navbar-nav d-xl-none\">\n          <NavItem className=\"mobile-menu mr-auto\">\n            <NavLink\n              className=\"nav-menu-main menu-toggle hidden-xs is-active\"\n              onClick={sidebarVisibility}\n            >\n              <Icon.Menu className=\"ficon\" />\n            </NavLink>\n          </NavItem>\n        </ul>\n        <ul className=\"nav navbar-nav bookmark-icons\">\n          {this.renderBookmarks()}\n          {extraStarred.length > 0 ? (\n            <NavItem>\n              <NavLink tag=\"div\">\n                <UncontrolledDropdown>\n                  <DropdownToggle tag=\"span\">\n                    <Icon.ChevronDown />\n                  </DropdownToggle>\n                  <DropdownMenu right>{renderExtraStarred}</DropdownMenu>\n                </UncontrolledDropdown>\n              </NavLink>\n            </NavItem>\n          ) : null}\n          <NavItem\n            className=\"nav-item d-none d-lg-block\"\n            onClick={this.handleBookmarksVisibility}\n          >\n            <NavLink>\n              <Icon.Star className=\"text-warning\" size={21} />\n            </NavLink>\n            <div\n              className={classnames(\"bookmark-input search-input\", {\n                show: this.state.showBookmarks\n              })}\n            >\n              <div className=\"bookmark-input-icon\">\n                <Icon.Search size={15} className=\"primary\" />\n              </div>\n\n              <AutoComplete\n                suggestions={suggestions}\n                className=\"form-control\"\n                filterKey=\"title\"\n                autoFocus={true}\n                suggestionLimit={this.state.value.length ? 6 : 100}\n                clearInput={this.state.showBookmarks}\n                defaultSuggestions={true}\n                onChange={e => this.setState({ value: e.target.value })}\n                externalClick={e => this.setState({ showBookmarks: false })}\n                onKeyDown={e => {\n                  if (e.keyCode === 27 || e.keyCode === 13) {\n                    this.setState({\n                      showBookmarks: false\n                    })\n                    handleAppOverlay(\"\")\n                  }\n                }}\n                customRender={(\n                  suggestion,\n                  i,\n                  filteredData,\n                  activeSuggestion,\n                  onSuggestionItemClick,\n                  onSuggestionItemHover,\n                  userInput\n                ) => {\n                  const IconTag = Icon[suggestion.icon ? suggestion.icon : \"X\"]\n                  if (userInput.length) {\n                    return (\n                      <li\n                        className={classnames(\n                          \"suggestion-item d-flex justify-content-between\",\n                          {\n                            active:\n                              filteredData.indexOf(suggestion) ===\n                              activeSuggestion\n                          }\n                        )}\n                        key={suggestion.target}\n                        onClick={e => {\n                          if (!this.state.showBookmarks) {\n                            e.stopPropagation()\n                          }\n                        }}\n                      >\n                        <Link\n                          to={suggestion.link}\n                          className=\"component-info w-100\"\n                          onClick={() =>\n                            this.setState({ showBookmarks: false })\n                          }\n                        >\n                          <IconTag size={15} />\n                          <span className=\"align-middle ml-1\">\n                            {suggestion.title}\n                          </span>\n                        </Link>\n                        <Icon.Star\n                          className={classnames({\n                            \"text-warning\": suggestion.starred === true\n                          })}\n                          size={17}\n                          onClick={e => {\n                            updateStarred(suggestion)\n                            e.stopPropagation()\n                          }}\n                        />\n                      </li>\n                    )\n                  } else {\n                    return suggestion.starred === true ? (\n                      <li\n                        key={suggestion.target}\n                        className={classnames(\n                          \"suggestion-item d-flex justify-content-between\",\n                          {\n                            active:\n                              filteredData.indexOf(suggestion) ===\n                              activeSuggestion\n                          }\n                        )}\n                        onClick={e => {\n                          if (!this.state.showBookmarks) {\n                            e.stopPropagation()\n                          }\n                        }}\n                      >\n                        <Link\n                          to={suggestion.link}\n                          className=\"component-info w-100\"\n                          onClick={e => this.setState({ showBookmarks: false })}\n                        >\n                          <IconTag size={15} />\n                          <span className=\"align-middle ml-1\">\n                            {suggestion.title}\n                          </span>\n                        </Link>\n                        <Icon.Star\n                          className={classnames({\n                            \"text-warning\": suggestion.starred === true\n                          })}\n                          size={17}\n                          onClick={e => {\n                            updateStarred(suggestion)\n                            e.stopPropagation()\n                          }}\n                        />\n                      </li>\n                    ) : null\n                  }\n                }}\n                onSuggestionsShown={userInput => {\n                  if (this.state.showBookmarks) {\n                    handleAppOverlay(userInput)\n                  }\n                }}\n              />\n            </div>\n          </NavItem>\n        </ul>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    bookmarks: state.navbar\n  }\n}\n\n// export default connect(mapStateToProps, { loadSuggestions, updateStarred })(\n//   NavbarBookmarks\n// )\n"]},"metadata":{},"sourceType":"module"}