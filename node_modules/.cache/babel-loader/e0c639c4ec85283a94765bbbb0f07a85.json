{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Row,Col,Spinner}from\"reactstrap\";import Breadcrumbs from\"../../../components/@vuexy/breadCrumbs/BreadCrumb\";import WizardBasic from\"./op-ss-component/WizardBasic\";import WizardIcons from\"./op-ss-component/WizardIcons\";import WizardValidation from\"./op-ss-component/WizardValidation\";import FormWizard from\"./op-ss-component/FormWizard\";import axios from'axios';import{api_query}from\"../../../api/ApiConstant\";import OpSsTable from\"./OpSsTable\";import OpSsCreate from\"./op-ss-component/OpSsCreate\";import OpSsEdit from\"./op-ss-component/OpSsEdit\";import{history}from\"../../../../src/history\";var OpSsPage=/*#__PURE__*/function(_React$Component){_inherits(OpSsPage,_React$Component);var _super=_createSuper(OpSsPage);function OpSsPage(props){var _this;_classCallCheck(this,OpSsPage);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.isLogin('op_df');case 2:case\"end\":return _context.stop();}}},_callee);}));_this.changeViewPage=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(typeView,resultEdit){var tmpDataAtasan,tmp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(typeView=='add')){_context2.next=5;break;}_context2.next=3;return _this.setState({addPage:true,editPage:false});case 3:_context2.next=14;break;case 5:if(!(typeView=='edit')){_context2.next=12;break;}//\ntmpDataAtasan=_this.tarikAtasan();tmp=resultEdit;// console.log('new data tmp : ', tmp)\n_context2.next=10;return _this.setState({addPage:false,editPage:true,editData:tmp,dataAtasan:tmpDataAtasan});case 10:_context2.next=14;break;case 12:_context2.next=14;return _this.setState({addPage:false,editPage:false});case 14:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}();_this.tarikAtasan=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var sql,result;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:sql=\"\\n    select id as value,\\n      name as label,\\n      departement_id\\n    from df_master_user dmu\\n    where departement_id = \"+_this.state.myProfile.departement_id+\"\\n    and job_level = '4'\\n    \";_context4.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(result){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:res=result.data.response.rows;console.log('result query atasan : ',res);if(!(res.length=='')){_context3.next=4;break;}return _context3.abrupt(\"return\",[]);case 4:_context3.next=6;return _this.setState({dataAtasan:res});case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref4.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context4.sent;case 4:case\"end\":return _context4.stop();}}},_callee4);}));_this.isLogin=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(role){var myProfile;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(localStorage.getItem('account')==undefined||localStorage.getItem('account')==null){history.push(\"/pages/login\");}else if(JSON.parse(localStorage.getItem('account')).role!==role){history.push(\"/pages/login\");}else{myProfile=JSON.parse(localStorage.getItem('account'));console.log('myProfile ss : ',myProfile);_this.setState({myProfile:myProfile});}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref5.apply(this,arguments);};}();_this.state={addPage:false,editPage:false,editData:null,myProfile:null,dataAtasan:[]};return _this;}_createClass(OpSsPage,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.addPage?/*#__PURE__*/React.createElement(Breadcrumbs,{breadCrumbTitle:\"SS Operator Create\",breadCrumbParent:\"SS\",breadCrumbActive:\"SS Operator Create\"}):this.state.editPage?/*#__PURE__*/React.createElement(Breadcrumbs,{breadCrumbTitle:\"SS Operator View\",breadCrumbParent:\"SS\",breadCrumbActive:\"SS Operator View\"}):/*#__PURE__*/React.createElement(Breadcrumbs,{breadCrumbTitle:\"SS Operator\",breadCrumbParent:\"SS\",breadCrumbActive:\"SS Operator\"}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},this.state.addPage?/*#__PURE__*/ // <FormWizard {...this.state} {...this.props} changeViewPage={this.changeViewPage}/>\n// <EmployeesAdd {...this.state} {...this.props} changeViewPage={this.changeViewPage}/>\nReact.createElement(OpSsCreate,Object.assign({},this.state,this.props,{changeViewPage:this.changeViewPage})):this.state.editPage?/*#__PURE__*/React.createElement(OpSsEdit,Object.assign({},this.state,this.props,{changeViewPage:this.changeViewPage})):/*#__PURE__*/React.createElement(OpSsTable,Object.assign({},this.state,this.props,{changeViewPage:this.changeViewPage})))));}}]);return OpSsPage;}(React.Component);export default OpSsPage;","map":null,"metadata":{},"sourceType":"module"}