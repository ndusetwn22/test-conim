{"ast":null,"code":"var _jsxFileName = \"/Users/pandusetiawan/Documents/react/rombak-react-vuexy2/src/views/home/home.js\";\nimport React from \"react\";\nimport { Row, Col, Spinner } from \"reactstrap\";\nimport Breadcrumbs from \"../../components/@vuexy/breadCrumbs/BreadCrumb\";\nimport DataTableEmployees from \"./DataTableEmployees\";\nimport EmployeesAdd from \"./EmployeesAdd\";\nimport EmployeesEdit from \"./EmployeesEdit\";\nimport axios from 'axios';\nimport { api_query } from \"../../api/ApiConstant\";\n\nclass HomePage extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeViewPage = async (typeView, resultEdit) => {\n      if (typeView == 'add') {\n        await this.setState({\n          addPage: true,\n          editPage: false\n        });\n      } else if (typeView == 'edit') {\n        await this.tarikDataDept();\n        await this.tarikDataPosition();\n        var tmp = resultEdit;\n        tmp.all_dept_name = this.state.dept_name;\n        tmp.all_position = this.state.position; // console.log('new data tmp : ', tmp)\n\n        await this.setState({\n          editPage: true,\n          editData: tmp,\n          addPage: false\n        }); // await this.setState({editPage: true, editData: resultEdit, addPage: false})\n      } else {\n        await this.setState({\n          addPage: false,\n          editPage: false\n        });\n      }\n    };\n\n    this.tarikDataDept = async () => {\n      console.log('tarik data'); // let sql = `\n      //     select * from employees_new limit 10000;\n      // `\n\n      let sql = `\n    select * from departments_new\n    `;\n      var result = await axios.post(api_query, {\n        query: sql\n      }).then(result => {\n        let res = result.data.response; // console.log('result : ', result)\n\n        if (res.length == '') {\n          return [];\n        }\n\n        var tmp = [];\n\n        for (let index = 0; index < res.length; index++) {\n          const element = res[index]; // console.log('dataaaaa : ', element)\n\n          var data = {};\n          data.id = element.id;\n          data.value = element.id;\n          data.label = element.dept_name;\n          tmp.push(data); // console.log('tiap push : ', tmp)\n        } // console.log('hasil push : ', tmp)\n        // return res;\n\n\n        return tmp;\n      }).catch(err => {\n        console.log('error : ', err);\n        return [];\n      });\n      await this.setState({\n        dept_name: result\n      });\n    };\n\n    this.tarikDataPosition = async () => {\n      // console.log('tarik data')\n      // let sql = `\n      //     select * from employees_new limit 10000;\n      // `\n      let sql = `\n      select * from position_management\n      `;\n      var result = await axios.post(api_query, {\n        query: sql\n      }).then(result => {\n        let res = result.data.response; // console.log('result : ', result)\n\n        if (res.length == '') {\n          return [];\n        }\n\n        var tmp = [];\n\n        for (let index = 0; index < res.length; index++) {\n          const element = res[index]; // console.log('dataaaaa : ', element)\n\n          var data = {};\n          data.id = element.id;\n          data.value = element.id;\n          data.label = element.position;\n          tmp.push(data); // console.log('tiap push : ', tmp)\n        } // console.log('hasil push : ', tmp)\n        // return res;\n\n\n        return tmp;\n      }).catch(err => {\n        console.log('error : ', err);\n        return [];\n      });\n      await this.setState({\n        position: result\n      });\n    };\n\n    this.state = {\n      addPage: false,\n      editPage: false,\n      editData: null,\n      dept_name: null,\n      position: null\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, this.state.addPage ? /*#__PURE__*/React.createElement(Breadcrumbs, {\n      breadCrumbTitle: \"Employees Add\",\n      breadCrumbParent: \"Employees\",\n      breadCrumbActive: \"Employees Add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }) : this.state.editPage ? /*#__PURE__*/React.createElement(Breadcrumbs, {\n      breadCrumbTitle: \"Employees Edit\",\n      breadCrumbParent: \"Employees\",\n      breadCrumbActive: \"Employees Edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 13\n      }\n    }) : /*#__PURE__*/React.createElement(Breadcrumbs, {\n      breadCrumbTitle: \"Employees\",\n      breadCrumbParent: \"Employees\",\n      breadCrumbActive: \"Employees\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/rombak-react-vuexy2/src/views/home/home.js"],"names":["React","Row","Col","Spinner","Breadcrumbs","DataTableEmployees","EmployeesAdd","EmployeesEdit","axios","api_query","HomePage","Component","constructor","props","changeViewPage","typeView","resultEdit","setState","addPage","editPage","tarikDataDept","tarikDataPosition","tmp","all_dept_name","state","dept_name","all_position","position","editData","console","log","sql","result","post","query","then","res","data","response","length","index","element","id","value","label","push","catch","err","render"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Row, Col, Spinner } from \"reactstrap\"\nimport Breadcrumbs from \"../../components/@vuexy/breadCrumbs/BreadCrumb\"\nimport DataTableEmployees from \"./DataTableEmployees\"\nimport EmployeesAdd from \"./EmployeesAdd\"\nimport EmployeesEdit from \"./EmployeesEdit\"\nimport axios from 'axios';\nimport { api_query } from \"../../api/ApiConstant\"\n\n\nclass HomePage extends React.Component {\n  constructor(props){\n      super(props);\n      this.state = {\n          addPage: false,\n          editPage: false,\n          editData: null,\n          dept_name: null,\n          position: null,\n\n      }\n  }\n\n  changeViewPage = async(typeView, resultEdit) =>{\n    if (typeView == 'add') {\n        await this.setState({addPage: true, editPage: false})\n    }else if (typeView == 'edit') {\n      await this.tarikDataDept();\n      await this.tarikDataPosition();\n      var tmp = resultEdit\n      tmp.all_dept_name = this.state.dept_name\n      tmp.all_position = this.state.position\n      // console.log('new data tmp : ', tmp)\n      await this.setState({editPage: true, editData: tmp, addPage: false})\n      // await this.setState({editPage: true, editData: resultEdit, addPage: false})\n    }\n    else{\n        await this.setState({addPage: false, editPage: false})\n    }\n  }\n\n  tarikDataDept = async() =>{\n    console.log('tarik data')\n    // let sql = `\n    //     select * from employees_new limit 10000;\n    // `\n\n    let sql = `\n    select * from departments_new\n    `\n    var result = await axios.post(api_query, {\n                                query : sql\n                            })\n                                .then(result => {\n                                let res = result.data.response\n                                // console.log('result : ', result)\n                                if (res.length == '') {\n                                    return []\n                                }\n\n                                var tmp = []\n                                for (let index = 0; index < res.length; index++) {\n                                  const element = res[index];\n                                  // console.log('dataaaaa : ', element)\n                                  var data = {}\n                                  data.id = element.id\n                                  data.value = element.id\n                                  data.label = element.dept_name\n                                  tmp.push(data)\n                                  // console.log('tiap push : ', tmp)\n                                }\n                                // console.log('hasil push : ', tmp)\n                                // return res;\n                                return tmp;\n                            }).catch(err => {\n                                console.log('error : ', err)\n                                return []\n                            })\n    await this.setState({dept_name: result})\n    }\n\n  tarikDataPosition = async() =>{\n      // console.log('tarik data')\n      // let sql = `\n      //     select * from employees_new limit 10000;\n      // `\n\n      let sql = `\n      select * from position_management\n      `\n      var result = await axios.post(api_query, {\n                                  query : sql\n                              })\n                                  .then(result => {\n                                  let res = result.data.response\n                                  // console.log('result : ', result)\n                                  if (res.length == '') {\n                                      return []\n                                  }\n\n                                  var tmp = []\n                                  for (let index = 0; index < res.length; index++) {\n                                    const element = res[index];\n                                    // console.log('dataaaaa : ', element)\n                                    var data = {}\n                                    data.id = element.id\n                                    data.value = element.id\n                                    data.label = element.position\n                                    tmp.push(data)\n                                    // console.log('tiap push : ', tmp)\n                                  }\n                                  // console.log('hasil push : ', tmp)\n                                  // return res;\n                                  return tmp;\n                              }).catch(err => {\n                                  console.log('error : ', err)\n                                  return []\n                              })\n        await this.setState({position: result})\n      }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.state.addPage ?\n            <Breadcrumbs\n                breadCrumbTitle=\"Employees Add\"\n                breadCrumbParent=\"Employees\"\n                breadCrumbActive=\"Employees Add\"\n            />\n        :\n        this.state.editPage ?\n            <Breadcrumbs\n                breadCrumbTitle=\"Employees Edit\"\n                breadCrumbParent=\"Employees\"\n                breadCrumbActive=\"Employees Edit\"\n            />\n        :\n            <Breadcrumbs\n                breadCrumbTitle=\"Employees\"\n                breadCrumbParent=\"Employees\"\n                breadCrumbActive=\"Employees\"\n            />\n         }\n        <Row>\n\n          {/* <Col sm=\"12\">\n              {this.state.addPage ?\n                <EmployeesAdd {...this.state} {...this.props} changeViewPage={this.changeViewPage}/>\n                // <Spinner color=\"primary\" />\n              :\n              this.state.editPage ?\n                <EmployeesEdit {...this.state} {...this.props} changeViewPage={this.changeViewPage}/>\n              :\n                <DataTableEmployees {...this.state} {...this.props} changeViewPage={this.changeViewPage}/>\n              }\n          </Col> */}\n\n        </Row>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default HomePage\n"]},"metadata":{},"sourceType":"module"}