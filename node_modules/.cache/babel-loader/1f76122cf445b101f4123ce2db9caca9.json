{"ast":null,"code":"import _defineProperty from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{useState}from\"react\";import{api_query}from\"../../../../api/ApiConstant\";import axios from'axios';import{Card,CardHeader,CardTitle,CardBody,FormGroup,Row,Col,Input,Form,Button,Label,Modal,ModalHeader,ModalBody,ModalFooter,Alert}from\"reactstrap\";import Checkbox from\"../../../../components/@vuexy/checkbox/CheckboxesVuexy\";import{Check,Star,Save,Send,X}from\"react-feather\";// import { history } from \"../../../../../src/history\"\nimport Select from\"react-select\";import SweetAlert from\"react-bootstrap-sweetalert\";import Toggle from\"react-toggle\";import{history}from\"../../../../../src/history\";import\"react-toggle/style.css\";import\"../../../../assets/scss/plugins/forms/switch/react-toggle.scss\";var KaryawanView=/*#__PURE__*/function(_React$Component){_inherits(KaryawanView,_React$Component);var _super=_createSuper(KaryawanView);function KaryawanView(props){var _this;_classCallCheck(this,KaryawanView);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.isLogin('super_admin');case 2:_context.next=4;return _this.tarikDepartemen();case 4:// await this.tarikDataProfile();\n// await this.tarikDataFormCff();\n// await this.tarikKategori();\n// await this.tarikAtasan();\nconsole.log('props edit : ',_this.props);case 5:case\"end\":return _context.stop();}}},_callee);}));_this.toggleModal=function(){_this.setState(function(prevState){return{modal:!prevState.modal};});};_this.toggleModalFix=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var sql,result,_sql;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_this.setState(function(prevState){return{modal:!prevState.modal};});if(!(_this.state.kategoriSelected==''||_this.state.kategoriSelected==null)){_context6.next=7;break;}_context6.next=4;return _this.handleAlert('isSweetAlert',true,'Warning','Kategori Tidak Boleh Kosong','warning');case 4:return _context6.abrupt(\"return\",_context6.sent);case 7:if(!_this.state.isChecked){_context6.next=12;break;}if(!(_this.state.catatanCC==''||_this.state.catatanCC==null)){_context6.next=12;break;}_context6.next=11;return _this.handleAlert('isSweetAlert',true,'Warning','Catatan CC Tidak Boleh Kosong','warning');case 11:return _context6.abrupt(\"return\",_context6.sent);case 12:if(!_this.state.isChecked){_context6.next=21;break;}console.log('isChecked');sql=\"\\n        with ins1 as(\\n            update df_cff\\n            set\\n            change_control = 'Y',\\n            catatan_cc = '\"+_this.state.catatanCC+\"',\\n            status_cff_id = 3,\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = now()\\n            where id = \"+_this.props.editData.cff_id+\"\\n        returning id as return_id\\n        )\\n            update df_ss\\n            set\\n            ss_kategori_id = \"+_this.state.kategoriSelected+\",\\n            ss_status_id = 3,\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = now()\\n            where id = \"+_this.props.editData.ds_id+\"\\n        \";console.log('sql : ',sql);_context6.next=18;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(result){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context2.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil Approve SS','success');case 3:return _context2.abrupt(\"return\",_context2.sent);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref3.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(err){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log('error : ',err);_context3.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal Approve SS','danger');case 3:return _context3.abrupt(\"return\",_context3.sent);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref4.apply(this,arguments);};}());case 18:result=_context6.sent;_context6.next=27;break;case 21:console.log('not Checked');_sql=\"\\n        with ins1 as(\\n            update df_cff\\n            set\\n            change_control = 'N',\\n            status_cff_id = 3,\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = now()\\n            where id = \"+_this.props.editData.cff_id+\"\\n        returning id as return_id\\n        )\\n            update df_ss\\n            set\\n            ss_kategori_id = \"+_this.state.kategoriSelected+\",\\n            ss_status_id = 3,\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = now()\\n            where id = \"+_this.props.editData.ds_id+\"\\n        \";console.log('sql : ',_sql);_context6.next=26;return axios.post(api_query,{query:_sql}).then(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(result){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context4.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil Approve SS','success');case 3:return _context4.abrupt(\"return\",_context4.sent);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref5.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(err){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:console.log('error : ',err);_context5.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal Approve SS','danger');case 3:return _context5.abrupt(\"return\",_context5.sent);case 4:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref6.apply(this,arguments);};}());case 26:result=_context6.sent;case 27:case\"end\":return _context6.stop();}}},_callee6);}));_this.toggleModalReject=function(){_this.setState(function(prevState){return{modalReject:!prevState.modalReject};});};_this.toggleModalRejectFix=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){var sql,result;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_this.setState(function(prevState){return{modalReject:!prevState.modalReject};});if(!(_this.state.alasanReject==''||_this.state.alasanReject==null)){_context9.next=7;break;}_context9.next=4;return _this.handleAlert('isSweetAlert',true,'Warning','Alasan Reject Tidak Boleh Kosong','warning');case 4:return _context9.abrupt(\"return\",_context9.sent);case 7:sql=\"\\n        with ins1 as(\\n            update df_cff\\n            set\\n            status_cff_id = 8,\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = now()\\n            where id = \"+_this.props.editData.cff_id+\"\\n        returning id as return_id\\n        )\\n            update df_ss\\n            set\\n            catatan_reject_delete = '\"+_this.state.alasanReject+\"',\\n            ss_status_id = 8,\\n            update_by = \"+_this.state.myProfile.id+\",\\n            update_date = now()\\n            where id = \"+_this.props.editData.ds_id+\"\\n        \";console.log('sql : ',sql);_context9.next=11;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(result){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context7.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil Reject SS','success');case 3:return _context7.abrupt(\"return\",_context7.sent);case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref8.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(err){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:console.log('error : ',err);_context8.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal Reject SS','danger');case 3:return _context8.abrupt(\"return\",_context8.sent);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x6){return _ref9.apply(this,arguments);};}());case 11:result=_context9.sent;case 12:case\"end\":return _context9.stop();}}},_callee9);}));_this.saveForm=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){var title,text,type,aktif,sql,result;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:title='';text='';type='';// console.log('SUBMIT : ', this.state.first_name)\n// console.log('SUBMIT : ', this.state.last_name)\n// console.log('event : ', e)\nif(!(_this.state.nama==''||_this.state.nama==null)){_context12.next=7;break;}_context12.next=6;return _this.handleAlert('isSweetAlert',true,'Warning','Nama Tidak Boleh Kosong','warning');case 6:return _context12.abrupt(\"return\",_context12.sent);case 7:if(!(_this.state.jobLevel==''||_this.state.jobLevel==null)){_context12.next=11;break;}_context12.next=10;return _this.handleAlert('isSweetAlert',true,'Warning','Job Level Tidak Boleh Kosong','warning');case 10:return _context12.abrupt(\"return\",_context12.sent);case 11:if(!(_this.state.departemenSelected==''||_this.state.departemenSelected==null)){_context12.next=17;break;}_context12.next=14;return _this.handleAlert('isSweetAlert',true,'Warning','Departemen Tidak Boleh Kosong','warning');case 14:return _context12.abrupt(\"return\",_context12.sent);case 17:aktif=_this.state.isChecked?'Y':'N';sql=\"\\n          update df_master_user\\n          set\\n          name = '\"+_this.state.nama+\"',\\n          job_level = '\"+_this.state.jobLevel+\"',\\n          active = '\"+aktif+\"',\\n          departement_id = \"+_this.state.departemenSelected+\",\\n          update_by = \"+_this.state.myProfile.id+\",\\n          update_date = now()\\n          where nik = '\"+_this.state.nik+\"'\\n      \";console.log('sql : ',sql);_context12.next=22;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(result){var res;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context10.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil edit karyawan','success');case 3:return _context10.abrupt(\"return\",_context10.sent);case 4:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x7){return _ref11.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(err){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:console.log('error : ',err);_context11.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal edit karyawan','danger');case 3:return _context11.abrupt(\"return\",_context11.sent);case 4:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x8){return _ref12.apply(this,arguments);};}());case 22:result=_context12.sent;case 23:case\"end\":return _context12.stop();}}},_callee12);}));_this.isLogin=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(role){var myProfile;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(localStorage.getItem('account')==undefined||localStorage.getItem('account')==null){history.push(\"/pages/login\");}else if(JSON.parse(localStorage.getItem('account')).role!==role){history.push(\"/pages/login\");}else{myProfile=JSON.parse(localStorage.getItem('account'));console.log('myProfile ss : ',myProfile);_this.setState({myProfile:myProfile});}case 1:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x9){return _ref13.apply(this,arguments);};}();_this.tarikDepartemen=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(){var sql,result;return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:sql=\"\\n    select  id as value,\\n            nama_departemen as label\\n    from df_master_departement\\n  \";_context15.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref15=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(result){var res;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:res=result.data.response.rows;console.log('result query kategori : ',res);if(!(res.length=='')){_context14.next=4;break;}return _context14.abrupt(\"return\",[]);case 4:_context14.next=6;return _this.setState({dataDepartemen:res});case 6:case\"end\":return _context14.stop();}}},_callee14);}));return function(_x10){return _ref15.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context15.sent;case 4:case\"end\":return _context15.stop();}}},_callee15);}));_this.tarikDataProfile=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(){var sql,result;return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:sql=\"\\n      select nik, name, departement_id, nama_departemen, job_level from df_master_user dmu\\n      join df_master_departement dmd\\n      on dmu.departement_id = dmd.id\\n      where dmu.id = \"+_this.props.editData.pengusul_id+\"\\n  \";_context17.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref17=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(result){var res;return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:res=result.data.response.rows[0];console.log('result query profile : ',res);if(!(res.length=='')){_context16.next=6;break;}return _context16.abrupt(\"return\");case 6:_context16.next=8;return _this.tarikAtasan(res.departement_id);case 8:_context16.next=10;return _this.setState({cffNik:res.nik,cffName:res.name,cffNamaDepartemen:res.nama_departemen});case 10:case\"end\":return _context16.stop();}}},_callee16);}));return function(_x11){return _ref17.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context17.sent;case 4:case\"end\":return _context17.stop();}}},_callee17);}));_this.handleAlertConfirm=function(state,value,title,text,type){if(value){_this.setState(_defineProperty({},state,value));_this.setState({sweetAlertTitleConfirm:title,sweetAlertTextConfirm:text,sweetAlertTypeConfirm:type});}else{_this.setState(_defineProperty({},state,value));_this.props.changeViewPage('page');}// if(text == \"Berhasil membuat SS\"){\n//   this.setState({ [state] : value })\n//   this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n//   // this.props.changeViewPage('page')\n// }else{}\n};_this.handleAlert=function(state,value,title,text,type){if(value){_this.setState(_defineProperty({},state,value));_this.setState({sweetAlertTitle:title,sweetAlertText:text,sweetAlertType:type});}else{_this.setState(_defineProperty({},state,value));}};_this.state={myProfile:null,step:0,modal:false,modalReject:false,alasanReject:'',dataDepartemen:[],departemenSelected:_this.props.editData.departement_id,isChecked:_this.props.editData.active=='N'?false:true,catatanCC:'',isSweetAlert:false,sweetAlertTitle:'Judul',sweetAlertText:'Text',sweetAlertType:'warning',isSweetAlertConfirm:false,sweetAlertTitleConfirm:'Judul',sweetAlertTextConfirm:'Text',sweetAlertTypeConfirm:'warning',dataAtasan:[],/////////\n// cffNik: '',\n// cffName: '',\n// cffKondisiSaatIni: this.props.editData.kondisi_sekarang,\n// cffKondisiDiusulkan: this.props.editData.kondisi_diusulkan,\n// cffAlasanPerubahan: this.props.editData.alasan_perubahan,\n// cffDampakPerubahan: this.props.editData.dampak_perubahan,\nnik:_this.props.editData.nik,nama:_this.props.editData.name,statusAktif:_this.props.editData.active,jobLevel:_this.props.editData.job_level};return _this;}_createClass(KaryawanView,[{key:\"render\",value:function render(){var _this2=this;// const [centeredModal, setCenteredModal] = useState(false)\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-warning mb-1\",onClick:function onClick(){return _this2.props.changeViewPage();}},\"Back\"),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"Data Karyawan\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssTema\"},\"NIK\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"nik\",id:\"nik\",placeholder:\"NIK\",value:this.state.nik,onChange:function onChange(val){return _this2.setState({nik:val.target.value});},disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssTema\"},\"Nama lengkap\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"nama\",id:\"nama\",placeholder:\"Nama lengkap\",value:this.state.nama,onChange:function onChange(val){return _this2.setState({nama:val.target.value});}// disabled\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Pilih Departemen\"),/*#__PURE__*/React.createElement(Select,{className:\"React\",classNamePrefix:\"select\",value:this.state.dataDepartemen.filter(function(option){return option.value==_this2.state.departemenSelected;})// defaultValue={this.state.kategoriSelected != null? this.state.kategoriSelected:null}\n,name:\"clear\",options:this.state.dataDepartemen// isClearable={true}\n,onChange:function onChange(val){return _this2.setState({departemenSelected:val.value});}// onChange={(val)=>this.setState({ssAtasanSelected: val.target.value})}\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssTema\"},\"Job Level\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"jobLevel\",id:\"jobLevel\",placeholder:\"Job Level\",value:this.state.jobLevel,onChange:function onChange(val){return _this2.setState({jobLevel:val.target.value});}// disabled\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"label\",{className:\"react-toggle-wrapper\"},\"Status Karyawan :\",/*#__PURE__*/React.createElement(Toggle,{checked:this.state.isChecked// onChange={this.handleSwitchChange}\n,onChange:function onChange(){return _this2.setState({isChecked:!_this2.state.isChecked});},name:\"controlledSwitch\",className:\"ml-1\"// value=\"yes\"\n})))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Button,{color:\"none\",className:\"bg-gradient-success\",onClick:function onClick(){return _this2.saveForm();}},/*#__PURE__*/React.createElement(\"span\",{className:\"align-middle ml-25\"},\"Simpan \"),/*#__PURE__*/React.createElement(Check,{size:14}))))))))),/*#__PURE__*/React.createElement(SweetAlert,{type:this.state.sweetAlertType,title:this.state.sweetAlertTitle,show:this.state.isSweetAlert,onConfirm:function onConfirm(){return _this2.handleAlert(\"isSweetAlert\",false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"sweet-alert-text\"},this.state.sweetAlertText)),/*#__PURE__*/React.createElement(SweetAlert,{type:this.state.sweetAlertTypeConfirm,title:this.state.sweetAlertTitleConfirm,show:this.state.isSweetAlertConfirm,onConfirm:function onConfirm(){return _this2.handleAlertConfirm(\"isSweetAlertConfirm\",false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"sweet-alert-text\"},this.state.sweetAlertTextConfirm)));}}]);return KaryawanView;}(React.Component);export default KaryawanView;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/admin/data-karyawan/component/KaryawanView.js"],"names":["React","useState","api_query","axios","Card","CardHeader","CardTitle","CardBody","FormGroup","Row","Col","Input","Form","Button","Label","Modal","ModalHeader","ModalBody","ModalFooter","Alert","Checkbox","Check","Star","Save","Send","X","Select","SweetAlert","Toggle","history","KaryawanView","props","componentDidMount","isLogin","tarikDepartemen","console","log","toggleModal","setState","prevState","modal","toggleModalFix","state","kategoriSelected","handleAlert","isChecked","catatanCC","sql","myProfile","id","editData","cff_id","ds_id","post","query","then","result","res","data","response","handleAlertConfirm","catch","err","toggleModalReject","modalReject","toggleModalRejectFix","alasanReject","saveForm","title","text","type","nama","jobLevel","departemenSelected","aktif","nik","role","localStorage","getItem","undefined","push","JSON","parse","rows","length","dataDepartemen","tarikDataProfile","pengusul_id","tarikAtasan","departement_id","cffNik","cffName","name","cffNamaDepartemen","nama_departemen","value","sweetAlertTitleConfirm","sweetAlertTextConfirm","sweetAlertTypeConfirm","changeViewPage","sweetAlertTitle","sweetAlertText","sweetAlertType","step","active","isSweetAlert","isSweetAlertConfirm","dataAtasan","statusAktif","job_level","val","target","filter","option","Component"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\"\nimport { api_query } from \"../../../../api/ApiConstant\"\nimport axios from 'axios'\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  FormGroup,\n  Row,\n  Col,\n  Input,\n  Form,\n  Button,\n  Label, Modal, ModalHeader, ModalBody, ModalFooter, Alert\n} from \"reactstrap\"\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\"\nimport { Check, Star, Save, Send, X } from \"react-feather\"\n// import { history } from \"../../../../../src/history\"\nimport Select from \"react-select\"\nimport SweetAlert from \"react-bootstrap-sweetalert\"\nimport Toggle from \"react-toggle\"\nimport { history } from \"../../../../../src/history\"\nimport \"react-toggle/style.css\"\nimport \"../../../../assets/scss/plugins/forms/switch/react-toggle.scss\"\n\nclass KaryawanView extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      myProfile:null,\n      step: 0,\n      modal: false,\n      modalReject: false,\n      alasanReject: '',\n      dataDepartemen: [],\n      departemenSelected: this.props.editData.departement_id,\n      isChecked: this.props.editData.active == 'N' ? false:true,\n      catatanCC: '',\n      isSweetAlert: false,\n      sweetAlertTitle: 'Judul',\n      sweetAlertText: 'Text',\n      sweetAlertType: 'warning',\n      isSweetAlertConfirm: false,\n      sweetAlertTitleConfirm: 'Judul',\n      sweetAlertTextConfirm: 'Text',\n      sweetAlertTypeConfirm: 'warning',\n      dataAtasan: [],\n      /////////\n      // cffNik: '',\n      // cffName: '',\n      // cffKondisiSaatIni: this.props.editData.kondisi_sekarang,\n      // cffKondisiDiusulkan: this.props.editData.kondisi_diusulkan,\n      // cffAlasanPerubahan: this.props.editData.alasan_perubahan,\n      // cffDampakPerubahan: this.props.editData.dampak_perubahan,\n      nik: this.props.editData.nik,\n      nama: this.props.editData.name,\n      statusAktif: this.props.editData.active,\n      jobLevel : this.props.editData.job_level\n    }\n}\n\ncomponentDidMount = async() => {\n  await this.isLogin('super_admin');\n  await this.tarikDepartemen();\n  // await this.tarikDataProfile();\n  // await this.tarikDataFormCff();\n  // await this.tarikKategori();\n  // await this.tarikAtasan();\n\n  console.log('props edit : ', this.props)\n}\n\ntoggleModal = () => {\n  this.setState(prevState => ({\n    modal: !prevState.modal\n  }))\n}\n\ntoggleModalFix = async() => {\n  this.setState(prevState => ({\n    modal: !prevState.modal\n  }))\n\n  if (this.state.kategoriSelected == '' || this.state.kategoriSelected == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Kategori Tidak Boleh Kosong', 'warning')}\n  else{\n      if(this.state.isChecked){\n        if (this.state.catatanCC == '' || this.state.catatanCC == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Catatan CC Tidak Boleh Kosong', 'warning')}\n      }\n  }\n\n  if (this.state.isChecked) {\n    console.log('isChecked')\n    let sql = `\n        with ins1 as(\n            update df_cff\n            set\n            change_control = 'Y',\n            catatan_cc = '`+this.state.catatanCC+`',\n            status_cff_id = 3,\n            update_by = `+this.state.myProfile.id+`,\n            update_date = now()\n            where id = `+this.props.editData.cff_id+`\n        returning id as return_id\n        )\n            update df_ss\n            set\n            ss_kategori_id = `+this.state.kategoriSelected+`,\n            ss_status_id = 3,\n            update_by = `+this.state.myProfile.id+`,\n            update_date = now()\n            where id = `+this.props.editData.ds_id+`\n        `\n        console.log('sql : ', sql)\n\n        var result = await axios.post(api_query, {\n                                    query : sql\n                                })\n                                    .then(async(result) => {\n                                    let res = result.data.response\n                                    // Beda dgn sweetAlert yg lain\n                                    return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil Approve SS', 'success')\n                                    // this.props.changeViewPage('page')\n                                }).catch(async(err) => {\n                                    console.log('error : ', err)\n                                    return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal Approve SS', 'danger')\n                                    // return []\n                                })\n\n  }else{\n    console.log('not Checked')\n    let sql = `\n        with ins1 as(\n            update df_cff\n            set\n            change_control = 'N',\n            status_cff_id = 3,\n            update_by = `+this.state.myProfile.id+`,\n            update_date = now()\n            where id = `+this.props.editData.cff_id+`\n        returning id as return_id\n        )\n            update df_ss\n            set\n            ss_kategori_id = `+this.state.kategoriSelected+`,\n            ss_status_id = 3,\n            update_by = `+this.state.myProfile.id+`,\n            update_date = now()\n            where id = `+this.props.editData.ds_id+`\n        `\n        console.log('sql : ', sql)\n\n        var result = await axios.post(api_query, {\n                                    query : sql\n                                })\n                                    .then(async(result) => {\n                                    let res = result.data.response\n                                    // Beda dgn sweetAlert yg lain\n                                    return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil Approve SS', 'success')\n                                    // this.props.changeViewPage('page')\n                                }).catch(async(err) => {\n                                    console.log('error : ', err)\n                                    return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal Approve SS', 'danger')\n                                    // return []\n                                })\n  }\n\n}\n\ntoggleModalReject = () => {\n  this.setState(prevState => ({\n    modalReject: !prevState.modalReject\n  }))\n}\n\ntoggleModalRejectFix = async() => {\n  this.setState(prevState => ({\n    modalReject: !prevState.modalReject\n  }))\n\n  if (this.state.alasanReject == '' || this.state.alasanReject == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Alasan Reject Tidak Boleh Kosong', 'warning')}\n  else{\n    let sql = `\n        with ins1 as(\n            update df_cff\n            set\n            status_cff_id = 8,\n            update_by = `+this.state.myProfile.id+`,\n            update_date = now()\n            where id = `+this.props.editData.cff_id+`\n        returning id as return_id\n        )\n            update df_ss\n            set\n            catatan_reject_delete = '`+this.state.alasanReject+`',\n            ss_status_id = 8,\n            update_by = `+this.state.myProfile.id+`,\n            update_date = now()\n            where id = `+this.props.editData.ds_id+`\n        `\n        console.log('sql : ', sql)\n\n        var result = await axios.post(api_query, {\n                                    query : sql\n                                })\n                                    .then(async(result) => {\n                                    let res = result.data.response\n                                    // Beda dgn sweetAlert yg lain\n                                    return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil Reject SS', 'success')\n                                    // this.props.changeViewPage('page')\n                                }).catch(async(err) => {\n                                    console.log('error : ', err)\n                                    return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal Reject SS', 'danger')\n                                    // return []\n                                })\n\n      }\n}\n\nsaveForm = async() =>{\n\n  var title = ''\n  var text = ''\n  var type = ''\n  // console.log('SUBMIT : ', this.state.first_name)\n  // console.log('SUBMIT : ', this.state.last_name)\n  // console.log('event : ', e)\n\n\n  if (this.state.nama == '' || this.state.nama == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Nama Tidak Boleh Kosong', 'warning')}\n  if (this.state.jobLevel == '' || this.state.jobLevel == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Job Level Tidak Boleh Kosong', 'warning')}\n  if (this.state.departemenSelected == '' || this.state.departemenSelected == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Departemen Tidak Boleh Kosong', 'warning')}\n  // if (this.state.isChecked == '' || this.state.isChecked == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Status Karyawan Tidak Boleh Kosong', 'warning')}\n  else {\n\n      var aktif = this.state.isChecked? 'Y':'N'\n\n      let sql = `\n          update df_master_user\n          set\n          name = '`+this.state.nama+`',\n          job_level = '`+this.state.jobLevel+`',\n          active = '`+aktif+`',\n          departement_id = `+this.state.departemenSelected+`,\n          update_by = `+this.state.myProfile.id+`,\n          update_date = now()\n          where nik = '`+this.state.nik+`'\n      `\n      console.log('sql : ', sql)\n\n      var result = await axios.post(api_query, {\n                                  query : sql\n                              })\n                                  .then(async(result) => {\n                                  let res = result.data.response\n                                  // Beda dgn sweetAlert yg lain\n                                  return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil edit karyawan', 'success')\n                                  // this.props.changeViewPage('page')\n                              }).catch(async(err) => {\n                                  console.log('error : ', err)\n                                  return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal edit karyawan', 'danger')\n                                  // return []\n                              })\n\n      // this.setState({isLoading: true});\n      // console.log('result query : ', result)\n      // this.props.changeViewPage('page')\n      // // return await this.handleAlert('isSweetAlert', true, 'Success', 'Data Berhasil Ditambahkan '+this.state.first_name+ \" \"+ this.state.last_name, 'success')\n  }\n\n}\n\nisLogin = async(role) =>{\n  if (localStorage.getItem('account') == undefined || localStorage.getItem('account') == null) {\n    history.push(\"/pages/login\")\n  }else if(JSON.parse(localStorage.getItem('account')).role !== role){\n    history.push(\"/pages/login\")\n  }\n  else{\n    var myProfile = JSON.parse(localStorage.getItem('account'))\n    console.log('myProfile ss : ', myProfile)\n    this.setState({myProfile: myProfile})\n  }\n}\n\n\ntarikDepartemen = async() =>{\n\n  let sql = `\n    select  id as value,\n            nama_departemen as label\n    from df_master_departement\n  `\n\n  var result = await axios.post(api_query, {\n                              query : sql\n                          })\n                              .then(async(result) => {\n                                var res = result.data.response.rows\n                                console.log('result query kategori : ', res)\n                                if (res.length == '') {\n                                    return []\n                                }\n\n                                await this.setState({dataDepartemen: res})\n\n                              }).catch(err => {\n                                  console.log('error : ', err)\n                                  return []\n                              })\n    // await this.setState({data: result})\n}\n\n\ntarikDataProfile = async() =>{\n  let sql = `\n      select nik, name, departement_id, nama_departemen, job_level from df_master_user dmu\n      join df_master_departement dmd\n      on dmu.departement_id = dmd.id\n      where dmu.id = `+this.props.editData.pengusul_id+`\n  `\n  var result = await axios.post(api_query, {\n                              query : sql\n                          })\n                              .then(async(result) => {\n                                var res = result.data.response.rows[0]\n                                console.log('result query profile : ', res)\n                                if (res.length == '') {\n                                    return\n                                }else{\n\n                                  await this.tarikAtasan(res.departement_id);\n                                  await this.setState({\n                                    cffNik: res.nik,\n                                    cffName: res.name,\n                                    cffNamaDepartemen: res.nama_departemen,\n                                  })\n                                }\n\n                                // await this.setState({dataAtasan: res})\n\n                              }).catch(err => {\n                                  console.log('error : ', err)\n                                  return []\n                              })\n    // await this.setState({data: result})\n}\n\n\nhandleAlertConfirm = (state, value, title, text, type) => {\n\n  if (value) {\n    this.setState({ [state] : value })\n    this.setState({sweetAlertTitleConfirm: title, sweetAlertTextConfirm: text, sweetAlertTypeConfirm: type});\n  }else{\n    this.setState({ [state] : value })\n    this.props.changeViewPage('page')\n}\n  // if(text == \"Berhasil membuat SS\"){\n  //   this.setState({ [state] : value })\n  //   this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n  //   // this.props.changeViewPage('page')\n  // }else{}\n}\n\nhandleAlert = (state, value, title, text, type) => {\n    if (value) {\n      this.setState({ [state] : value })\n      this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n    }else{\n      this.setState({ [state] : value })\n    }\n}\n\n  render() {\n    // const [centeredModal, setCenteredModal] = useState(false)\n    return (\n      <>\n      <Button.Ripple color=\"none\" className=\"bg-gradient-warning mb-1\" onClick={() => this.props.changeViewPage()}>Back</Button.Ripple>\n        <Card>\n          <CardHeader>\n            <CardTitle>Data Karyawan</CardTitle>\n          </CardHeader>\n          <CardBody>\n            <Form>\n              <Row>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <Label for=\"ssTema\">NIK</Label>\n                    <Input\n                      type=\"text\"\n                      name=\"nik\"\n                      id=\"nik\"\n                      placeholder=\"NIK\"\n                      value={this.state.nik}\n                      onChange={(val)=>this.setState({nik: val.target.value})}\n                      disabled\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <Label for=\"ssTema\">Nama lengkap</Label>\n                    <Input\n                      type=\"text\"\n                      name=\"nama\"\n                      id=\"nama\"\n                      placeholder=\"Nama lengkap\"\n                      value={this.state.nama}\n                      onChange={(val)=>this.setState({nama: val.target.value})}\n                      // disabled\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <Label for=\"\">Pilih Departemen</Label>\n                    <Select\n                      className=\"React\"\n                      classNamePrefix=\"select\"\n                      value={this.state.dataDepartemen.filter(option => option.value == this.state.departemenSelected)}\n                      // defaultValue={this.state.kategoriSelected != null? this.state.kategoriSelected:null}\n                      name=\"clear\"\n                      options={this.state.dataDepartemen}\n                      // isClearable={true}\n                      onChange={(val)=>this.setState({departemenSelected: val.value})}\n                      // onChange={(val)=>this.setState({ssAtasanSelected: val.target.value})}\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <Label for=\"ssTema\">Job Level</Label>\n                    <Input\n                      type=\"text\"\n                      name=\"jobLevel\"\n                      id=\"jobLevel\"\n                      placeholder=\"Job Level\"\n                      value={this.state.jobLevel}\n                      onChange={(val)=>this.setState({jobLevel: val.target.value})}\n                      // disabled\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"3\">\n                  <FormGroup>\n                    <label className=\"react-toggle-wrapper\">\n                      Status Karyawan :\n                      <Toggle\n                        checked={this.state.isChecked}\n                        // onChange={this.handleSwitchChange}\n                        onChange={()=> this.setState({isChecked: !this.state.isChecked})}\n                        name=\"controlledSwitch\"\n                        className={\"ml-1\"}\n                        // value=\"yes\"\n                      />\n                    </label>\n                  </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                      <div className=\"d-flex justify-content-end\">\n                        <Button color=\"none\" className=\"bg-gradient-success\" onClick={() => this.saveForm()}>\n                          <span className='align-middle ml-25'>Simpan </span>\n                          <Check size={14}/>\n                        </Button>\n                      </div>\n                  </FormGroup>\n                </Col>\n                {/* <Col sm=\"12\">\n                  <FormGroup>\n                    <div className=\"d-flex flex-wrap justify-content-between\">\n                      <div>\n                        <Button color=\"none\" className=\"bg-gradient-warning\" onClick={() => this.setState({step: 0})}>Prev</Button>\n                      </div>\n                      <div className=\"justify-content-end\">\n                        <Button color=\"none\" className=\"bg-gradient-warning mr-1\" onClick={() => this.saveForm()}>\n                          <span className='align-middle ml-25'>Simpan  </span>\n                          <Save size={14}/>\n                        </Button>\n                        <Button color=\"none\" className=\"bg-gradient-success\" onClick={() => this.submitForm()}>\n                          <span className='align-middle ml-25'>Kirim  </span>\n                          <Send size={14}/>\n                        </Button>\n                      </div>\n                    </div>\n                  </FormGroup>\n                </Col> */}\n              </Row>\n            </Form>\n          </CardBody>\n        </Card>\n\n        <SweetAlert type={this.state.sweetAlertType} title={this.state.sweetAlertTitle}\n          show={this.state.isSweetAlert}\n          onConfirm={() => this.handleAlert(\"isSweetAlert\", false)}\n        >\n            <p className=\"sweet-alert-text\">\n              {this.state.sweetAlertText}\n            </p>\n        </SweetAlert>\n\n        <SweetAlert type={this.state.sweetAlertTypeConfirm} title={this.state.sweetAlertTitleConfirm}\n          show={this.state.isSweetAlertConfirm}\n          onConfirm={() => this.handleAlertConfirm(\"isSweetAlertConfirm\", false)}\n        >\n            <p className=\"sweet-alert-text\">\n              {this.state.sweetAlertTextConfirm}\n            </p>\n        </SweetAlert>\n      </>\n    )\n  }\n}\nexport default KaryawanView\n"]},"metadata":{},"sourceType":"module"}