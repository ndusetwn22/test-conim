{"ast":null,"code":"import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Link}from\"react-router-dom\";import classnames from\"classnames\";import navigationConfig from\"../../../../../configs/navigationConfig\";import SideMenuGroup from\"./SideMenuGroup\";import{Badge}from\"reactstrap\";import{ChevronRight}from\"react-feather\";import{FormattedMessage}from\"react-intl\";import{history}from\"../../../../../history\";var SideMenuContent=/*#__PURE__*/function(_React$Component){_inherits(SideMenuContent,_React$Component);var _super=_createSuper(SideMenuContent);function SideMenuContent(props){var _this;_classCallCheck(this,SideMenuContent);_this=_super.call(this,props);_this.state={flag:true,isHovered:false,activeGroups:[],currentActiveGroup:[],tempArr:[]};_this.handleGroupClick=function(id){var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";var open_group=_this.state.activeGroups;var active_group=_this.state.currentActiveGroup;var temp_arr=_this.state.tempArr;// Active Group to apply sidebar-group-active class\nif(type===\"item\"&&parent===null){active_group=[];temp_arr=[];}else if(type===\"item\"&&parent!==null){active_group=[];if(temp_arr.includes(parent)){temp_arr.splice(temp_arr.indexOf(parent)+1,temp_arr.length);}else{temp_arr=[];temp_arr.push(parent);}active_group=temp_arr.slice(0);}else if(type===\"collapse\"&&parent===null){temp_arr=[];temp_arr.push(id);}else if(type===\"collapse\"&&parent!==null){if(active_group.includes(parent)){temp_arr=active_group.slice(0);}if(temp_arr.includes(id)){// temp_arr.splice(temp_arr.indexOf(id), 1)\ntemp_arr.splice(temp_arr.indexOf(id),temp_arr.length);}else{temp_arr.push(id);}}else{temp_arr=[];}if(type===\"collapse\"){// If open group does not include clicked group item\nif(!open_group.includes(id)){// Get unmatched items that are not in the active group\nvar temp=open_group.filter(function(obj){return active_group.indexOf(obj)===-1;});// Remove those unmatched items from open group\nif(temp.length>0&&!open_group.includes(parent)){open_group=open_group.filter(function(obj){return!temp.includes(obj);});}if(open_group.includes(parent)&&active_group.includes(parent)){open_group=active_group.slice(0);}// Add group item clicked in open group\nif(!open_group.includes(id)){open_group.push(id);}}else{// If open group includes click group item, remove it from open group\nopen_group.splice(open_group.indexOf(id),1);}}if(type===\"item\"){open_group=active_group.slice(0);}_this.setState({activeGroups:open_group,tempArr:temp_arr,currentActiveGroup:active_group});};_this.initRender=function(parentArr){_this.setState({activeGroups:parentArr.slice(0),currentActiveGroup:parentArr.slice(0),flag:false});};_this.parentArr=[];_this.collapsedPath=null;_this.redirectUnauthorized=function(){history.push(\"/misc/not-authorized\");};return _this;}_createClass(SideMenuContent,[{key:\"componentDidMount\",value:function componentDidMount(){this.initRender(this.parentArr[0]?this.parentArr[0]:[]);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevProps.activePath!==this.props.activePath){if(this.collapsedMenuPaths!==null){this.props.collapsedMenuPaths(this.collapsedMenuPaths);}this.initRender(this.parentArr[0]?this.parentArr[this.parentArr.length-1]:[]);}}},{key:\"render\",value:function render(){var _this2=this;// Loop over sidebar items\n// eslint-disable-next-line\nvar menuItems=navigationConfig.map(function(item){var CustomAnchorTag=item.type===\"external-link\"?\"a\":Link;// checks if item has groupheader\nif(item.type===\"groupHeader\"){return/*#__PURE__*/React.createElement(\"li\",{className:\"navigation-header\",key:\"group-header-\".concat(item.groupTitle)},/*#__PURE__*/React.createElement(\"span\",null,item.groupTitle));}var renderItem=/*#__PURE__*/React.createElement(\"li\",{className:classnames(\"nav-item\",{\"has-sub\":item.type===\"collapse\",open:_this2.state.activeGroups.includes(item.id),\"sidebar-group-active\":_this2.state.currentActiveGroup.includes(item.id),hover:_this2.props.hoverIndex===item.id,active:_this2.props.activeItemState===item.navLink&&item.type===\"item\"||item.parentOf&&item.parentOf.includes(_this2.props.activeItemState),disabled:item.disabled}),key:item.id,onClick:function onClick(e){e.stopPropagation();if(item.type===\"item\"){_this2.props.handleActiveItem(item.navLink);_this2.handleGroupClick(item.id,null,item.type);if(_this2.props.deviceWidth<=1200&&item.type===\"item\"){_this2.props.toggleMenu();}}else{_this2.handleGroupClick(item.id,null,item.type);}}},/*#__PURE__*/React.createElement(CustomAnchorTag,{to:item.filterBase?item.filterBase:item.navLink&&item.type===\"item\"?item.navLink:\"\",href:item.type===\"external-link\"?item.navLink:\"\",className:\"d-flex \".concat(item.badgeText?\"justify-content-between\":\"justify-content-start\"),onMouseEnter:function onMouseEnter(){_this2.props.handleSidebarMouseEnter(item.id);},onMouseLeave:function onMouseLeave(){_this2.props.handleSidebarMouseEnter(item.id);},key:item.id,onClick:function onClick(e){return item.type===\"collapse\"?e.preventDefault():\"\";},target:item.newTab?\"_blank\":undefined},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-text\"},item.icon,/*#__PURE__*/React.createElement(\"span\",{className:\"menu-item menu-title\"},item.title)),item.badge?/*#__PURE__*/React.createElement(\"div\",{className:\"menu-badge\"},/*#__PURE__*/React.createElement(Badge,{color:item.badge,className:\"mr-1\",pill:true},item.badgeText)):\"\",item.type===\"collapse\"?/*#__PURE__*/React.createElement(ChevronRight,{className:\"menu-toggle-icon\",size:13}):\"\"),item.type===\"collapse\"?/*#__PURE__*/React.createElement(SideMenuGroup,{group:item,handleGroupClick:_this2.handleGroupClick,activeGroup:_this2.state.activeGroups,handleActiveItem:_this2.props.handleActiveItem,activeItemState:_this2.props.activeItemState,handleSidebarMouseEnter:_this2.props.handleSidebarMouseEnter,activePath:_this2.props.activePath,hoverIndex:_this2.props.hoverIndex,initRender:_this2.initRender,parentArr:_this2.parentArr,triggerActive:undefined,currentActiveGroup:_this2.state.currentActiveGroup,permission:_this2.props.permission,currentUser:_this2.props.currentUser,redirectUnauthorized:_this2.redirectUnauthorized,collapsedMenuPaths:_this2.props.collapsedMenuPaths,toggleMenu:_this2.props.toggleMenu,deviceWidth:_this2.props.deviceWidth}):\"\");if(item.navLink&&item.collapsed!==undefined&&item.collapsed===true){_this2.collapsedPath=item.navLink;_this2.props.collapsedMenuPaths(item.navLink);}if(item.type===\"collapse\"||item.type===\"external-link\"||item.type===\"item\"||item.permissions===undefined){return renderItem;}else if(item.type===\"item\"&&item.navLink===_this2.props.activePath// &&\n// !item.permissions.includes(this.props.currentUser)\n){return _this2.redirectUnauthorized();}});return/*#__PURE__*/React.createElement(React.Fragment,null,menuItems);}}]);return SideMenuContent;}(React.Component);export default SideMenuContent;","map":null,"metadata":{},"sourceType":"module"}