{"ast":null,"code":"import _classCallCheck from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pandusetiawan/Documents/react/df-v1.2/src/layouts/components/menu/vertical-menu/sidemenu/SideMenuContent.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport navigationConfig from \"../../../../../configs/navigationConfig\";\nimport SideMenuGroup from \"./SideMenuGroup\";\nimport { Badge } from \"reactstrap\";\nimport { ChevronRight } from \"react-feather\";\nimport { FormattedMessage } from \"react-intl\";\nimport { history } from \"../../../../../history\";\n\nvar SideMenuContent = /*#__PURE__*/function (_React$Component) {\n  _inherits(SideMenuContent, _React$Component);\n\n  function SideMenuContent(props) {\n    var _this;\n\n    _classCallCheck(this, SideMenuContent);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SideMenuContent).call(this, props));\n    _this.state = {\n      flag: true,\n      isHovered: false,\n      activeGroups: [],\n      currentActiveGroup: [],\n      tempArr: []\n    };\n\n    _this.handleGroupClick = function (id) {\n      var parent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"\";\n      var open_group = _this.state.activeGroups;\n      var active_group = _this.state.currentActiveGroup;\n      var temp_arr = _this.state.tempArr; // Active Group to apply sidebar-group-active class\n\n      if (type === \"item\" && parent === null) {\n        active_group = [];\n        temp_arr = [];\n      } else if (type === \"item\" && parent !== null) {\n        active_group = [];\n\n        if (temp_arr.includes(parent)) {\n          temp_arr.splice(temp_arr.indexOf(parent) + 1, temp_arr.length);\n        } else {\n          temp_arr = [];\n          temp_arr.push(parent);\n        }\n\n        active_group = temp_arr.slice(0);\n      } else if (type === \"collapse\" && parent === null) {\n        temp_arr = [];\n        temp_arr.push(id);\n      } else if (type === \"collapse\" && parent !== null) {\n        if (active_group.includes(parent)) {\n          temp_arr = active_group.slice(0);\n        }\n\n        if (temp_arr.includes(id)) {\n          // temp_arr.splice(temp_arr.indexOf(id), 1)\n          temp_arr.splice(temp_arr.indexOf(id), temp_arr.length);\n        } else {\n          temp_arr.push(id);\n        }\n      } else {\n        temp_arr = [];\n      }\n\n      if (type === \"collapse\") {\n        // If open group does not include clicked group item\n        if (!open_group.includes(id)) {\n          // Get unmatched items that are not in the active group\n          var temp = open_group.filter(function (obj) {\n            return active_group.indexOf(obj) === -1;\n          }); // Remove those unmatched items from open group\n\n          if (temp.length > 0 && !open_group.includes(parent)) {\n            open_group = open_group.filter(function (obj) {\n              return !temp.includes(obj);\n            });\n          }\n\n          if (open_group.includes(parent) && active_group.includes(parent)) {\n            open_group = active_group.slice(0);\n          } // Add group item clicked in open group\n\n\n          if (!open_group.includes(id)) {\n            open_group.push(id);\n          }\n        } else {\n          // If open group includes click group item, remove it from open group\n          open_group.splice(open_group.indexOf(id), 1);\n        }\n      }\n\n      if (type === \"item\") {\n        open_group = active_group.slice(0);\n      }\n\n      _this.setState({\n        activeGroups: open_group,\n        tempArr: temp_arr,\n        currentActiveGroup: active_group\n      });\n    };\n\n    _this.initRender = function (parentArr) {\n      _this.setState({\n        activeGroups: parentArr.slice(0),\n        currentActiveGroup: parentArr.slice(0),\n        flag: false\n      });\n    };\n\n    _this.parentArr = [];\n    _this.collapsedPath = null;\n\n    _this.redirectUnauthorized = function () {\n      history.push(\"/misc/not-authorized\");\n    };\n\n    return _this;\n  }\n\n  _createClass(SideMenuContent, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initRender(this.parentArr[0] ? this.parentArr[0] : []);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.activePath !== this.props.activePath) {\n        if (this.collapsedMenuPaths !== null) {\n          this.props.collapsedMenuPaths(this.collapsedMenuPaths);\n        }\n\n        this.initRender(this.parentArr[0] ? this.parentArr[this.parentArr.length - 1] : []);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      // Loop over sidebar items\n      // eslint-disable-next-line\n      var menuItems = navigationConfig.map(function (item) {\n        var CustomAnchorTag = item.type === \"external-link\" ? \"a\" : Link; // checks if item has groupheader\n\n        if (item.type === \"groupHeader\") {\n          return /*#__PURE__*/React.createElement(\"li\", {\n            className: \"navigation-header\",\n            key: \"group-header-\".concat(item.groupTitle),\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 11\n            }\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 13\n            }\n          }, item.groupTitle));\n        }\n\n        var renderItem = /*#__PURE__*/React.createElement(\"li\", {\n          className: classnames(\"nav-item\", {\n            \"has-sub\": item.type === \"collapse\",\n            open: _this2.state.activeGroups.includes(item.id),\n            \"sidebar-group-active\": _this2.state.currentActiveGroup.includes(item.id),\n            hover: _this2.props.hoverIndex === item.id,\n            active: _this2.props.activeItemState === item.navLink && item.type === \"item\" || item.parentOf && item.parentOf.includes(_this2.props.activeItemState),\n            disabled: item.disabled\n          }),\n          key: item.id,\n          onClick: function onClick(e) {\n            e.stopPropagation();\n\n            if (item.type === \"item\") {\n              _this2.props.handleActiveItem(item.navLink);\n\n              _this2.handleGroupClick(item.id, null, item.type);\n\n              if (_this2.props.deviceWidth <= 1200 && item.type === \"item\") {\n                _this2.props.toggleMenu();\n              }\n            } else {\n              _this2.handleGroupClick(item.id, null, item.type);\n            }\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(CustomAnchorTag, {\n          to: item.filterBase ? item.filterBase : item.navLink && item.type === \"item\" ? item.navLink : \"\",\n          href: item.type === \"external-link\" ? item.navLink : \"\",\n          className: \"d-flex \".concat(item.badgeText ? \"justify-content-between\" : \"justify-content-start\"),\n          onMouseEnter: function onMouseEnter() {\n            _this2.props.handleSidebarMouseEnter(item.id);\n          },\n          onMouseLeave: function onMouseLeave() {\n            _this2.props.handleSidebarMouseEnter(item.id);\n          },\n          key: item.id,\n          onClick: function onClick(e) {\n            return item.type === \"collapse\" ? e.preventDefault() : \"\";\n          },\n          target: item.newTab ? \"_blank\" : undefined,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"menu-text\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }\n        }, item.icon, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"menu-item menu-title\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }\n        }, item.title)), item.badge ? /*#__PURE__*/React.createElement(\"div\", {\n          className: \"menu-badge\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          color: item.badge,\n          className: \"mr-1\",\n          pill: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 17\n          }\n        }, item.badgeText)) : \"\", item.type === \"collapse\" ? /*#__PURE__*/React.createElement(ChevronRight, {\n          className: \"menu-toggle-icon\",\n          size: 13,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }\n        }) : \"\"), item.type === \"collapse\" ? /*#__PURE__*/React.createElement(SideMenuGroup, {\n          group: item,\n          handleGroupClick: _this2.handleGroupClick,\n          activeGroup: _this2.state.activeGroups,\n          handleActiveItem: _this2.props.handleActiveItem,\n          activeItemState: _this2.props.activeItemState,\n          handleSidebarMouseEnter: _this2.props.handleSidebarMouseEnter,\n          activePath: _this2.props.activePath,\n          hoverIndex: _this2.props.hoverIndex,\n          initRender: _this2.initRender,\n          parentArr: _this2.parentArr,\n          triggerActive: undefined,\n          currentActiveGroup: _this2.state.currentActiveGroup,\n          permission: _this2.props.permission,\n          currentUser: _this2.props.currentUser,\n          redirectUnauthorized: _this2.redirectUnauthorized,\n          collapsedMenuPaths: _this2.props.collapsedMenuPaths,\n          toggleMenu: _this2.props.toggleMenu,\n          deviceWidth: _this2.props.deviceWidth,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }\n        }) : \"\");\n\n        if (item.navLink && item.collapsed !== undefined && item.collapsed === true) {\n          _this2.collapsedPath = item.navLink;\n\n          _this2.props.collapsedMenuPaths(item.navLink);\n        }\n\n        if (item.type === \"collapse\" || item.type === \"external-link\" || item.type === \"item\" || item.permissions === undefined) {\n          return renderItem;\n        } else if (item.type === \"item\" && item.navLink === _this2.props.activePath // &&\n        // !item.permissions.includes(this.props.currentUser)\n        ) {\n            return _this2.redirectUnauthorized();\n          }\n      });\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 12\n        }\n      }, menuItems);\n    }\n  }]);\n\n  return SideMenuContent;\n}(React.Component);\n\nexport default SideMenuContent;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/layouts/components/menu/vertical-menu/sidemenu/SideMenuContent.js"],"names":["React","Link","classnames","navigationConfig","SideMenuGroup","Badge","ChevronRight","FormattedMessage","history","SideMenuContent","props","state","flag","isHovered","activeGroups","currentActiveGroup","tempArr","handleGroupClick","id","parent","type","open_group","active_group","temp_arr","includes","splice","indexOf","length","push","slice","temp","filter","obj","setState","initRender","parentArr","collapsedPath","redirectUnauthorized","prevProps","prevState","activePath","collapsedMenuPaths","menuItems","map","item","CustomAnchorTag","groupTitle","renderItem","open","hover","hoverIndex","active","activeItemState","navLink","parentOf","disabled","e","stopPropagation","handleActiveItem","deviceWidth","toggleMenu","filterBase","badgeText","handleSidebarMouseEnter","preventDefault","newTab","undefined","icon","title","badge","permission","currentUser","collapsed","permissions","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport classnames from \"classnames\"\nimport navigationConfig from \"../../../../../configs/navigationConfig\"\nimport SideMenuGroup from \"./SideMenuGroup\"\nimport { Badge } from \"reactstrap\"\nimport { ChevronRight } from \"react-feather\"\nimport { FormattedMessage } from \"react-intl\"\nimport { history } from \"../../../../../history\"\n\nclass SideMenuContent extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.parentArr = []\n    this.collapsedPath = null\n    this.redirectUnauthorized = () => {\n      history.push(\"/misc/not-authorized\")\n    }\n  }\n  state = {\n    flag: true,\n    isHovered: false,\n    activeGroups: [],\n    currentActiveGroup: [],\n    tempArr: []\n  }\n\n  handleGroupClick = (id, parent = null, type = \"\") => {\n    let open_group = this.state.activeGroups\n    let active_group = this.state.currentActiveGroup\n    let temp_arr = this.state.tempArr\n    // Active Group to apply sidebar-group-active class\n    if (type === \"item\" && parent === null) {\n      active_group = []\n      temp_arr = []\n    } else if (type === \"item\" && parent !== null) {\n      active_group = []\n      if (temp_arr.includes(parent)) {\n        temp_arr.splice(temp_arr.indexOf(parent) + 1, temp_arr.length)\n      } else {\n        temp_arr = []\n        temp_arr.push(parent)\n      }\n      active_group = temp_arr.slice(0)\n    } else if (type === \"collapse\" && parent === null) {\n      temp_arr = []\n      temp_arr.push(id)\n    } else if (type === \"collapse\" && parent !== null) {\n      if (active_group.includes(parent)) {\n        temp_arr = active_group.slice(0)\n      }\n      if (temp_arr.includes(id)) {\n        // temp_arr.splice(temp_arr.indexOf(id), 1)\n        temp_arr.splice(temp_arr.indexOf(id), temp_arr.length)\n      } else {\n        temp_arr.push(id)\n      }\n    } else {\n      temp_arr = []\n    }\n\n    if (type === \"collapse\") {\n      // If open group does not include clicked group item\n      if (!open_group.includes(id)) {\n        // Get unmatched items that are not in the active group\n        let temp = open_group.filter(function(obj) {\n          return active_group.indexOf(obj) === -1\n        })\n        // Remove those unmatched items from open group\n        if (temp.length > 0 && !open_group.includes(parent)) {\n          open_group = open_group.filter(function(obj) {\n            return !temp.includes(obj)\n          })\n        }\n        if (open_group.includes(parent) && active_group.includes(parent)) {\n          open_group = active_group.slice(0)\n        }\n        // Add group item clicked in open group\n        if (!open_group.includes(id)) {\n          open_group.push(id)\n        }\n      } else {\n        // If open group includes click group item, remove it from open group\n        open_group.splice(open_group.indexOf(id), 1)\n      }\n    }\n    if (type === \"item\") {\n      open_group = active_group.slice(0)\n    }\n\n    this.setState({\n      activeGroups: open_group,\n      tempArr: temp_arr,\n      currentActiveGroup: active_group\n    })\n  }\n\n  initRender = parentArr => {\n    this.setState({\n      activeGroups: parentArr.slice(0),\n      currentActiveGroup: parentArr.slice(0),\n      flag: false\n    })\n  }\n\n  componentDidMount() {\n    this.initRender(this.parentArr[0] ? this.parentArr[0] : [])\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.activePath !== this.props.activePath) {\n      if (this.collapsedMenuPaths !== null) {\n        this.props.collapsedMenuPaths(this.collapsedMenuPaths)\n      }\n\n      this.initRender(\n        this.parentArr[0] ? this.parentArr[this.parentArr.length - 1] : []\n      )\n    }\n  }\n\n  render() {\n    // Loop over sidebar items\n    // eslint-disable-next-line\n    const menuItems = navigationConfig.map(item => {\n      const CustomAnchorTag = item.type === \"external-link\" ? `a` : Link\n      // checks if item has groupheader\n      if (item.type === \"groupHeader\") {\n        return (\n          <li\n            className=\"navigation-header\"\n            key={`group-header-${item.groupTitle}`}>\n            <span>{item.groupTitle}</span>\n          </li>\n        )\n      }\n\n      let renderItem = (\n        <li\n          className={classnames(\"nav-item\", {\n            \"has-sub\": item.type === \"collapse\",\n            open: this.state.activeGroups.includes(item.id),\n            \"sidebar-group-active\": this.state.currentActiveGroup.includes(\n              item.id\n            ),\n            hover: this.props.hoverIndex === item.id,\n            active:\n              (this.props.activeItemState === item.navLink &&\n                item.type === \"item\") ||\n              (item.parentOf &&\n                item.parentOf.includes(this.props.activeItemState)),\n            disabled: item.disabled\n          })}\n          key={item.id}\n          onClick={e => {\n            e.stopPropagation()\n            if (item.type === \"item\") {\n              this.props.handleActiveItem(item.navLink)\n              this.handleGroupClick(item.id, null, item.type)\n              if (this.props.deviceWidth <= 1200 && item.type === \"item\") {\n                this.props.toggleMenu()\n              }\n            } else {\n              this.handleGroupClick(item.id, null, item.type)\n            }\n          }}>\n          <CustomAnchorTag\n            to={\n              item.filterBase\n                ? item.filterBase\n                : item.navLink && item.type === \"item\"\n                ? item.navLink\n                : \"\"\n            }\n            href={item.type === \"external-link\" ? item.navLink : \"\"}\n            className={`d-flex ${\n              item.badgeText\n                ? \"justify-content-between\"\n                : \"justify-content-start\"\n            }`}\n            onMouseEnter={() => {\n              this.props.handleSidebarMouseEnter(item.id)\n            }}\n            onMouseLeave={() => {\n              this.props.handleSidebarMouseEnter(item.id)\n            }}\n            key={item.id}\n            onClick={e => {\n              return item.type === \"collapse\" ? e.preventDefault() : \"\"\n            }}\n            target={item.newTab ? \"_blank\" : undefined}>\n            <div className=\"menu-text\">\n              {item.icon}\n              {/* <span className=\"menu-item menu-title\">\n                <FormattedMessage id={item.title} />\n              </span> */}\n              <span className=\"menu-item menu-title\">\n                  {item.title}\n              </span>\n            </div>\n\n            {item.badge ? (\n              <div className=\"menu-badge\">\n                <Badge color={item.badge} className=\"mr-1\" pill>\n                  {item.badgeText}\n                </Badge>\n              </div>\n            ) : (\n              \"\"\n            )}\n            {item.type === \"collapse\" ? (\n              <ChevronRight className=\"menu-toggle-icon\" size={13} />\n            ) : (\n              \"\"\n            )}\n          </CustomAnchorTag>\n          {item.type === \"collapse\" ? (\n            <SideMenuGroup\n              group={item}\n              handleGroupClick={this.handleGroupClick}\n              activeGroup={this.state.activeGroups}\n              handleActiveItem={this.props.handleActiveItem}\n              activeItemState={this.props.activeItemState}\n              handleSidebarMouseEnter={this.props.handleSidebarMouseEnter}\n              activePath={this.props.activePath}\n              hoverIndex={this.props.hoverIndex}\n              initRender={this.initRender}\n              parentArr={this.parentArr}\n              triggerActive={undefined}\n              currentActiveGroup={this.state.currentActiveGroup}\n              permission={this.props.permission}\n              currentUser={this.props.currentUser}\n              redirectUnauthorized={this.redirectUnauthorized}\n              collapsedMenuPaths={this.props.collapsedMenuPaths}\n              toggleMenu={this.props.toggleMenu}\n              deviceWidth={this.props.deviceWidth}\n            />\n          ) : (\n            \"\"\n          )}\n        </li>\n      )\n\n      if (\n        item.navLink &&\n        item.collapsed !== undefined &&\n        item.collapsed === true\n      ) {\n        this.collapsedPath = item.navLink\n        this.props.collapsedMenuPaths(item.navLink)\n      }\n\n      if (\n        item.type === \"collapse\" ||\n        item.type === \"external-link\" ||\n        (item.type === \"item\" ) ||\n        item.permissions === undefined\n      ) {\n        return renderItem\n      } else if (\n        item.type === \"item\" &&\n        item.navLink === this.props.activePath\n        // &&\n        // !item.permissions.includes(this.props.currentUser)\n      ) {\n        return this.redirectUnauthorized()\n      }\n    })\n    return <React.Fragment>{menuItems}</React.Fragment>\n  }\n}\nexport default SideMenuContent\n"]},"metadata":{},"sourceType":"module"}