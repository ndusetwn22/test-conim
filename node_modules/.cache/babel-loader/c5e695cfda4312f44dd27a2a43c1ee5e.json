{"ast":null,"code":"import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Card,CardBody,Input,Button,UncontrolledDropdown,DropdownMenu,DropdownItem,DropdownToggle}from\"reactstrap\";import{AgGridReact}from\"ag-grid-react\";import{ContextLayout}from\"../../../utility/context/Layout\";import{ChevronDown}from\"react-feather\";import axios from\"axios\";import\"../../../assets/scss/plugins/tables/_agGridStyleOverride.scss\";import Breadcrumbs from\"../../../components/@vuexy/breadCrumbs/BreadCrumb\";var AggridTable=/*#__PURE__*/function(_React$Component){_inherits(AggridTable,_React$Component);var _super=_createSuper(AggridTable);function AggridTable(){var _this;_classCallCheck(this,AggridTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={rowData:null,paginationPageSize:20,currenPageSize:\"\",getPageSize:\"\",defaultColDef:{sortable:true,editable:true,resizable:true,suppressMenu:true},columnDefs:[{headerName:\"First Name\",field:\"firstname\",width:175,filter:true,checkboxSelection:true,headerCheckboxSelectionFilteredOnly:true,headerCheckboxSelection:true},{headerName:\"Last Name\",field:\"lastname\",filter:true,width:175},{headerName:\"Email\",field:\"email\",filter:true,width:250,pinned:window.innerWidth>992?\"left\":false},{headerName:\"Company\",field:\"company\",filter:true,width:250},{headerName:\"City\",field:\"city\",filter:true,width:150},{headerName:\"Country\",field:\"country\",filter:true,width:150},{headerName:\"State\",field:\"state\",filter:true,width:125},{headerName:\"Zip\",field:\"zip\",filter:\"agNumberColumnFilter\",width:140},{headerName:\"Followers\",field:\"followers\",filter:\"agNumberColumnFilter\",width:140}]};_this.onGridReady=function(params){_this.gridApi=params.api;_this.gridColumnApi=params.columnApi;_this.setState({currenPageSize:_this.gridApi.paginationGetCurrentPage()+1,getPageSize:_this.gridApi.paginationGetPageSize(),totalPages:_this.gridApi.paginationGetTotalPages()});};_this.updateSearchQuery=function(val){_this.gridApi.setQuickFilter(val);};_this.filterSize=function(val){if(_this.gridApi){_this.gridApi.paginationSetPageSize(Number(val));_this.setState({currenPageSize:val,getPageSize:val});}};return _this;}_createClass(AggridTable,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"/api/aggrid/data\").then(function(response){var rowData=response.data.data;JSON.stringify(rowData);_this2.setState({rowData:rowData});});}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,rowData=_this$state.rowData,columnDefs=_this$state.columnDefs,defaultColDef=_this$state.defaultColDef;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Breadcrumbs,{breadCrumbTitle:\"Aggrid Table\",breadCrumbParent:\"Forms & Tables\",breadCrumbActive:\"Aggrid Table\"}),/*#__PURE__*/React.createElement(Card,{className:\"overflow-hidden agGrid-card\"},/*#__PURE__*/React.createElement(CardBody,{className:\"py-0\"},this.state.rowData===null?null:/*#__PURE__*/React.createElement(\"div\",{className:\"ag-theme-material w-100 my-2 ag-grid-table\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-between align-items-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mb-1\"},/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"p-1 ag-dropdown\"},/*#__PURE__*/React.createElement(DropdownToggle,{tag:\"div\"},this.gridApi?this.state.currenPageSize:\"\"*this.state.getPageSize-(this.state.getPageSize-1),\" \",\"-\",\" \",this.state.rowData.length-this.state.currenPageSize*this.state.getPageSize>0?this.state.currenPageSize*this.state.getPageSize:this.state.rowData.length,\" \",\"of \",this.state.rowData.length,/*#__PURE__*/React.createElement(ChevronDown,{className:\"ml-50\",size:15})),/*#__PURE__*/React.createElement(DropdownMenu,{right:true},/*#__PURE__*/React.createElement(DropdownItem,{tag:\"div\",onClick:function onClick(){return _this3.filterSize(20);}},\"20\"),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"div\",onClick:function onClick(){return _this3.filterSize(50);}},\"50\"),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"div\",onClick:function onClick(){return _this3.filterSize(100);}},\"100\"),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"div\",onClick:function onClick(){return _this3.filterSize(134);}},\"134\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-between mb-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"table-input mr-1\"},/*#__PURE__*/React.createElement(Input,{placeholder:\"search...\",onChange:function onChange(e){return _this3.updateSearchQuery(e.target.value);},value:this.state.value})),/*#__PURE__*/React.createElement(\"div\",{className:\"export-btn\"},/*#__PURE__*/React.createElement(Button.Ripple,{color:\"primary\",onClick:function onClick(){return _this3.gridApi.exportDataAsCsv();}},\"Export as CSV\")))),/*#__PURE__*/React.createElement(ContextLayout.Consumer,null,function(context){return/*#__PURE__*/React.createElement(AgGridReact,{gridOptions:{},rowSelection:\"multiple\",defaultColDef:defaultColDef,columnDefs:columnDefs,rowData:rowData,onGridReady:_this3.onGridReady,colResizeDefault:\"shift\",animateRows:true,floatingFilter:true,pagination:true,paginationPageSize:_this3.state.paginationPageSize,pivotPanelShow:\"always\",enableRtl:context.state.direction===\"rtl\"});})))));}}]);return AggridTable;}(React.Component);export default AggridTable;","map":null,"metadata":{},"sourceType":"module"}