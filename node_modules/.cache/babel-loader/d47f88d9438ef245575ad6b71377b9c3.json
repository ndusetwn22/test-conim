{"ast":null,"code":"import _regeneratorRuntime from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pandusetiawan/Documents/react/df-v1.2/src/views/apps/email/EmailList.js\";\nimport React from \"react\";\nimport { FormGroup, Input, UncontrolledDropdown, DropdownToggle, DropdownItem, DropdownMenu, Media } from \"reactstrap\";\nimport { Search, Check, Folder, Edit2, Info, Trash, Tag, Mail, Star, Menu } from \"react-feather\";\nimport PerfectScrollbar from \"react-perfect-scrollbar\";\nimport { connect } from \"react-redux\";\nimport { getEmails, StarEmail, searchMail, moveMail, selectMail, selectAllMails, deselectAllMails, unreadMails, setLabel } from \"../../../redux/actions/email/index\";\nimport Checkbox from \"../../../components/@vuexy/checkbox/CheckboxesVuexy\";\nimport EmailDetails from \"./EmailDetails\";\n\nvar EmailList = /*#__PURE__*/function (_React$Component) {\n  _inherits(EmailList, _React$Component);\n\n  function EmailList() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, EmailList);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(EmailList)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      mails: [],\n      emailDetailsVisibility: false,\n      selectAll: false,\n      currentEmail: [],\n      value: \"\",\n      currentFilter: _this.props.routerProps.match.params.filter\n    };\n\n    _this.handleEmailDetails = function (status, mail) {\n      if (status === \"open\") _this.setState({\n        emailDetailsVisibility: true,\n        currentEmail: mail\n      });else _this.setState({\n        emailDetailsVisibility: false\n      });\n    };\n\n    _this.handleNextMail = function () {\n      var mails = _this.state.mails;\n\n      if (mails.length) {\n        var getIndex = mails.find(function (i) {\n          return i.id === _this.state.currentEmail.id;\n        });\n        var currentEmail = mails[mails.indexOf(getIndex) + 1];\n\n        if (currentEmail !== undefined) {\n          _this.setState({\n            currentEmail: currentEmail\n          });\n        }\n      }\n    };\n\n    _this.handlePreviousMail = function () {\n      var mails = _this.state.mails;\n\n      if (mails.length) {\n        var getIndex = mails.find(function (i) {\n          return i.id === _this.state.currentEmail.id;\n        });\n        var currentEmail = mails[mails.indexOf(getIndex) - 1];\n\n        if (currentEmail !== undefined) {\n          _this.setState({\n            currentEmail: currentEmail\n          });\n        }\n      }\n    };\n\n    _this.handleOnChange = function (e) {\n      _this.setState({\n        value: e.target.value\n      });\n\n      _this.props.searchMail(e.target.value);\n    };\n\n    return _this;\n  }\n\n  _createClass(EmailList, [{\n    key: \"componentDidMount\",\n    value: function () {\n      var _componentDidMount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.props.getEmails(this.props.routerProps.match.params);\n\n              case 2:\n                this.setState({\n                  mails: this.props.email.mails\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          mails = _this$state.mails,\n          currentFilter = _this$state.currentFilter,\n          value = _this$state.value;\n      var mailsArr = value.length ? this.props.email.filteredMails : mails;\n      var renderMails = mailsArr.length > 0 ? mailsArr.map(function (mail) {\n        return /*#__PURE__*/React.createElement(Media, {\n          tag: \"li\",\n          key: mail.id,\n          className: mail.unread === false ? \"mail-read\" : \"mail-unread\",\n          onClick: function onClick() {\n            _this2.handleEmailDetails(\"open\", mail);\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }\n        }, /*#__PURE__*/React.createElement(Media, {\n          className: \"pr-50\",\n          tag: \"div\",\n          left: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"avatar\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Media, {\n          object: true,\n          src: mail.img,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 19\n          }\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"user-action\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(Checkbox, {\n          color: \"primary\",\n          className: \"user-checkbox\",\n          icon: /*#__PURE__*/React.createElement(Check, {\n            className: \"vx-icon\",\n            size: 12,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 27\n            }\n          }),\n          label: \"\",\n          checked: _this2.props.email.selectedEmails.includes(mail.id),\n          size: \"sm\",\n          onClick: function onClick(e) {\n            _this2.props.selectMail(mail.id);\n\n            e.stopPropagation();\n          },\n          onChange: function onChange(e) {\n            return e.stopPropagation();\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 19\n          }\n        }), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"favorite\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Star, {\n          size: 18,\n          fill: mail.isStarred ? \"#FF9F43\" : \"transparent\",\n          stroke: mail.isStarred ? \"#FF9F43\" : \"#626262\",\n          onClick: function onClick(e) {\n            _this2.props.StarEmail(mail.id);\n\n            e.stopPropagation();\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }\n        })))), /*#__PURE__*/React.createElement(Media, {\n          body: true,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 15\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"user-details flex-wrap\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mail-items\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"text-bold-600 mb-25 \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 21\n          }\n        }, mail.sender_name), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"text-truncate\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 21\n          }\n        }, mail.subject)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mail-meta\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          className: \"float-right\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 21\n          }\n        }, Array.isArray(mail.labels) ? /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }\n        }, mail.labels.map(function (label) {\n          return /*#__PURE__*/React.createElement(\"span\", {\n            className: \"bullet bullet-\".concat(label === \"important\" ? \"warning\" : label === \"personal\" ? \"success\" : label === \"private\" ? \"danger\" : \"primary\", \" bullet-sm d-none d-md-inline-block mr-1\"),\n            key: label,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 31\n            }\n          });\n        })) : /*#__PURE__*/React.createElement(\"span\", {\n          className: \"bullet \".concat(mail.labels, \" bullet-sm mr-1\"),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }\n        }), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"mail-date\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 23\n          }\n        }, mail.day)))), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"mail-message\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"p\", {\n          className: \"list-group-item-text truncate mb-0\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 19\n          }\n        }, mail.message))));\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        className: \"no-results show\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }\n      }, \"No Items Found\"));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"content-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"email-app-area\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"email-app-list-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"email-app-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app-fixed-search\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-lg-none sidebar-toggle\",\n        onClick: function onClick() {\n          return _this2.props.mainSidebar(true);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Menu, {\n        size: 24,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        className: \"position-relative has-icon-left m-0 d-inline-block d-lg-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Input, {\n        placeholder: \"Search Emails\",\n        onChange: function onChange(e) {\n          _this2.handleOnChange(e);\n        },\n        value: value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-control-position\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Search, {\n        size: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"app-action\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"action-left\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Checkbox, {\n        color: \"primary\",\n        icon: /*#__PURE__*/React.createElement(Check, {\n          className: \"vx-icon\",\n          size: 16,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 27\n          }\n        }),\n        label: \"Select All\",\n        checked: this.props.email.selectedEmails.length ? true : false,\n        onChange: function onChange(e) {\n          return e.stopPropagation();\n        },\n        onClick: function onClick(e) {\n          e.target.checked ? _this2.props.selectAllMails() : _this2.props.deselectAllMails();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 19\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"action-right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-inline m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"li\", {\n        className: \"list-inline-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(DropdownToggle, {\n        tag: \"div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Folder, {\n        size: 22,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(DropdownMenu, {\n        right: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DropdownItem, {\n        onClick: function onClick() {\n          if (currentFilter === \"inbox\") _this2.props.moveMail(\"draft\");else _this2.props.moveMail(\"inbox\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Edit2, {\n        size: 18,\n        className: \"mr-50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle font-medium-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 29\n        }\n      }, currentFilter === \"inbox\" ? \"Draft\" : \"Inbox\")), /*#__PURE__*/React.createElement(DropdownItem, {\n        onClick: function onClick() {\n          _this2.props.moveMail(\"spam\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Info, {\n        size: 18,\n        className: \"mr-50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle font-medium-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 29\n        }\n      }, \"Spam\")), /*#__PURE__*/React.createElement(DropdownItem, {\n        onClick: function onClick() {\n          _this2.props.moveMail(\"trash\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Trash, {\n        size: 18,\n        className: \"mr-50\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle font-medium-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 29\n        }\n      }, \"Trash\"))))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"list-inline-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(DropdownToggle, {\n        tag: \"div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Tag, {\n        size: 22,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }\n      })), /*#__PURE__*/React.createElement(DropdownMenu, {\n        right: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(DropdownItem, {\n        className: \"font-medium-1\",\n        onClick: function onClick() {\n          return _this2.props.setLabel(\"personal\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bullet bullet-success bullet-sm mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 29\n        }\n      }, \"Personal\")), /*#__PURE__*/React.createElement(DropdownItem, {\n        className: \"font-medium-1\",\n        onClick: function onClick() {\n          return _this2.props.setLabel(\"company\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bullet bullet-primary bullet-sm mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 29\n        }\n      }, \"Company\")), /*#__PURE__*/React.createElement(DropdownItem, {\n        className: \"font-medium-1\",\n        onClick: function onClick() {\n          return _this2.props.setLabel(\"important\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bullet bullet-warning bullet-sm mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 29\n        }\n      }, \"Important\")), /*#__PURE__*/React.createElement(DropdownItem, {\n        className: \"font-medium-1\",\n        onClick: function onClick() {\n          return _this2.props.setLabel(\"private\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"bullet bullet-danger bullet-sm mr-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 29\n        }\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 29\n        }\n      }, \"Private\"))))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"list-inline-item mail-unread\",\n        onClick: function onClick() {\n          return _this2.props.unreadMails(true);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"action-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Mail, {\n        size: 22,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(\"li\", {\n        className: \"list-inline-item mail-delete\",\n        onClick: function onClick() {\n          _this2.props.moveMail(\"trash\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"action-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Trash, {\n        size: 22,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 25\n        }\n      })))))), /*#__PURE__*/React.createElement(PerfectScrollbar, {\n        className: \"email-user-list list-group\",\n        options: {\n          wheelPropagation: false\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"users-list-wrapper media-list\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 17\n        }\n      }, renderMails)))), /*#__PURE__*/React.createElement(EmailDetails, {\n        handleEmailDetails: this.handleEmailDetails,\n        currentStatus: this.state.emailDetailsVisibility,\n        currentEmail: this.state.currentEmail,\n        toggleStarred: this.props.StarEmail,\n        setLabel: this.props.setLabel,\n        unreadMails: this.props.unreadMails,\n        currentParam: this.props.routerProps.match.params,\n        moveMail: this.props.moveMail,\n        handleNextMail: this.handleNextMail,\n        handlePreviousMail: this.handlePreviousMail,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      if (props.email.params !== state.currentFilter) {\n        return {\n          mails: props.email.mails\n        };\n      } // Return null if the state hasn't changed\n\n\n      return null;\n    }\n  }]);\n\n  return EmailList;\n}(React.Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    email: state.emailApp.mails,\n    starred: state.emailApp.starred\n  };\n};\n\nexport default connect(mapStateToProps, {\n  getEmails: getEmails,\n  StarEmail: StarEmail,\n  searchMail: searchMail,\n  moveMail: moveMail,\n  selectMail: selectMail,\n  selectAllMails: selectAllMails,\n  deselectAllMails: deselectAllMails,\n  unreadMails: unreadMails,\n  setLabel: setLabel\n})(EmailList);","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/apps/email/EmailList.js"],"names":["React","FormGroup","Input","UncontrolledDropdown","DropdownToggle","DropdownItem","DropdownMenu","Media","Search","Check","Folder","Edit2","Info","Trash","Tag","Mail","Star","Menu","PerfectScrollbar","connect","getEmails","StarEmail","searchMail","moveMail","selectMail","selectAllMails","deselectAllMails","unreadMails","setLabel","Checkbox","EmailDetails","EmailList","state","mails","emailDetailsVisibility","selectAll","currentEmail","value","currentFilter","props","routerProps","match","params","filter","handleEmailDetails","status","mail","setState","handleNextMail","length","getIndex","find","i","id","indexOf","undefined","handlePreviousMail","handleOnChange","e","target","email","mailsArr","filteredMails","renderMails","map","unread","img","selectedEmails","includes","stopPropagation","isStarred","sender_name","subject","Array","isArray","labels","label","day","message","mainSidebar","checked","wheelPropagation","Component","mapStateToProps","emailApp","starred"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {\n  FormGroup,\n  Input,\n  UncontrolledDropdown,\n  DropdownToggle,\n  DropdownItem,\n  DropdownMenu,\n  Media\n} from \"reactstrap\"\nimport {\n  Search,\n  Check,\n  Folder,\n  Edit2,\n  Info,\n  Trash,\n  Tag,\n  Mail,\n  Star,\n  Menu\n} from \"react-feather\"\nimport PerfectScrollbar from \"react-perfect-scrollbar\"\nimport { connect } from \"react-redux\"\nimport {\n  getEmails,\n  StarEmail,\n  searchMail,\n  moveMail,\n  selectMail,\n  selectAllMails,\n  deselectAllMails,\n  unreadMails,\n  setLabel\n} from \"../../../redux/actions/email/index\"\nimport Checkbox from \"../../../components/@vuexy/checkbox/CheckboxesVuexy\"\nimport EmailDetails from \"./EmailDetails\"\n\nclass EmailList extends React.Component {\n  static getDerivedStateFromProps(props, state) {\n    if (props.email.params !== state.currentFilter) {\n      return {\n        mails: props.email.mails\n      }\n    }\n    // Return null if the state hasn't changed\n    return null\n  }\n  state = {\n    mails: [],\n    emailDetailsVisibility: false,\n    selectAll: false,\n    currentEmail: [],\n    value: \"\",\n    currentFilter: this.props.routerProps.match.params.filter\n  }\n\n  async componentDidMount() {\n    await this.props.getEmails(this.props.routerProps.match.params)\n    this.setState({\n      mails: this.props.email.mails\n    })\n  }\n\n  handleEmailDetails = (status, mail) => {\n    if (status === \"open\")\n      this.setState({ emailDetailsVisibility: true, currentEmail: mail })\n    else this.setState({ emailDetailsVisibility: false })\n  }\n\n  handleNextMail = () => {\n    let mails = this.state.mails\n    if (mails.length) {\n      let getIndex = mails.find(i => i.id === this.state.currentEmail.id)\n      let currentEmail = mails[mails.indexOf(getIndex) + 1]\n\n      if (currentEmail !== undefined) {\n        this.setState({ currentEmail })\n      }\n    }\n  }\n\n  handlePreviousMail = () => {\n    let mails = this.state.mails\n    if (mails.length) {\n      let getIndex = mails.find(i => i.id === this.state.currentEmail.id)\n      let currentEmail = mails[mails.indexOf(getIndex) - 1]\n\n      if (currentEmail !== undefined) {\n        this.setState({ currentEmail })\n      }\n    }\n  }\n\n  handleOnChange = e => {\n    this.setState({ value: e.target.value })\n    this.props.searchMail(e.target.value)\n  }\n\n  render() {\n    const { mails, currentFilter, value } = this.state\n    const mailsArr = value.length ? this.props.email.filteredMails : mails\n    const renderMails =\n      mailsArr.length > 0 ? (\n        mailsArr.map(mail => {\n          return (\n            <Media\n              tag=\"li\"\n              key={mail.id}\n              className={mail.unread === false ? \"mail-read\" : \"mail-unread\"}\n              onClick={() => {\n                this.handleEmailDetails(\"open\", mail)\n              }}\n            >\n              <Media className=\"pr-50\" tag=\"div\" left>\n                <div className=\"avatar\">\n                  <Media object src={mail.img} />\n                </div>\n                <div className=\"user-action\">\n                  <Checkbox\n                    color=\"primary\"\n                    className=\"user-checkbox\"\n                    icon={<Check className=\"vx-icon\" size={12} />}\n                    label={\"\"}\n                    checked={this.props.email.selectedEmails.includes(mail.id)}\n                    size=\"sm\"\n                    onClick={e => {\n                      this.props.selectMail(mail.id)\n                      e.stopPropagation()\n                    }}\n                    onChange={e => e.stopPropagation()}\n                  />\n                  <div className=\"favorite\">\n                    <Star\n                      size={18}\n                      fill={mail.isStarred ? \"#FF9F43\" : \"transparent\"}\n                      stroke={mail.isStarred ? \"#FF9F43\" : \"#626262\"}\n                      onClick={e => {\n                        this.props.StarEmail(mail.id)\n                        e.stopPropagation()\n                      }}\n                    />\n                  </div>\n                </div>\n              </Media>\n              <Media body>\n                <div className=\"user-details flex-wrap\">\n                  <div className=\"mail-items\">\n                    <h5 className=\"text-bold-600 mb-25 \">{mail.sender_name}</h5>\n                    <span className=\"text-truncate\">{mail.subject}</span>\n                  </div>\n                  <div className=\"mail-meta\">\n                    <span className=\"float-right\">\n                      {Array.isArray(mail.labels) ? (\n                        <React.Fragment>\n                          {mail.labels.map(label => {\n                            return (\n                              <span\n                                className={`bullet bullet-${\n                                  label === \"important\"\n                                    ? \"warning\"\n                                    : label === \"personal\"\n                                    ? \"success\"\n                                    : label === \"private\"\n                                    ? \"danger\"\n                                    : \"primary\"\n                                } bullet-sm d-none d-md-inline-block mr-1`}\n                                key={label}\n                              />\n                            )\n                          })}\n                        </React.Fragment>\n                      ) : (\n                        <span\n                          className={`bullet ${mail.labels} bullet-sm mr-1`}\n                        />\n                      )}\n                      <span className=\"mail-date\">{mail.day}</span>\n                    </span>\n                  </div>\n                </div>\n                <div className=\"mail-message\">\n                  <p className=\"list-group-item-text truncate mb-0\">\n                    {mail.message}\n                  </p>\n                </div>\n              </Media>\n            </Media>\n          )\n        })\n      ) : (\n        <div className=\"no-results show\">\n          <h5>No Items Found</h5>\n        </div>\n      )\n\n    return (\n      <div className=\"content-right\">\n        <div className=\"email-app-area\">\n          <div className=\"email-app-list-wrapper\">\n            <div className=\"email-app-list\">\n              <div className=\"app-fixed-search\">\n                <div\n                  className=\"d-lg-none sidebar-toggle\"\n                  onClick={() => this.props.mainSidebar(true)}\n                >\n                  <Menu size={24} />\n                </div>\n                <FormGroup className=\"position-relative has-icon-left m-0 d-inline-block d-lg-block\">\n                  <Input\n                    placeholder=\"Search Emails\"\n                    onChange={e => {\n                      this.handleOnChange(e)\n                    }}\n                    value={value}\n                  />\n                  <div className=\"form-control-position\">\n                    <Search size={15} />\n                  </div>\n                </FormGroup>\n              </div>\n              <div className=\"app-action\">\n                <div className=\"action-left\">\n                  <Checkbox\n                    color=\"primary\"\n                    icon={<Check className=\"vx-icon\" size={16} />}\n                    label=\"Select All\"\n                    checked={\n                      this.props.email.selectedEmails.length ? true : false\n                    }\n                    onChange={e => e.stopPropagation()}\n                    onClick={e => {\n                      e.target.checked\n                        ? this.props.selectAllMails()\n                        : this.props.deselectAllMails()\n                    }}\n                  />\n                </div>\n                <div className=\"action-right\">\n                  <ul className=\"list-inline m-0\">\n                    <li className=\"list-inline-item\">\n                      <UncontrolledDropdown>\n                        <DropdownToggle tag=\"div\">\n                          <Folder size={22} />\n                        </DropdownToggle>\n                        <DropdownMenu right>\n                          <DropdownItem\n                            onClick={() => {\n                              if (currentFilter === \"inbox\")\n                                this.props.moveMail(\"draft\")\n                              else this.props.moveMail(\"inbox\")\n                            }}\n                          >\n                            <Edit2 size={18} className=\"mr-50\" />\n                            <span className=\"align-middle font-medium-1\">\n                              {currentFilter === \"inbox\" ? \"Draft\" : \"Inbox\"}\n                            </span>\n                          </DropdownItem>\n                          <DropdownItem\n                            onClick={() => {\n                              this.props.moveMail(\"spam\")\n                            }}\n                          >\n                            <Info size={18} className=\"mr-50\" />\n                            <span className=\"align-middle font-medium-1\">\n                              Spam\n                            </span>\n                          </DropdownItem>\n                          <DropdownItem\n                            onClick={() => {\n                              this.props.moveMail(\"trash\")\n                            }}\n                          >\n                            <Trash size={18} className=\"mr-50\" />\n                            <span className=\"align-middle font-medium-1\">\n                              Trash\n                            </span>\n                          </DropdownItem>\n                        </DropdownMenu>\n                      </UncontrolledDropdown>\n                    </li>\n                    <li className=\"list-inline-item\">\n                      <UncontrolledDropdown>\n                        <DropdownToggle tag=\"div\">\n                          <Tag size={22} />\n                        </DropdownToggle>\n                        <DropdownMenu right>\n                          <DropdownItem\n                            className=\"font-medium-1\"\n                            onClick={() => this.props.setLabel(\"personal\")}\n                          >\n                            <span className=\"bullet bullet-success bullet-sm mr-1\" />\n                            <span className=\"align-middle\">Personal</span>\n                          </DropdownItem>\n                          <DropdownItem\n                            className=\"font-medium-1\"\n                            onClick={() => this.props.setLabel(\"company\")}\n                          >\n                            <span className=\"bullet bullet-primary bullet-sm mr-1\" />\n                            <span className=\"align-middle\">Company</span>\n                          </DropdownItem>\n                          <DropdownItem\n                            className=\"font-medium-1\"\n                            onClick={() => this.props.setLabel(\"important\")}\n                          >\n                            <span className=\"bullet bullet-warning bullet-sm mr-1\" />\n                            <span className=\"align-middle\">Important</span>\n                          </DropdownItem>\n                          <DropdownItem\n                            className=\"font-medium-1\"\n                            onClick={() => this.props.setLabel(\"private\")}\n                          >\n                            <span className=\"bullet bullet-danger bullet-sm mr-1\" />\n                            <span className=\"align-middle\">Private</span>\n                          </DropdownItem>\n                        </DropdownMenu>\n                      </UncontrolledDropdown>\n                    </li>\n                    <li\n                      className=\"list-inline-item mail-unread\"\n                      onClick={() => this.props.unreadMails(true)}\n                    >\n                      <span className=\"action-icon\">\n                        <Mail size={22} />\n                      </span>\n                    </li>\n                    <li\n                      className=\"list-inline-item mail-delete\"\n                      onClick={() => {\n                        this.props.moveMail(\"trash\")\n                      }}\n                    >\n                      <span className=\"action-icon\">\n                        <Trash size={22} />\n                      </span>\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <PerfectScrollbar\n                className=\"email-user-list list-group\"\n                options={{\n                  wheelPropagation: false\n                }}\n              >\n                <ul className=\"users-list-wrapper media-list\">{renderMails}</ul>\n              </PerfectScrollbar>\n            </div>\n          </div>\n          <EmailDetails\n            handleEmailDetails={this.handleEmailDetails}\n            currentStatus={this.state.emailDetailsVisibility}\n            currentEmail={this.state.currentEmail}\n            toggleStarred={this.props.StarEmail}\n            setLabel={this.props.setLabel}\n            unreadMails={this.props.unreadMails}\n            currentParam={this.props.routerProps.match.params}\n            moveMail={this.props.moveMail}\n            handleNextMail={this.handleNextMail}\n            handlePreviousMail={this.handlePreviousMail}\n          />\n        </div>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    email: state.emailApp.mails,\n    starred: state.emailApp.starred\n  }\n}\nexport default connect(mapStateToProps, {\n  getEmails,\n  StarEmail,\n  searchMail,\n  moveMail,\n  selectMail,\n  selectAllMails,\n  deselectAllMails,\n  unreadMails,\n  setLabel\n})(EmailList)\n"]},"metadata":{},"sourceType":"module"}