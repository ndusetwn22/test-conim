{"ast":null,"code":"import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import Sidebar from\"react-sidebar\";import{ContextLayout}from\"../../../utility/context/Layout\";import ChatSidebarContent from\"./ChatSidebar\";import ChatLog from\"./ChatLog\";import ReceiverSidebar from\"./receiverProfile\";import UserSidebar from\"./UserSidebar\";import\"../../../assets/scss/pages/app-chat.scss\";var mql=window.matchMedia(\"(min-width: 992px)\");var Chat=/*#__PURE__*/function(_React$Component){_inherits(Chat,_React$Component);var _super=_createSuper(Chat);function Chat(){var _this;_classCallCheck(this,Chat);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={userProfile:false,sidebarDocked:mql.matches,sidebarOpen:false,activeChatID:null,activeChat:null,activeUser:null,receiverProfile:false,userSidebar:false};_this.handleUserSidebar=function(status){if(status===\"open\"){_this.setState({userProfile:true});}else{_this.setState({userProfile:false});}};_this.handleActiveChat=function(id,user,chats){_this.setState({activeChatID:id,activeUser:user,activeChat:chats});};_this.onSetSidebarOpen=function(open){_this.setState({sidebarOpen:open});};_this.mediaQueryChanged=function(){_this.setState({sidebarDocked:mql.matches,sidebarOpen:false});};_this.handleReceiverSidebar=function(status){status===\"open\"?_this.setState({receiverProfile:true}):_this.setState({receiverProfile:false});};_this.handleUserSidebar=function(status){status===\"open\"?_this.setState({userSidebar:true}):_this.setState({userSidebar:false});};return _this;}_createClass(Chat,[{key:\"UNSAFE_componentWillMount\",value:function UNSAFE_componentWillMount(){mql.addListener(this.mediaQueryChanged);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){mql.removeListener(this.mediaQueryChanged);}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"chat-application position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"chat-overlay \".concat(this.state.receiverProfile||this.state.userSidebar||this.state.sidebarOpen?\"show\":\"d-none\"),onClick:function onClick(){_this2.handleReceiverSidebar(\"close\");_this2.handleUserSidebar(\"close\");_this2.onSetSidebarOpen(false);}}),/*#__PURE__*/React.createElement(ContextLayout.Consumer,null,function(context){return/*#__PURE__*/React.createElement(Sidebar,{sidebar:/*#__PURE__*/React.createElement(ChatSidebarContent,{activeChatID:_this2.state.activeChatID,handleActiveChat:_this2.handleActiveChat,handleUserSidebar:_this2.handleUserSidebar,mainSidebar:_this2.onSetSidebarOpen}),docked:_this2.state.sidebarDocked,open:_this2.state.sidebarOpen,touch:false,sidebarClassName:\"chat-sidebar\",contentClassName:\"sidebar-children d-none\",pullRight:context.state.direction===\"rtl\"},\"\\\"\\\"\");}),/*#__PURE__*/React.createElement(UserSidebar,{userProfile:this.state.userSidebar,handleUserSidebar:this.handleUserSidebar}),/*#__PURE__*/React.createElement(ChatLog,{activeChat:this.state.activeChat,activeUser:this.state.activeUser,handleReceiverSidebar:this.handleReceiverSidebar,mainSidebar:this.onSetSidebarOpen,mql:mql,handleActiveChat:this.handleActiveChat}),/*#__PURE__*/React.createElement(ReceiverSidebar,{activeUser:this.state.activeUser,receiverProfile:this.state.receiverProfile,handleReceiverSidebar:this.handleReceiverSidebar}));}}]);return Chat;}(React.Component);export default Chat;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/apps/chat/Chat.js"],"names":["React","Sidebar","ContextLayout","ChatSidebarContent","ChatLog","ReceiverSidebar","UserSidebar","mql","window","matchMedia","Chat","state","userProfile","sidebarDocked","matches","sidebarOpen","activeChatID","activeChat","activeUser","receiverProfile","userSidebar","handleUserSidebar","status","setState","handleActiveChat","id","user","chats","onSetSidebarOpen","open","mediaQueryChanged","handleReceiverSidebar","addListener","removeListener","context","direction","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport Sidebar from \"react-sidebar\"\nimport { ContextLayout } from \"../../../utility/context/Layout\"\nimport ChatSidebarContent from \"./ChatSidebar\"\nimport ChatLog from \"./ChatLog\"\nimport ReceiverSidebar from \"./receiverProfile\"\nimport UserSidebar from \"./UserSidebar\"\nimport \"../../../assets/scss/pages/app-chat.scss\"\nconst mql = window.matchMedia(`(min-width: 992px)`)\n\nclass Chat extends React.Component {\n  state = {\n    userProfile: false,\n    sidebarDocked: mql.matches,\n    sidebarOpen: false,\n    activeChatID: null,\n    activeChat: null,\n    activeUser: null,\n    receiverProfile: false,\n    userSidebar: false\n  }\n  // mounted = false\n  handleUserSidebar = status => {\n    if (status === \"open\") {\n      this.setState({\n        userProfile: true\n      })\n    } else {\n      this.setState({\n        userProfile: false\n      })\n    }\n  }\n  handleActiveChat = (id, user, chats) => {\n    this.setState({\n      activeChatID: id,\n      activeUser: user,\n      activeChat: chats\n    })\n  }\n\n  UNSAFE_componentWillMount() {\n    mql.addListener(this.mediaQueryChanged)\n  }\n\n  componentWillUnmount() {\n    mql.removeListener(this.mediaQueryChanged)\n  }\n\n  onSetSidebarOpen = open => {\n    this.setState({ sidebarOpen: open })\n  }\n\n  mediaQueryChanged = () => {\n    this.setState({ sidebarDocked: mql.matches, sidebarOpen: false })\n  }\n\n  handleReceiverSidebar = status => {\n    status === \"open\"\n      ? this.setState({\n          receiverProfile: true\n        })\n      : this.setState({\n          receiverProfile: false\n        })\n  }\n\n  handleUserSidebar = status => {\n    status === \"open\"\n      ? this.setState({\n          userSidebar: true\n        })\n      : this.setState({\n          userSidebar: false\n        })\n  }\n\n  render() {\n    return (\n      <div className=\"chat-application position-relative\">\n        <div\n          className={`chat-overlay ${\n            this.state.receiverProfile ||\n            this.state.userSidebar ||\n            this.state.sidebarOpen\n              ? \"show\"\n              : \"d-none\"\n          }`}\n          onClick={() => {\n            this.handleReceiverSidebar(\"close\")\n            this.handleUserSidebar(\"close\")\n            this.onSetSidebarOpen(false)\n          }}\n        />\n        <ContextLayout.Consumer>\n          {context => (\n            <Sidebar\n              sidebar={\n                <ChatSidebarContent\n                  activeChatID={this.state.activeChatID}\n                  handleActiveChat={this.handleActiveChat}\n                  handleUserSidebar={this.handleUserSidebar}\n                  mainSidebar={this.onSetSidebarOpen}\n                />\n              }\n              docked={this.state.sidebarDocked}\n              open={this.state.sidebarOpen}\n              touch={false}\n              sidebarClassName=\"chat-sidebar\"\n              contentClassName=\"sidebar-children d-none\"\n              pullRight={context.state.direction === \"rtl\"}>\n              \"\"\n            </Sidebar>\n          )}\n        </ContextLayout.Consumer>\n        <UserSidebar\n          userProfile={this.state.userSidebar}\n          handleUserSidebar={this.handleUserSidebar}\n        />\n        <ChatLog\n          activeChat={this.state.activeChat}\n          activeUser={this.state.activeUser}\n          handleReceiverSidebar={this.handleReceiverSidebar}\n          mainSidebar={this.onSetSidebarOpen}\n          mql={mql}\n          handleActiveChat={this.handleActiveChat}\n        />\n        <ReceiverSidebar\n          activeUser={this.state.activeUser}\n          receiverProfile={this.state.receiverProfile}\n          handleReceiverSidebar={this.handleReceiverSidebar}\n        />\n      </div>\n    )\n  }\n}\n\nexport default Chat\n"]},"metadata":{},"sourceType":"module"}