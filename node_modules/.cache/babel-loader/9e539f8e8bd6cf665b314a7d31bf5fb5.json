{"ast":null,"code":"import _toConsumableArray from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var initialState={data:[],params:null,allData:[],totalPages:0,filteredData:[],totalRecords:0,sortIndex:[]};var determinePopularity=function determinePopularity(val){if(val>=75)return{popValue:val,color:\"success\"};else if(val<75&&val>=55)return{popValue:val,color:\"primary\"};else if(val<55&&val>=35)return{popValue:val,color:\"warning\"};else if(val<35&&val>=0)return{popValue:val,color:\"danger\"};else return{popValue:0,color:\"danger\"};};var moveIndex=function moveIndex(arr,from,to){var el=arr[from];arr.splice(from,1);arr.splice(to,0,el);};var getIndex=function getIndex(arr,arr2,arr3){var params=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(arr2.length>0){var startIndex=arr.findIndex(function(i){return i.id===arr2[0].id;})+1;var endIndex=arr.findIndex(function(i){return i.id===arr2[arr2.length-1].id;})+1;var finalArr=[startIndex,endIndex];return arr3=finalArr;}else{var _finalArr=[arr.length-parseInt(params.perPage),arr.length];return arr3=_finalArr;}};var DataListReducer=function DataListReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"GET_DATA\":return _objectSpread(_objectSpread({},state),{},{data:action.data,totalPages:action.totalPages,params:action.params,sortIndex:getIndex(state.allData,action.data,state.sortIndex,action.params)});case\"GET_ALL_DATA\":return _objectSpread(_objectSpread({},state),{},{allData:action.data,totalRecords:action.data.length,sortIndex:getIndex(action.data,state.data,state.sortIndex)});case\"FILTER_DATA\":var value=action.value;var filteredData=[];if(value.length){filteredData=state.allData.filter(function(item){var startsWithCondition=item.name.toLowerCase().startsWith(value.toLowerCase())||item.category.toLowerCase().startsWith(value.toLowerCase())||item.price.toLowerCase().startsWith(value.toLowerCase())||item.order_status.toLowerCase().startsWith(value.toLowerCase());var includesCondition=item.name.toLowerCase().includes(value.toLowerCase())||item.category.toLowerCase().includes(value.toLowerCase())||item.price.toLowerCase().includes(value.toLowerCase())||item.order_status.toLowerCase().includes(value.toLowerCase());if(startsWithCondition){return startsWithCondition;}else if(!startsWithCondition&&includesCondition){return includesCondition;}else return null;}).slice(state.params.page-1,state.params.perPage);return _objectSpread(_objectSpread({},state),{},{filteredData:filteredData});}else{filteredData=state.data;return _objectSpread(_objectSpread({},state),{},{filteredData:filteredData});}case\"ADD_DATA\":var id=state.data.slice(-1)[0].id+1;state.data.push(_objectSpread(_objectSpread({},action.obj),{},{id:id,popularity:determinePopularity(action.obj.popularity)}));moveIndex(state.data,state.data.findIndex(function(item){return item.id===id;}),0);return _objectSpread(_objectSpread({},state),{},{data:state.data,totalRecords:state.allData.length,sortIndex:getIndex(state.allData,state.data,state.sortIndex)});case\"UPDATE_DATA\":state.data.find(function(item){if(item.id===action.obj.id){var popularity=determinePopularity(action.obj.popularity.popValue);return Object.assign(item,_objectSpread(_objectSpread({},action.obj),{},{popularity:popularity}));}else{return item;}});return _objectSpread({},state);case\"DELETE_DATA\":var index=state.data.findIndex(function(item){return item.id===action.obj.id;});var updatedData=_toConsumableArray(state.data);updatedData.splice(index,1);return _objectSpread(_objectSpread({},state),{},{data:updatedData,totalRecords:state.allData.length,sortIndex:getIndex(state.allData,state.data,state.sortIndex,state.params)});default:return state;}};export default DataListReducer;","map":null,"metadata":{},"sourceType":"module"}