{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{api_query}from\"../../../api/ApiConstant\";import{Card,CardBody,CardHeader,CardTitle,Badge,Input,Button,FormGroup,Row,Col,Form,Label,Modal,ModalHeader,ModalBody,ModalFooter,Alert}from\"reactstrap\";import DataTable from\"react-data-table-component\";import{Star,Search,Edit,Trash,ChevronDown,Plus,Check,ChevronLeft,ChevronRight}from\"react-feather\";import axios from'axios';import Toggle from\"react-toggle\";import Select from\"react-select\";import{history}from\"../../../../src/history\";import Spinner from\"../../../components/@vuexy/spinner/Fallback-spinner\";var CustomHeader=function CustomHeader(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"add-new\"},/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-success\",onClick:function onClick(){return props.buatSS();}},\"Buat SS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"position-relative has-icon-left mb-1\"},/*#__PURE__*/React.createElement(Input,{value:props.value,onChange:function onChange(e){return props.handleFilter(e);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control-position\"},/*#__PURE__*/React.createElement(Search,{size:\"15\"}))));};var TemplateCustomHeader=function TemplateCustomHeader(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"add-new\"},/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-success\",onClick:function onClick(){return props.tarikData();}},\"Buat SS\")),/*#__PURE__*/React.createElement(\"div\",{className:\"position-relative has-icon-left mb-1\"},/*#__PURE__*/React.createElement(Input,{value:props.value,onChange:function onChange(e){return props.handleFilter(e);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control-position\"},/*#__PURE__*/React.createElement(Search,{size:\"15\"}))));};var ActionsComponent=function ActionsComponent(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"data-list-action\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-1 bg-gradient-success\",color:\"none\",size:\"sm\",onClick:function onClick(){// console.log('props : ', props);\nreturn props.isView(props.row,props.row.id,props.row.cff_id);}},\"View\"));};var SendComponent=function SendComponent(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"data-list-action\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-1 bg-gradient-success\",color:\"none\",size:\"sm\",onClick:function onClick(){console.log('props : ',props);console.log('digimon : ',props.row.name);return props.isVisible(props.row.name,props.row.img);}},\" Send\"));};var EditsComponent=function EditsComponent(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"data-list-action\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-1 bg-gradient-warning\",color:\"none\",size:\"sm\",onClick:function onClick(){// console.log('props : ', props);\n// console.log('digimon : ', props.row.name);\nreturn props.isVisible(props.row.name,props.row.img);}},\" Edit\"));};var OpSsTable=/*#__PURE__*/function(_React$Component){_inherits(OpSsTable,_React$Component);var _super=_createSuper(OpSsTable);function OpSsTable(){var _this;_classCallCheck(this,OpSsTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={modalApproval:false,dataApproval:[],columnsApproval:[{name:\"Nama\",selector:\"nama\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.name,className:\"d-block text-bold-500 text-truncate mb-0\"},row.name)));}},{name:\"Status\",selector:\"approval_rejected_status\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.approval_rejected_status,className:\"d-block text-bold-500 text-truncate mb-0\"},row.approval_rejected_status)));}},{name:\"Tanggal\",selector:\"approve_date\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.approve_date,className:\"d-block text-bold-500 text-truncate mb-0\"},row.approve_date)));}}],modalVisible:false,modalImage:'',modalDigimonName:'',myProfile:null,isLoading:false,columns:[{name:\"Tema\",selector:\"tema\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.tema_singkat,className:\"d-block text-bold-500 text-truncate mb-0\"},row.tema_singkat)));}},{name:\"Tanggal dibuat\",selector:\"tgl\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.tgl,className:\"d-block text-bold-500 text-truncate mb-0\"},row.tgl)));}},{name:\"Status\",selector:\"status_deskripsi\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"a\",{onClick:function onClick(){return _this.viewApproval(row);}},/*#__PURE__*/React.createElement(\"span\",{title:row.status_deskripsi,className:\"d-block text-bold-500 text-truncate mb-0\"},row.status_deskripsi))));}},{name:\"Actions\",sortable:true,cell:function cell(row){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ActionsComponent,{row:row// getData={this.state.data}\n,isView:_this.viewSS// isVisible= {this.toggleModalDigimon}\n}));}}],data:[],filteredData:[],value:\"\"};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_this.setState({isLoading:true});_context.next=3;return _this.isLogin('op_df');case 3:_context.next=5;return _this.tarikDataTable();case 5:_this.setState({isLoading:false});// await this.tarikData();\n// await this.tarikDataPostgre();\n// console.log('state data:', typeof(this.state.data))\n// console.log('local', JSON.parse(localStorage.getItem('account')).role)\ncase 6:case\"end\":return _context.stop();}}},_callee);}));_this.toggleModalApproval=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){var sql,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _this.setState(function(prevState){return{isLoading:true// modalApproval: !prevState.modalApproval\n};});case 2:sql=\"\\n        select dsha.ss_id, dsha.approved_rejected_by_id, dmu.\\\"name\\\", dsha.approval_rejected_status, dsha.create_date, COALESCE(to_char(dsha.create_date , 'DD Mon YYYY HH24:MI:SS'), '') AS approve_date from df_ss_history_approval dsha \\n        join df_master_user dmu\\n        on dsha.approved_rejected_by_id = dmu.id \\n        where dsha.ss_id = \"+id+\"\\n        order by dsha.id asc\\n    \";_context3.next=5;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(result){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:res=result.data.response.rows;console.log('result : ',result);if(!(res.length=='')){_context2.next=6;break;}return _context2.abrupt(\"return\",[]);case 6:_context2.next=8;return _this.setState({dataApproval:res});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 5:result=_context3.sent;_context3.next=8;return _this.setState(function(prevState){return{isLoading:true,modalApproval:!prevState.modalApproval};});case 8:_context3.next=10;return _this.setState({isLoading:false});case 10:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.toggleModalFixApproval=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_this.setState(function(prevState){return{modalApproval:!prevState.modalApproval,dataApproval:[]};});case 1:case\"end\":return _context4.stop();}}},_callee4);}));_this.isLogin=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(role){var myProfile;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(localStorage.getItem('account')==undefined||localStorage.getItem('account')==null){history.push(\"/pages/login\");}else if(JSON.parse(localStorage.getItem('account')).role!==role){history.push(\"/pages/login\");}else{myProfile=JSON.parse(localStorage.getItem('account'));console.log('myProfile',myProfile);_this.setState({myProfile:myProfile});}case 1:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x3){return _ref5.apply(this,arguments);};}();_this.toggleModalDigimon=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(name,img){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:console.log('LAUNCH TOGGLE DIGIMON');if(!(name==undefined)){_context6.next=6;break;}_context6.next=4;return _this.setState({modalVisible:false,modalImage:null,modalNameDigimon:''});case 4:_context6.next=8;break;case 6:_context6.next=8;return _this.setState({modalVisible:!_this.state.modalVisible,modalImage:img,modalDigimonName:name});case 8:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x4,_x5){return _ref6.apply(this,arguments);};}();_this.viewSS=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(data,id,cff_id){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log('view SS : ',id);console.log('data row : ',data);_this.props.changeViewPage('edit',data,id);case 3:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x6,_x7,_x8){return _ref7.apply(this,arguments);};}();_this.viewApproval=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:console.log('viewApproval : ',data);console.log('viewApproval : ',data.ds_id);_context8.next=4;return _this.toggleModalApproval(data.ds_id);case 4:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x9){return _ref8.apply(this,arguments);};}();_this.buatSS=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:console.log('BUATSS SS');_context9.next=3;return _this.props.changeViewPage('add');case 3:case\"end\":return _context9.stop();}}},_callee9);}));_this.tarikData=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){var result;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return axios.get('https://digimon-api.vercel.app/api/digimon').then(function(result){// console.log('result digimon : ', result)\nvar res=result.data;console.log('result : ',result);if(res.length==''){return[];}// console.log('result : ', (result.data))\nreturn res;}).catch(function(err){return[];});case 2:result=_context10.sent;_context10.next=5;return _this.setState({data:result});case 5:case\"end\":return _context10.stop();}}},_callee10);}));_this.tarikDataPostgre=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var sql,result;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:// console.log('tarik data')\n// let sql = `\n//     select * from employees_new limit 10000;\n// `\nconsole.log('test query');sql=\"\\n      select * from df_master_user\\n      \";_context11.next=4;return axios.post(api_query,{query:sql}).then(function(result){var res=result.data.response;// console.log('result : ', result)\nconsole.log('result postgres : ',result);console.log('postgres : ',res);if(res.length==''){return[];}}).catch(function(err){console.log('error : ',err);return[];});case 4:result=_context11.sent;_context11.next=7;return _this.setState({position:result});case 7:case\"end\":return _context11.stop();}}},_callee11);}));_this.tarikDataTable=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(){var sql,result;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:// let sql = `\n// select *, to_char(ds.tanggal_dibuat, 'dd Mon yyyy') as tgl, dss.status_deskripsi\n//         from df_ss ds\n//         join df_ss_status dss\n//         on ds.ss_status_id = dss.id\n//   where\n//     pengusul_id = `+this.state.myProfile.id+` and\n//     ss_status_id != `+9+`\n// `\n// order by tgl DESC\nsql=\"\\n    select *, to_char(ds.tanggal_dibuat, 'dd Mon yyyy') as tgl, dss.status_deskripsi, ds.id as ds_id\\n    from df_suggestion_system ds\\n        join df_ss_status dss\\n        on ds.ss_status_id = dss.id\\n    where\\n        ds.pengusul_id = \"+_this.state.myProfile.id+\" and\\n        ds.ss_status_id != 9\\n        order by ds.id DESC\\n    \";_context13.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(result){var res,_temp,index,element,temaSingkat,tema;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:// let res = result.data.response\nres=result.data.response.rows;// console.log('result : ', result)\n// console.log('result postgres : ', result)\nconsole.log('result query : ',res);console.log('query leng :',res.length);if(!(res.length=='')){_context12.next=7;break;}return _context12.abrupt(\"return\",[]);case 7:_temp=[];for(index=0;index<res.length;index++){element=res[index].tema;temaSingkat=element.split(' ').slice(0,2).join(' ');temaSingkat=temaSingkat+' ... ';tema=res[index];tema.tema_singkat=temaSingkat;// console.log('dummy : ', dummy)\n// // const elementTgl = res[index].tanggal_dibuat;\n// // var tgl = elementTgl.split('T')\n// console.log('tgl query : ', res[index].tgl)\n// console.log('tema singkat : ', temaSingkat)\n// // console.log('tanggal : ', tgl[0])\n// console.log('element:', element)\n_temp.push(tema);}if(!(_temp.length=='')){_context12.next=14;break;}_context12.next=12;return _this.setState({data:[]});case 12:_context12.next=16;break;case 14:_context12.next=16;return _this.setState({data:_temp});case 16:case\"end\":return _context12.stop();}}},_callee12);}));return function(_x10){return _ref13.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context13.sent;case 4:case\"end\":return _context13.stop();}}},_callee13);}));_this.handleFilter=function(e){var value=e.target.value;var data=_this.state.data;var filteredData=_this.state.filteredData;_this.setState({value:value});if(value.length){filteredData=data.filter(function(item){// console.log('ITEM : ', item)\nvar startsWithCondition=item.tema.toLowerCase().startsWith(value.toLowerCase())||item.tgl.toLowerCase().startsWith(value.toLowerCase())||item.status_deskripsi.toLowerCase().startsWith(value.toLowerCase());// item.name.toLowerCase().startsWith(value.toLowerCase())\n// item.date.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.email.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.status.toLowerCase().startsWith(value.toLowerCase())\nvar includesCondition=item.tema.toLowerCase().includes(value.toLowerCase())||item.tgl.toLowerCase().includes(value.toLowerCase())||item.status_deskripsi.toLowerCase().includes(value.toLowerCase());// item.name.toLowerCase().includes(value.toLowerCase())\n// item.date.toLowerCase().includes(value.toLowerCase()) ||\n// item.email.toLowerCase().includes(value.toLowerCase()) ||\n// item.revenue.toLowerCase().includes(value.toLowerCase()) ||\n// item.status.toLowerCase().includes(value.toLowerCase())\nif(startsWithCondition){return startsWithCondition;}else if(!startsWithCondition&&includesCondition){return includesCondition;}else return null;});_this.setState({filteredData:filteredData});}};return _this;}_createClass(OpSsTable,[{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,columns=_this$state.columns,value=_this$state.value,filteredData=_this$state.filteredData;return/*#__PURE__*/React.createElement(React.Fragment,null,!this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"Suggestion System Table\")),/*#__PURE__*/React.createElement(CardBody,{className:\"rdt_Wrapper\"},/*#__PURE__*/React.createElement(DataTable,{className:\"dataTable-custom\",data:value.length?filteredData:data,columns:columns,noHeader:true,pagination:true,subHeader:true,subHeaderComponent:/*#__PURE__*/React.createElement(CustomHeader,{value:value,handleFilter:this.handleFilter,buatSS:this.buatSS})// <CustomHeader value={value} handleFilter={this.handleFilter} tarikData={this.tarikDataTable}/>\n}))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modalApproval,toggle:this.toggleModalApproval,className:\"modal-dialog-centered\",backdrop:\"static\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModalFixApproval,className:\"bg-success\"},\"List approval\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(DataTable,{className:\"dataTable-custom\",data:this.state.dataApproval,columns:this.state.columnsApproval,noHeader:true})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"danger\",onClick:this.toggleModalFixApproval},\"close\"),\" \"))):/*#__PURE__*/React.createElement(Spinner,null));}}]);return OpSsTable;}(React.Component);export default OpSsTable;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.3 backup build/src/views/ss/op-ss/OpSsTable.js"],"names":["React","api_query","Card","CardBody","CardHeader","CardTitle","Badge","Input","Button","FormGroup","Row","Col","Form","Label","Modal","ModalHeader","ModalBody","ModalFooter","Alert","DataTable","Star","Search","Edit","Trash","ChevronDown","Plus","Check","ChevronLeft","ChevronRight","axios","Toggle","Select","history","Spinner","CustomHeader","props","buatSS","value","e","handleFilter","TemplateCustomHeader","tarikData","ActionsComponent","isView","row","id","cff_id","SendComponent","console","log","name","isVisible","img","EditsComponent","OpSsTable","state","modalApproval","dataApproval","columnsApproval","selector","sortable","minWidth","cell","approval_rejected_status","approve_date","modalVisible","modalImage","modalDigimonName","myProfile","isLoading","columns","tema_singkat","tgl","viewApproval","status_deskripsi","viewSS","data","filteredData","componentDidMount","setState","isLogin","tarikDataTable","toggleModalApproval","prevState","sql","post","query","then","result","res","response","rows","length","catch","err","toggleModalFixApproval","role","localStorage","getItem","undefined","push","JSON","parse","toggleModalDigimon","modalNameDigimon","changeViewPage","ds_id","get","tarikDataPostgre","position","_temp","index","element","tema","temaSingkat","split","slice","join","target","filter","item","startsWithCondition","toLowerCase","startsWith","includesCondition","includes","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { api_query } from \"../../../api/ApiConstant\"\nimport {\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  Badge,\n  Input,\n  Button,\n  FormGroup,\n  Row,\n  Col,\n  Form,\n  Label, Modal, ModalHeader, ModalBody, ModalFooter, Alert\n} from \"reactstrap\"\nimport DataTable from \"react-data-table-component\"\nimport { Star, Search,\n    Edit,\n    Trash,\n    ChevronDown,\n    Plus,\n    Check,\n    ChevronLeft,\n    ChevronRight } from \"react-feather\"\nimport axios from 'axios'\nimport Toggle from \"react-toggle\"\nimport Select from \"react-select\"\nimport { history } from \"../../../../src/history\"\nimport Spinner from \"../../../components/@vuexy/spinner/Fallback-spinner\"\n\nconst CustomHeader = props => {\n  return (\n    <div className=\"d-flex flex-wrap justify-content-between\">\n      <div className=\"add-new\">\n        <Button.Ripple color=\"none\" className=\"bg-gradient-success\" onClick={() => props.buatSS()}>Buat SS</Button.Ripple>\n      </div>\n      <div className=\"position-relative has-icon-left mb-1\">\n        <Input value={props.value} onChange={e => props.handleFilter(e)} />\n        <div className=\"form-control-position\">\n          <Search size=\"15\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst TemplateCustomHeader = props => {\n  return (\n    <div className=\"d-flex flex-wrap justify-content-between\">\n      <div className=\"add-new\">\n        <Button.Ripple color=\"none\" className=\"bg-gradient-success\" onClick={() => props.tarikData()}>Buat SS</Button.Ripple>\n      </div>\n      <div className=\"position-relative has-icon-left mb-1\">\n        <Input value={props.value} onChange={e => props.handleFilter(e)} />\n        <div className=\"form-control-position\">\n          <Search size=\"15\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst ActionsComponent = props => {\n    return (\n      <div className=\"data-list-action\">\n        <Button.Ripple className=\"mr-1 bg-gradient-success\" color=\"none\" size=\"sm\"\n          onClick={()=> {\n            // console.log('props : ', props);\n            return props.isView(props.row, props.row.id, props.row.cff_id)\n          }}>View</Button.Ripple>\n      </div>\n    )\n  }\n\nconst SendComponent = props => {\n    return (\n      <div className=\"data-list-action\">\n        <Button.Ripple className=\"mr-1 bg-gradient-success\" color=\"none\" size=\"sm\"\n          onClick={()=> {\n            console.log('props : ', props);\n            console.log('digimon : ', props.row.name);\n            return props.isVisible(props.row.name, props.row.img)\n          }}> Send</Button.Ripple>\n      </div>\n    )\n  }\n\nconst EditsComponent = props => {\n    return (\n      <div className=\"data-list-action\">\n        <Button.Ripple className=\"mr-1 bg-gradient-warning\" color=\"none\" size=\"sm\"\n          onClick={()=> {\n            // console.log('props : ', props);\n            // console.log('digimon : ', props.row.name);\n            return props.isVisible(props.row.name, props.row.img)\n          }}> Edit</Button.Ripple>\n      </div>\n    )\n  }\n\nclass OpSsTable extends React.Component {\n  state = {\n      modalApproval: false,\n      dataApproval: [],\n      columnsApproval: [\n        {\n          name: \"Nama\",\n          selector: \"nama\",\n          sortable: true,\n          minWidth: \"200px\",\n          cell: row =>\n          (\n            <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n              <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n                <span\n                  title={row.name}\n                  className=\"d-block text-bold-500 text-truncate mb-0\">\n                  {row.name}\n                  {/* {row.tema} */}\n                </span>\n              </div>\n            </div>\n          )\n        },\n        {\n          name: \"Status\",\n          selector: \"approval_rejected_status\",\n          sortable: true,\n          minWidth: \"200px\",\n          cell: row => (\n            <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n              <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n                <span\n                  title={row.approval_rejected_status}\n                  className=\"d-block text-bold-500 text-truncate mb-0\">\n                  {row.approval_rejected_status}\n                </span>\n              </div>\n            </div>\n          )\n        },\n        {\n          name: \"Tanggal\",\n          selector: \"approve_date\",\n          sortable: true,\n          minWidth: \"200px\",\n          cell: row => (\n            <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n              <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n                <span\n                  title={row.approve_date}\n                  className=\"d-block text-bold-500 text-truncate mb-0\">\n                  {row.approve_date}\n                </span>\n              </div>\n            </div>\n          )\n        },\n      ],\n      modalVisible: false,\n      modalImage: '',\n      modalDigimonName: '',\n      myProfile: null,\n      isLoading: false,\n      columns: [\n        {\n          name: \"Tema\",\n          selector: \"tema\",\n          sortable: true,\n          minWidth: \"200px\",\n          cell: row =>\n          (\n            <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n              <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n                <span\n                  title={row.tema_singkat}\n                  className=\"d-block text-bold-500 text-truncate mb-0\">\n                  {row.tema_singkat}\n                  {/* {row.tema} */}\n                </span>\n              </div>\n            </div>\n          )\n        },\n        {\n          name: \"Tanggal dibuat\",\n          selector: \"tgl\",\n          sortable: true,\n          minWidth: \"200px\",\n          cell: row => (\n            <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n              <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n                <span\n                  title={row.tgl}\n                  className=\"d-block text-bold-500 text-truncate mb-0\">\n                  {row.tgl}\n                </span>\n              </div>\n            </div>\n          )\n        },\n        {\n          name: \"Status\",\n          selector: \"status_deskripsi\",\n          sortable: true,\n          minWidth: \"200px\",\n          cell: row => (\n            <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n              <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n                <a onClick={()=>this.viewApproval(row)}>\n                <span\n                  title={row.status_deskripsi}\n                  className=\"d-block text-bold-500 text-truncate mb-0\"\n                  >\n                  {row.status_deskripsi}\n                </span>\n                </a>\n              </div>\n            </div>\n          )\n        },\n        {\n          name: \"Actions\",\n          sortable: true,\n          cell: row =>\n          (\n              <>\n              <ActionsComponent\n                row={row}\n                // getData={this.state.data}\n                isView={this.viewSS}\n                // isVisible= {this.toggleModalDigimon}\n              />\n              </>\n            )\n          }\n      ],\n      data: [],\n      filteredData: [],\n      value: \"\"\n  }\n\n  componentDidMount=async()=>{\n    this.setState({isLoading: true})\n    await this.isLogin('op_df');\n    await this.tarikDataTable();\n    this.setState({isLoading: false})\n\n    // await this.tarikData();\n    // await this.tarikDataPostgre();\n\n    // console.log('state data:', typeof(this.state.data))\n    // console.log('local', JSON.parse(localStorage.getItem('account')).role)\n\n  }\n\n  toggleModalApproval = async(id) => {\n    await this.setState(prevState => ({\n      isLoading: true,\n      // modalApproval: !prevState.modalApproval\n    }))\n\n    let sql = `\n        select dsha.ss_id, dsha.approved_rejected_by_id, dmu.\"name\", dsha.approval_rejected_status, dsha.create_date, COALESCE(to_char(dsha.create_date , 'DD Mon YYYY HH24:MI:SS'), '') AS approve_date from df_ss_history_approval dsha \n        join df_master_user dmu\n        on dsha.approved_rejected_by_id = dmu.id \n        where dsha.ss_id = `+id+`\n        order by dsha.id asc\n    `\n    var result = await axios.post(api_query, {\n                                query : sql\n                            })\n                                .then(async(result) => {\n                                let res = result.data.response.rows\n                                console.log('result : ', result)\n                                if (res.length == '') {\n                                    return []\n                                }else{\n                                  await this.setState({dataApproval: res})\n                                }\n                            }).catch(err => {\n                                console.log('error : ', err)\n                                return []\n                            })\n\n\n    await this.setState(prevState => ({\n      isLoading: true,\n      modalApproval: !prevState.modalApproval\n    }))\n\n    await this.setState({isLoading: false})\n  }\n  \n  toggleModalFixApproval = async() => {\n    this.setState(prevState => ({\n      modalApproval: !prevState.modalApproval,\n      dataApproval: []\n    }))\n  \n  }\n\n  isLogin = async(role) =>{\n    if (localStorage.getItem('account') == undefined || localStorage.getItem('account') == null) {\n      history.push(\"/pages/login\")\n    }else if(JSON.parse(localStorage.getItem('account')).role !== role){\n      history.push(\"/pages/login\")\n    }\n    else{\n      var myProfile = JSON.parse(localStorage.getItem('account'))\n      console.log('myProfile', myProfile)\n      this.setState({myProfile: myProfile})\n    }\n  }\n\n  toggleModalDigimon = async(name, img) =>{\n      console.log('LAUNCH TOGGLE DIGIMON')\n\n      if (name == undefined) {\n        await this.setState({\n            modalVisible: false,\n            modalImage: null,\n            modalNameDigimon: ''\n        })\n      }else{\n        await this.setState({\n            modalVisible: !this.state.modalVisible,\n            modalImage: img,\n            modalDigimonName: name\n        })\n      }\n\n\n  }\n\n  viewSS = async(data, id, cff_id) =>{\n    console.log('view SS : ', id)\n    console.log('data row : ', data)\n    this.props.changeViewPage('edit', data, id)\n  }\n\n  viewApproval = async(data) =>{\n    console.log('viewApproval : ', data)\n    console.log('viewApproval : ', data.ds_id)\n    await this.toggleModalApproval(data.ds_id);\n  }\n\n  buatSS = async() => {\n    console.log('BUATSS SS')\n    await this.props.changeViewPage('add')\n  }\n\n  tarikData = async() =>{\n        var result = await axios.get('https://digimon-api.vercel.app/api/digimon')\n            .then(result => {\n                // console.log('result digimon : ', result)\n                let res = result.data\n                console.log('result : ', result)\n                if (res.length == '') {\n                return []\n                }\n                // console.log('result : ', (result.data))\n                return res;\n            }).catch(err => {\n                return []\n            })\n\n        await this.setState({\n            data: result\n        })\n    }\n\n    tarikDataPostgre = async() =>{\n      // console.log('tarik data')\n      // let sql = `\n      //     select * from employees_new limit 10000;\n      // `\n      console.log('test query')\n\n      let sql = `\n      select * from df_master_user\n      `\n      var result = await axios.post(api_query, {\n                                  query : sql\n                              })\n                                  .then(result => {\n                                  let res = result.data.response\n                                  // console.log('result : ', result)\n                                  console.log('result postgres : ', result)\n                                  console.log('postgres : ', res)\n                                  if (res.length == '') {\n                                      return []\n                                  }\n                              }).catch(err => {\n                                  console.log('error : ', err)\n                                  return []\n                              })\n        await this.setState({position: result})\n      }\n\n  tarikDataTable = async() =>{\n\n    // let sql = `\n    // select *, to_char(ds.tanggal_dibuat, 'dd Mon yyyy') as tgl, dss.status_deskripsi\n    //         from df_ss ds\n    //         join df_ss_status dss\n    //         on ds.ss_status_id = dss.id\n    //   where\n    //     pengusul_id = `+this.state.myProfile.id+` and\n    //     ss_status_id != `+9+`\n    // `\n    // order by tgl DESC\n\n    let sql = `\n    select *, to_char(ds.tanggal_dibuat, 'dd Mon yyyy') as tgl, dss.status_deskripsi, ds.id as ds_id\n    from df_suggestion_system ds\n        join df_ss_status dss\n        on ds.ss_status_id = dss.id\n    where\n        ds.pengusul_id = `+this.state.myProfile.id+` and\n        ds.ss_status_id != 9\n        order by ds.id DESC\n    `\n\n    var result = await axios.post(api_query, {\n                                query : sql\n                            })\n                                .then(async(result) => {\n                                // let res = result.data.response\n                                var res = result.data.response.rows\n\n                                // console.log('result : ', result)\n                                // console.log('result postgres : ', result)\n                                console.log('result query : ', res)\n                                console.log('query leng :', res.length)\n                                if (res.length == '') {\n                                    return []\n                                }else{\n                                  var _temp = []\n\n                                  for (let index = 0; index < res.length; index++) {\n                                    const element = res[index].tema;\n                                    var temaSingkat = element.split(' ').slice(0,2).join(' ')\n                                    temaSingkat = temaSingkat + ' ... '\n\n                                    var tema = res[index];\n                                    tema.tema_singkat = temaSingkat\n\n                                    // console.log('dummy : ', dummy)\n\n                                    // // const elementTgl = res[index].tanggal_dibuat;\n                                    // // var tgl = elementTgl.split('T')\n                                    // console.log('tgl query : ', res[index].tgl)\n\n                                    // console.log('tema singkat : ', temaSingkat)\n                                    // // console.log('tanggal : ', tgl[0])\n                                    // console.log('element:', element)\n\n                                    _temp.push(tema)\n\n                                  }\n                                  if(_temp.length == ''){\n                                    await this.setState({data: []})\n                                  }else{\n                                    await this.setState({data: _temp})\n\n                                  }\n                                }\n                            }).catch(err => {\n                                console.log('error : ', err)\n                                return []\n                            })\n      // await this.setState({data: result})\n    }\n\n  handleFilter = e => {\n    let value = e.target.value\n    let data = this.state.data\n    let filteredData = this.state.filteredData\n    this.setState({ value })\n\n    if (value.length) {\n      filteredData = data.filter(item => {\n        // console.log('ITEM : ', item)\n        let startsWithCondition =\n          item.tema.toLowerCase().startsWith(value.toLowerCase()) ||\n          item.tgl.toLowerCase().startsWith(value.toLowerCase()) ||\n          item.status_deskripsi.toLowerCase().startsWith(value.toLowerCase())\n          // item.name.toLowerCase().startsWith(value.toLowerCase())\n          // item.date.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.email.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.status.toLowerCase().startsWith(value.toLowerCase())\n        let includesCondition =\n          item.tema.toLowerCase().includes(value.toLowerCase()) ||\n          item.tgl.toLowerCase().includes(value.toLowerCase()) ||\n          item.status_deskripsi.toLowerCase().includes(value.toLowerCase())\n          // item.name.toLowerCase().includes(value.toLowerCase())\n          // item.date.toLowerCase().includes(value.toLowerCase()) ||\n          // item.email.toLowerCase().includes(value.toLowerCase()) ||\n          // item.revenue.toLowerCase().includes(value.toLowerCase()) ||\n          // item.status.toLowerCase().includes(value.toLowerCase())\n\n        if (startsWithCondition) {\n          return startsWithCondition\n        } else if (!startsWithCondition && includesCondition) {\n          return includesCondition\n        } else return null\n      })\n      this.setState({ filteredData })\n    }\n  }\n\n  render() {\n    let { data, columns, value, filteredData } = this.state\n    return (\n        <>\n        {!this.state.isLoading? \n        <div>\n            <Card>\n                <CardHeader>\n                <CardTitle>Suggestion System Table</CardTitle>\n                </CardHeader>\n                <CardBody className=\"rdt_Wrapper\">\n                <DataTable\n                    className=\"dataTable-custom\"\n                    data={value.length ? filteredData : data}\n                    columns={columns}\n                    noHeader\n                    pagination\n                    subHeader\n                    subHeaderComponent={\n                    <CustomHeader value={value} handleFilter={this.handleFilter} buatSS={this.buatSS}/>\n                    // <CustomHeader value={value} handleFilter={this.handleFilter} tarikData={this.tarikDataTable}/>\n                    }\n                />\n                </CardBody>\n            </Card>\n\n            <Modal\n                isOpen={this.state.modalApproval}\n                toggle={this.toggleModalApproval}\n                className=\"modal-dialog-centered\"\n                backdrop=\"static\"\n              >\n                <ModalHeader toggle={this.toggleModalFixApproval} className=\"bg-success\">\n                  List approval\n                </ModalHeader>\n                <ModalBody className=\"modal-dialog-centered\">\n                  {/* <Row> */}\n                    <DataTable\n                      className=\"dataTable-custom\"\n                      data={this.state.dataApproval}\n                      columns={this.state.columnsApproval}\n                      noHeader\n                  />\n                    {/* </Row> */}\n                </ModalBody>\n                <ModalFooter>\n                <Button color=\"danger\" onClick={this.toggleModalFixApproval}>\n                  close\n                </Button>{\" \"}\n                </ModalFooter>\n            </Modal>\n        </div>\n            :\n            <Spinner/>\n        }\n            {/* <ModalDigimon {...this.state} {...this.props}\n                        // modalImage={this.state.modalImage}\n                        // modalVisible={this.state.modalVisible}\n                        toggleModal={this.toggleModalDigimon}></ModalDigimon> */}\n      </>\n    )\n  }\n}\n\nexport default OpSsTable\n"]},"metadata":{},"sourceType":"module"}