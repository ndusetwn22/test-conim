{"ast":null,"code":"import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{X,Tag}from\"react-feather\";import{UncontrolledDropdown,DropdownItem,DropdownMenu,DropdownToggle,FormGroup,Input,Label,Button}from\"reactstrap\";import Flatpickr from\"react-flatpickr\";import\"flatpickr/dist/themes/light.css\";import\"../../../assets/scss/plugins/forms/flatpickr/flatpickr.scss\";var eventColors={business:\"chip-success\",work:\"chip-warning\",personal:\"chip-danger\",others:\"chip-primary\"};var AddEvent=/*#__PURE__*/function(_React$Component){_inherits(AddEvent,_React$Component);var _super=_createSuper(AddEvent);function AddEvent(){var _this;_classCallCheck(this,AddEvent);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={startDate:new Date(),endDate:new Date(),title:\"\",label:null,allDay:true,selectable:true};_this.handleDateChange=function(date){_this.setState({startDate:date});};_this.handleEndDateChange=function(date){_this.setState({endDate:date});};_this.handleLabelChange=function(label){_this.setState({label:label});};_this.handleAddEvent=function(id){_this.props.handleSidebar(false);_this.props.addEvent({id:id,title:_this.state.title,start:_this.state.startDate,end:_this.state.endDate,label:_this.state.label===null?\"others\":_this.state.label,allDay:_this.state.allDay,selectable:_this.state.selectable});_this.setState({startDate:new Date(),endDate:new Date(),title:\"\",label:null,allDay:true,selectable:true});};return _this;}_createClass(AddEvent,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){this.setState({title:nextProps.eventInfo===null?\"\":nextProps.eventInfo.title,url:nextProps.eventInfo===null?\"\":nextProps.eventInfo.url,startDate:nextProps.eventInfo===null?new Date():new Date(nextProps.eventInfo.start),endDate:nextProps.eventInfo===null?new Date():new Date(nextProps.eventInfo.end),label:nextProps.eventInfo===null?null:nextProps.eventInfo.label,allDay:nextProps.eventInfo===null?true:nextProps.eventInfo.allDay,selectable:nextProps.eventInfo===null?true:nextProps.eventInfo.selectable});}},{key:\"render\",value:function render(){var _this2=this;var events=this.props.events.map(function(i){return i.id;});var lastId=events.pop();var newEventId=lastId+1;return/*#__PURE__*/React.createElement(\"div\",{className:\"add-event-sidebar \".concat(this.props.sidebar?\"show\":\"hidden\")},/*#__PURE__*/React.createElement(\"div\",{className:\"header d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"text-bold-600 mb-0\"},this.props.eventInfo!==null&&this.props.eventInfo.title.length>0?\"Update Event\":\"Add Event\"),/*#__PURE__*/React.createElement(\"div\",{className:\"close-icon cursor-pointer\",onClick:function onClick(){return _this2.props.handleSidebar(false);}},/*#__PURE__*/React.createElement(X,{size:20}))),/*#__PURE__*/React.createElement(\"div\",{className:\"add-event-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"category-action d-flex justify-content-between my-50\"},/*#__PURE__*/React.createElement(\"div\",{className:\"event-category\"},this.state.label!==null?/*#__PURE__*/React.createElement(\"div\",{className:\"chip \".concat(eventColors[this.state.label])},/*#__PURE__*/React.createElement(\"div\",{className:\"chip-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"chip-text text-capitalize\"},this.state.label))):null),/*#__PURE__*/React.createElement(\"div\",{className:\"category-dropdown\"},/*#__PURE__*/React.createElement(UncontrolledDropdown,null,/*#__PURE__*/React.createElement(DropdownToggle,{tag:\"div\",className:\"cursor-pointer\"},/*#__PURE__*/React.createElement(Tag,{size:18})),/*#__PURE__*/React.createElement(DropdownMenu,{tag:\"ul\",right:true},/*#__PURE__*/React.createElement(DropdownItem,{tag:\"li\",onClick:function onClick(){return _this2.handleLabelChange(\"business\");}},/*#__PURE__*/React.createElement(\"span\",{className:\"bullet bullet-success bullet-sm mr-50\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Business\")),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"li\",onClick:function onClick(){return _this2.handleLabelChange(\"work\");}},/*#__PURE__*/React.createElement(\"span\",{className:\"bullet bullet-warning bullet-sm mr-50\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Work\")),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"li\",onClick:function onClick(){return _this2.handleLabelChange(\"personal\");}},/*#__PURE__*/React.createElement(\"span\",{className:\"bullet bullet-danger bullet-sm mr-50\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Personal\")),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"li\",onClick:function onClick(){return _this2.handleLabelChange(\"others\");}},/*#__PURE__*/React.createElement(\"span\",{className:\"bullet bullet-primary bullet-sm mr-50\"}),/*#__PURE__*/React.createElement(\"span\",null,\"Others\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"add-event-fields mt-2\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"form-label-group\"},/*#__PURE__*/React.createElement(Input,{type:\"text\",id:\"EventTitle\",placeholder:\"Event Title\",value:this.state.title,onChange:function onChange(e){return _this2.setState({title:e.target.value});}}),/*#__PURE__*/React.createElement(Label,{for:\"EventTitle\"},\"Event Title\")),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"startDate\"},\"Start Date\"),/*#__PURE__*/React.createElement(Flatpickr,{id:\"startDate\",className:\"form-control\",value:this.state.startDate,onChange:function onChange(date){return _this2.handleDateChange(date);},options:{altInput:true,altFormat:\"F j, Y\",dateFormat:\"Y-m-d\"}})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"endDate\"},\"End Date\"),/*#__PURE__*/React.createElement(Flatpickr,{id:\"endDate\",className:\"form-control\",value:this.state.endDate,onChange:function onChange(date){return _this2.handleEndDateChange(date);},options:{altInput:true,altFormat:\"F j, Y\",dateFormat:\"Y-m-d\"}}))),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"add-event-actions text-right\"},/*#__PURE__*/React.createElement(Button.Ripple,{disabled:this.state.title.length>0?false:true,color:\"primary\",onClick:function onClick(){_this2.props.handleSidebar(false);if(_this2.props.eventInfo===null||_this2.props.eventInfo.title.length<=0)_this2.handleAddEvent(newEventId);else _this2.props.updateEvent({id:_this2.props.eventInfo.id,title:_this2.state.title,label:_this2.state.label,start:_this2.state.startDate,end:_this2.state.endDate,allDay:true,selectable:true});}},this.props.eventInfo!==null&&this.props.eventInfo.title.length>0?\"Update Event\":\"Add Event\"),/*#__PURE__*/React.createElement(Button.Ripple,{className:\"ml-1\",color:\"flat-danger\",onClick:function onClick(){_this2.props.handleSidebar(false);if(_this2.props.handleSelectedEvent)_this2.props.handleSelectedEvent(null);else return null;}},\"Cancel\"))));}}]);return AddEvent;}(React.Component);export default AddEvent;","map":null,"metadata":{},"sourceType":"module"}