{"ast":null,"code":"import _defineProperty from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{api_query,project}from\"../../../../api/ApiConstant\";import firebase from\"../../../../firebase/firebase\";import axios from'axios';import{Card,CardHeader,CardTitle,CardBody,FormGroup,Row,Col,Input,Form,Button,Label,CustomInput,CardImg}from\"reactstrap\";import Checkbox from\"../../../../components/@vuexy/checkbox/CheckboxesVuexy\";import{Check,Star,Save,Send}from\"react-feather\";import{history}from\"../../../../../src/history\";import Select from\"react-select\";import SweetAlert from\"react-bootstrap-sweetalert\";import Spinner from\"../../../../components/@vuexy/spinner/Fallback-spinner\";import{Alert}from\"reactstrap\";import Toggle from\"react-toggle\";import\"react-toggle/style.css\";import\"../../../../assets/scss/plugins/forms/switch/react-toggle.scss\";import img1 from\"../../../../assets/img/pages/1.png\";import img2 from\"../../../../assets/img/pages/2.png\";var OpSsEdit=/*#__PURE__*/function(_React$Component){_inherits(OpSsEdit,_React$Component);var _super=_createSuper(OpSsEdit);function OpSsEdit(props){var _this;_classCallCheck(this,OpSsEdit);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.setState({isLoading:true});case 2:_context.next=4;return _this.isLogin('op_df');case 4:_context.next=6;return _this.tarikPartner();case 6:_context.next=8;return _this.tarikAtasan();case 8:// await this.setState({dataAtasan: this.props.dataAtasan})\n// setTimeout(async() => {\n//   await this.tarikAtasan();\n// }, 3000);\nconsole.log('props edit : ',_this.props);_context.next=11;return _this.setState({isLoading:false});case 11:case\"end\":return _context.stop();}}},_callee);}));_this.onImageChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var reader;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_this.setState({fotoKondisiSebelumFile:event.target.files});if(event.target.files&&event.target.files[0]){reader=new FileReader();reader.onload=function(e){_this.setState({fotoKondisiSebelum:e.target.result});};reader.readAsDataURL(event.target.files[0]);}case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.onImageChange2=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event){var reader;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_this.setState({fotoKondisiSesudahFile:event.target.files});if(event.target.files&&event.target.files[0]){reader=new FileReader();reader.onload=function(e){_this.setState({fotoKondisiSesudah:e.target.result});};reader.readAsDataURL(event.target.files[0]);}case 2:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x2){return _ref3.apply(this,arguments);};}();_this.isLogin=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(role){var myProfile;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(localStorage.getItem('account')==undefined||localStorage.getItem('account')==null){history.push(\"/pages/login\");}else if(JSON.parse(localStorage.getItem('account')).role!==role){history.push(\"/pages/login\");}else{myProfile=JSON.parse(localStorage.getItem('account'));console.log('myProfile ss : ',myProfile);_this.setState({myProfile:myProfile});}case 1:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x3){return _ref4.apply(this,arguments);};}();_this.tarikPartner=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var sql,result;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:sql=\"\\n  select id as value,\\n    name as label,\\n    departement_id\\n  from df_master_user dmu\\n  where departement_id = \"+_this.state.myProfile.departement_id+\"\\n  and job_level != '4'\\n  and job_level != '5'\\n  and dmu.id != \"+_this.state.myProfile.id+\"\\n  order by dmu.name asc\\n  \";_context6.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(result){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:res=result.data.response.rows;console.log('result query atasan : ',res);if(!(res.length=='')){_context5.next=4;break;}return _context5.abrupt(\"return\",[]);case 4:_context5.next=6;return _this.setState({dataPartner:res});case 6:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x4){return _ref6.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context6.sent;case 4:case\"end\":return _context6.stop();}}},_callee6);}));_this.tarikAtasan=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var sql,result;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:sql=\"\\n  select id as value,\\n    name as label,\\n    departement_id\\n  from df_master_user dmu\\n  where departement_id = \"+_this.state.myProfile.departement_id+\"\\n  and job_level = '4'\\n  \";_context8.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(result){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:res=result.data.response.rows;console.log('result query atasan : ',res);if(!(res.length=='')){_context7.next=4;break;}return _context7.abrupt(\"return\",[]);case 4:_context7.next=6;return _this.setState({dataAtasan:res});case 6:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x5){return _ref8.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context8.sent;case 4:case\"end\":return _context8.stop();}}},_callee8);}));_this.handleAlertConfirm=function(state,value,title,text,type){if(value){_this.setState(_defineProperty({},state,value));_this.setState({sweetAlertTitleConfirm:title,sweetAlertTextConfirm:text,sweetAlertTypeConfirm:type});}else{_this.setState(_defineProperty({},state,value));_this.props.changeViewPage('page');}// if(text == \"Berhasil membuat SS\"){\n//   this.setState({ [state] : value })\n//   this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n//   // this.props.changeViewPage('page')\n// }else{}\n};_this.handleAlert=function(state,value,title,text,type){if(value){_this.setState(_defineProperty({},state,value));_this.setState({sweetAlertTitle:title,sweetAlertText:text,sweetAlertType:type});}else{_this.setState(_defineProperty({},state,value));}};_this.submitForm=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){var title,text,type,r,r2,myurl,myurl2,bucketName,file,storageRef,uploadTask,bucketName2,file2,storageRef2,uploadTask2,sql,result;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:title='';text='';type='';// console.log('SUBMIT : ', this.state.first_name)\n// console.log('SUBMIT : ', this.state.last_name)\n// console.log('event : ', e)\n// if (this.state.cffKondisiSaatIni == '' || this.state.cffKondisiSaatIni == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'CFF Kondisi Saat Ini Tidak Boleh Kosong', 'warning')}\n// if (this.state.cffKondisiDiusulkan == '' || this.state.cffKondisiDiusulkan == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'CFF Kondisi Diusulkan Tidak Boleh Kosong', 'warning')}\n// if (this.state.cffAlasanPerubahan == '' || this.state.cffAlasanPerubahan == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'CFF Alasan Perubahan Tidak Boleh Kosong', 'warning')}\n// if (this.state.cffDampakPerubahan == '' || this.state.cffDampakPerubahan == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'CFF Dampak Perubahan Tidak Boleh Kosong', 'warning')}\nif(!(_this.state.ssAtasanSelected==''||_this.state.ssAtasanSelected==null)){_context11.next=7;break;}_context11.next=6;return _this.handleAlert('isSweetAlert',true,'Warning','Fasilitator Tidak Boleh Kosong','warning');case 6:return _context11.abrupt(\"return\",_context11.sent);case 7:if(!(_this.state.ssTema==''||_this.state.ssTema==null)){_context11.next=11;break;}_context11.next=10;return _this.handleAlert('isSweetAlert',true,'Warning','Tema Tidak Boleh Kosong','warning');case 10:return _context11.abrupt(\"return\",_context11.sent);case 11:if(!(_this.state.ssLokasi==''||_this.state.ssLokasi==null)){_context11.next=15;break;}_context11.next=14;return _this.handleAlert('isSweetAlert',true,'Warning','Lokasi Tidak Boleh Kosong','warning');case 14:return _context11.abrupt(\"return\",_context11.sent);case 15:if(!(_this.state.ssPermasalahan==''||_this.state.ssPermasalahan==null)){_context11.next=19;break;}_context11.next=18;return _this.handleAlert('isSweetAlert',true,'Warning','Permasalahan Tidak Boleh Kosong','warning');case 18:return _context11.abrupt(\"return\",_context11.sent);case 19:if(!(_this.state.ssImprovement==''||_this.state.ssImprovement==null)){_context11.next=23;break;}_context11.next=22;return _this.handleAlert('isSweetAlert',true,'Warning','Improvement Tidak Boleh Kosong','warning');case 22:return _context11.abrupt(\"return\",_context11.sent);case 23:if(!(_this.state.ssBiayaUraian==''||_this.state.ssBiayaUraian==null)){_context11.next=27;break;}_context11.next=26;return _this.handleAlert('isSweetAlert',true,'Warning','Biaya Uraian Tidak Boleh Kosong','warning');case 26:return _context11.abrupt(\"return\",_context11.sent);case 27:if(!(_this.state.ssBiaya==''||_this.state.ssBiaya==null)){_context11.next=31;break;}_context11.next=30;return _this.handleAlert('isSweetAlert',true,'Warning','Biaya Tidak Boleh Kosong','warning');case 30:return _context11.abrupt(\"return\",_context11.sent);case 31:if(!(_this.state.ssKeuntunganUraian==''||_this.state.ssKeuntunganUraian==null)){_context11.next=35;break;}_context11.next=34;return _this.handleAlert('isSweetAlert',true,'Warning','Keuntungan Uraian Tidak Boleh Kosong','warning');case 34:return _context11.abrupt(\"return\",_context11.sent);case 35:if(!(_this.state.ssKeuntungan==''||_this.state.ssKeuntungan==null)){_context11.next=41;break;}_context11.next=38;return _this.handleAlert('isSweetAlert',true,'Warning','Keuntungan Tidak Boleh Kosong','warning');case 38:return _context11.abrupt(\"return\",_context11.sent);case 41:_this.setState({isLoading:true});r=(Math.random()+5).toString(36).substring(2);r2=(Math.random()+10).toString(36).substring(2);// console.log(\"random\", r);\n// console.log(\"random\", r2);\nmyurl=_this.props.editData.foto_kondisi_sebelum;myurl2=_this.props.editData.foto_kondisi_sesudah;if(!(_this.state.fotoKondisiSebelum!=img1&&_this.state.fotoKondisiSebelumFile!=null)){_context11.next=59;break;}bucketName=project;file=_this.state.fotoKondisiSebelumFile[0];_context11.next=51;return firebase.storage().ref(\"\".concat(bucketName,\"/ss/\").concat(_this.state.myProfile.id,\"/KondisiSebelum-\").concat(r));case 51:storageRef=_context11.sent;_context11.next=54;return storageRef.put(file);case 54:uploadTask=_context11.sent;_context11.next=57;return storageRef.getDownloadURL().catch(function(error){throw error;});case 57:myurl=_context11.sent;console.log('myurl : ',myurl);case 59:if(!(_this.state.fotoKondisiSesudah!=img2&&_this.state.fotoKondisiSesudahFile!=null)){_context11.next=72;break;}bucketName2=project;file2=_this.state.fotoKondisiSesudahFile[0];_context11.next=64;return firebase.storage().ref(\"\".concat(bucketName2,\"/ss/\").concat(_this.state.myProfile.id,\"/KondisiSesudah-\").concat(r2));case 64:storageRef2=_context11.sent;_context11.next=67;return storageRef2.put(file2);case 67:uploadTask2=_context11.sent;_context11.next=70;return storageRef2.getDownloadURL().catch(function(error){throw error;});case 70:myurl2=_context11.sent;console.log('myurl : ',myurl2);case 72:if(!_this.state.isCheckedFoto){myurl='';myurl2='';}//news \n// let sql = `\n//   UPDATE df_suggestion_system\n//   SET tema='`+this.state.ssTema+`', \n//   pengusul_id=`+this.state.myProfile.id+`,\n//   fasilitator_id='`+this.state.ssAtasanSelected+`', \n//   lokasi='`+this.state.ssLokasi+`', \n//   permasalahan='`+this.state.ssPermasalahan+`', \n//   improvement='`+this.state.ssImprovement+`', \n//   biaya=`+this.state.ssBiaya+`, \n//   biaya_uraian='`+this.state.ssBiayaUraian+`', \n//   keuntungan=`+this.state.ssKeuntungan+`, \n//   keuntungan_uraian='`+this.state.ssKeuntunganUraian+`', \n//   ss_status_id=2, \n//   update_by=`+this.state.myProfile.id+`, \n//   update_date=now()\n//   where id = `+this.props.editData.ds_id+`\n// `\nif(!_this.state.isChecked){_context11.next=83;break;}if(!(_this.state.ssPartner==''||_this.state.ssPartner==null)){_context11.next=80;break;}_context11.next=77;return _this.handleAlert('isSweetAlert',true,'Warning','Pengusul 2 Tidak Boleh Kosong','warning');case 77:return _context11.abrupt(\"return\",_context11.sent);case 80:sql=\"\\n            with ins1 as (\\n              UPDATE df_suggestion_system\\n              SET tema='\"+_this.state.ssTema+\"', \\n              pengusul_id=\"+_this.state.myProfile.id+\",\\n              pengusul_id_2=\"+_this.state.ssPartner+\",\\n              fasilitator_id='\"+_this.state.ssAtasanSelected+\"', \\n              lokasi='\"+_this.state.ssLokasi+\"', \\n              permasalahan='\"+_this.state.ssPermasalahan+\"', \\n              improvement='\"+_this.state.ssImprovement+\"', \\n              biaya=\"+_this.state.ssBiaya+\", \\n              biaya_uraian='\"+_this.state.ssBiayaUraian+\"', \\n              keuntungan=\"+_this.state.ssKeuntungan+\", \\n              keuntungan_uraian='\"+_this.state.ssKeuntunganUraian+\"', \\n              ss_status_id=2,\\n              foto_kondisi_sebelum = '\"+myurl+\"',\\n              foto_kondisi_sesudah = '\"+myurl2+\"',\\n              update_by=\"+_this.state.myProfile.id+\", \\n              update_date=timezone('utc-7', now())\\n              where id = \"+_this.props.editData.ds_id+\"\\n            returning id as return_id)\\n\\n            INSERT INTO df_ss_history_approval\\n            (ss_id, approved_rejected_by_id, approval_rejected_status, create_by, create_date)\\n            VALUES((select return_id from ins1), \"+_this.state.myProfile.id+\", 'Approved', \"+_this.state.myProfile.id+\", timezone('utc-7', now()));\\n            \";case 81:_context11.next=84;break;case 83:sql=\"\\n          with ins1 as (\\n              UPDATE df_suggestion_system\\n              SET tema='\"+_this.state.ssTema+\"', \\n              pengusul_id=\"+_this.state.myProfile.id+\",\\n              pengusul_id_2= 0,\\n              fasilitator_id='\"+_this.state.ssAtasanSelected+\"', \\n              lokasi='\"+_this.state.ssLokasi+\"', \\n              permasalahan='\"+_this.state.ssPermasalahan+\"', \\n              improvement='\"+_this.state.ssImprovement+\"', \\n              biaya=\"+_this.state.ssBiaya+\", \\n              biaya_uraian='\"+_this.state.ssBiayaUraian+\"', \\n              keuntungan=\"+_this.state.ssKeuntungan+\", \\n              keuntungan_uraian='\"+_this.state.ssKeuntunganUraian+\"', \\n              ss_status_id=2, \\n              foto_kondisi_sebelum = '\"+myurl+\"',\\n              foto_kondisi_sesudah = '\"+myurl2+\"',\\n              update_by=\"+_this.state.myProfile.id+\", \\n              update_date=timezone('utc-7', now())\\n              where id = \"+_this.props.editData.ds_id+\"\\n          returning id as return_id)\\n\\n              INSERT INTO df_ss_history_approval\\n              (ss_id, approved_rejected_by_id, approval_rejected_status, create_by, create_date)\\n              VALUES((select return_id from ins1), \"+_this.state.myProfile.id+\", 'Approved', \"+_this.state.myProfile.id+\", timezone('utc-7', now()));\\n            \";case 84:_context11.next=86;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(result){var res;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context9.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil edit & kirim SS','success');case 3:return _context9.abrupt(\"return\",_context9.sent);case 4:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x6){return _ref10.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref11=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(err){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:console.log('error : ',err);_context10.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal edit & kirim SS','danger');case 3:return _context10.abrupt(\"return\",_context10.sent);case 4:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x7){return _ref11.apply(this,arguments);};}());case 86:result=_context11.sent;_this.setState({isLoading:false});case 88:case\"end\":return _context11.stop();}}},_callee11);}));_this.saveForm=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(){var title,text,type,r,r2,myurl,myurl2,bucketName,file,storageRef,uploadTask,bucketName2,file2,storageRef2,uploadTask2,sql,result;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:title='';text='';type='';// console.log('SUBMIT : ', this.state.first_name)\n// console.log('SUBMIT : ', this.state.last_name)\n// console.log('event : ', e)\n// if (this.state.cffKondisiSaatIni == '' || this.state.cffKondisiSaatIni == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'CFF Kondisi Saat Ini Tidak Boleh Kosong', 'warning')}\n// if (this.state.cffKondisiDiusulkan == '' || this.state.cffKondisiDiusulkan == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'CFF Kondisi Diusulkan Tidak Boleh Kosong', 'warning')}\n// if (this.state.cffAlasanPerubahan == '' || this.state.cffAlasanPerubahan == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'CFF Alasan Perubahan Tidak Boleh Kosong', 'warning')}\n// if (this.state.cffDampakPerubahan == '' || this.state.cffDampakPerubahan == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'CFF Dampak Perubahan Tidak Boleh Kosong', 'warning')}\nif(!(_this.state.ssAtasanSelected==''||_this.state.ssAtasanSelected==null)){_context14.next=7;break;}_context14.next=6;return _this.handleAlert('isSweetAlert',true,'Warning','Fasilitator Tidak Boleh Kosong','warning');case 6:return _context14.abrupt(\"return\",_context14.sent);case 7:if(!(_this.state.ssTema==''||_this.state.ssTema==null)){_context14.next=11;break;}_context14.next=10;return _this.handleAlert('isSweetAlert',true,'Warning','Tema Tidak Boleh Kosong','warning');case 10:return _context14.abrupt(\"return\",_context14.sent);case 11:if(!(_this.state.ssLokasi==''||_this.state.ssLokasi==null)){_context14.next=15;break;}_context14.next=14;return _this.handleAlert('isSweetAlert',true,'Warning','Lokasi Tidak Boleh Kosong','warning');case 14:return _context14.abrupt(\"return\",_context14.sent);case 15:if(!(_this.state.ssPermasalahan==''||_this.state.ssPermasalahan==null)){_context14.next=19;break;}_context14.next=18;return _this.handleAlert('isSweetAlert',true,'Warning','Permasalahan Tidak Boleh Kosong','warning');case 18:return _context14.abrupt(\"return\",_context14.sent);case 19:if(!(_this.state.ssImprovement==''||_this.state.ssImprovement==null)){_context14.next=23;break;}_context14.next=22;return _this.handleAlert('isSweetAlert',true,'Warning','Improvement Tidak Boleh Kosong','warning');case 22:return _context14.abrupt(\"return\",_context14.sent);case 23:if(!(_this.state.ssBiayaUraian==''||_this.state.ssBiayaUraian==null)){_context14.next=27;break;}_context14.next=26;return _this.handleAlert('isSweetAlert',true,'Warning','Biaya Uraian Tidak Boleh Kosong','warning');case 26:return _context14.abrupt(\"return\",_context14.sent);case 27:if(!(_this.state.ssBiaya==''||_this.state.ssBiaya==null)){_context14.next=31;break;}_context14.next=30;return _this.handleAlert('isSweetAlert',true,'Warning','Biaya Tidak Boleh Kosong','warning');case 30:return _context14.abrupt(\"return\",_context14.sent);case 31:if(!(_this.state.ssKeuntunganUraian==''||_this.state.ssKeuntunganUraian==null)){_context14.next=35;break;}_context14.next=34;return _this.handleAlert('isSweetAlert',true,'Warning','Keuntungan Uraian Tidak Boleh Kosong','warning');case 34:return _context14.abrupt(\"return\",_context14.sent);case 35:if(!(_this.state.ssKeuntungan==''||_this.state.ssKeuntungan==null)){_context14.next=41;break;}_context14.next=38;return _this.handleAlert('isSweetAlert',true,'Warning','Keuntungan Tidak Boleh Kosong','warning');case 38:return _context14.abrupt(\"return\",_context14.sent);case 41:_this.setState({isLoading:true});r=(Math.random()+5).toString(36).substring(2);r2=(Math.random()+10).toString(36).substring(2);// console.log(\"random\", r);\n// console.log(\"random\", r2);\nmyurl=_this.props.editData.foto_kondisi_sebelum;myurl2=_this.props.editData.foto_kondisi_sesudah;if(!(_this.state.fotoKondisiSebelum!=img1&&_this.state.fotoKondisiSebelumFile!=null)){_context14.next=59;break;}bucketName=project;file=_this.state.fotoKondisiSebelumFile[0];_context14.next=51;return firebase.storage().ref(\"\".concat(bucketName,\"/ss/\").concat(_this.state.myProfile.id,\"/KondisiSebelum-\").concat(r));case 51:storageRef=_context14.sent;_context14.next=54;return storageRef.put(file);case 54:uploadTask=_context14.sent;_context14.next=57;return storageRef.getDownloadURL().catch(function(error){throw error;});case 57:myurl=_context14.sent;console.log('myurl : ',myurl);case 59:if(!(_this.state.fotoKondisiSesudah!=img2&&_this.state.fotoKondisiSesudahFile!=null)){_context14.next=72;break;}bucketName2=project;file2=_this.state.fotoKondisiSesudahFile[0];_context14.next=64;return firebase.storage().ref(\"\".concat(bucketName2,\"/ss/\").concat(_this.state.myProfile.id,\"/KondisiSesudah-\").concat(r2));case 64:storageRef2=_context14.sent;_context14.next=67;return storageRef2.put(file2);case 67:uploadTask2=_context14.sent;_context14.next=70;return storageRef2.getDownloadURL().catch(function(error){throw error;});case 70:myurl2=_context14.sent;console.log('myurl : ',myurl2);case 72:if(!_this.state.isCheckedFoto){myurl='';myurl2='';}//news\n// let sql = `\n//   UPDATE df_suggestion_system\n//   SET tema='`+this.state.ssTema+`', \n//   pengusul_id=`+this.state.myProfile.id+`,\n//   fasilitator_id='`+this.state.ssAtasanSelected+`', \n//   lokasi='`+this.state.ssLokasi+`', \n//   permasalahan='`+this.state.ssPermasalahan+`', \n//   improvement='`+this.state.ssImprovement+`', \n//   biaya=`+this.state.ssBiaya+`, \n//   biaya_uraian='`+this.state.ssBiayaUraian+`', \n//   keuntungan=`+this.state.ssKeuntungan+`, \n//   keuntungan_uraian='`+this.state.ssKeuntunganUraian+`', \n//   ss_status_id=1, \n//   update_by=`+this.state.myProfile.id+`, \n//   update_date=now()\n//   where id = `+this.props.editData.ds_id+`\n// `\nif(!_this.state.isChecked){_context14.next=83;break;}if(!(_this.state.ssPartner==''||_this.state.ssPartner==null)){_context14.next=80;break;}_context14.next=77;return _this.handleAlert('isSweetAlert',true,'Warning','Pengusul 2 Tidak Boleh Kosong','warning');case 77:return _context14.abrupt(\"return\",_context14.sent);case 80:sql=\"\\n            UPDATE df_suggestion_system\\n            SET tema='\"+_this.state.ssTema+\"', \\n            pengusul_id=\"+_this.state.myProfile.id+\",\\n            pengusul_id_2 = \"+_this.state.ssPartner+\",\\n            fasilitator_id='\"+_this.state.ssAtasanSelected+\"', \\n            lokasi='\"+_this.state.ssLokasi+\"', \\n            permasalahan='\"+_this.state.ssPermasalahan+\"', \\n            improvement='\"+_this.state.ssImprovement+\"', \\n            biaya=\"+_this.state.ssBiaya+\", \\n            biaya_uraian='\"+_this.state.ssBiayaUraian+\"', \\n            keuntungan=\"+_this.state.ssKeuntungan+\", \\n            keuntungan_uraian='\"+_this.state.ssKeuntunganUraian+\"', \\n            ss_status_id=1, \\n            foto_kondisi_sebelum = '\"+myurl+\"',\\n            foto_kondisi_sesudah = '\"+myurl2+\"',\\n            update_by=\"+_this.state.myProfile.id+\", \\n            update_date=timezone('utc-7', now())\\n            where id = \"+_this.props.editData.ds_id+\"\\n          \";case 81:_context14.next=84;break;case 83:sql=\"\\n            UPDATE df_suggestion_system\\n            SET tema='\"+_this.state.ssTema+\"', \\n            pengusul_id=\"+_this.state.myProfile.id+\",\\n            pengusul_id_2 = 0,\\n            fasilitator_id='\"+_this.state.ssAtasanSelected+\"', \\n            lokasi='\"+_this.state.ssLokasi+\"', \\n            permasalahan='\"+_this.state.ssPermasalahan+\"', \\n            improvement='\"+_this.state.ssImprovement+\"', \\n            biaya=\"+_this.state.ssBiaya+\", \\n            biaya_uraian='\"+_this.state.ssBiayaUraian+\"', \\n            keuntungan=\"+_this.state.ssKeuntungan+\", \\n            keuntungan_uraian='\"+_this.state.ssKeuntunganUraian+\"', \\n            ss_status_id=1, \\n            foto_kondisi_sebelum = '\"+myurl+\"',\\n            foto_kondisi_sesudah = '\"+myurl2+\"',\\n            update_by=\"+_this.state.myProfile.id+\", \\n            update_date=timezone('utc-7', now())\\n            where id = \"+_this.props.editData.ds_id+\"\\n          \";case 84:_context14.next=86;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(result){var res;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context12.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil edit SS','success');case 3:return _context12.abrupt(\"return\",_context12.sent);case 4:case\"end\":return _context12.stop();}}},_callee12);}));return function(_x8){return _ref13.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref14=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(err){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:console.log('error : ',err);_context13.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal edit SS','danger');case 3:return _context13.abrupt(\"return\",_context13.sent);case 4:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x9){return _ref14.apply(this,arguments);};}());case 86:result=_context14.sent;case 87:_this.setState({isLoading:false});case 88:case\"end\":return _context14.stop();}}},_callee14);}));_this.state={fotoKondisiSebelum:_this.props.editData.foto_kondisi_sebelum!=''?_this.props.editData.foto_kondisi_sebelum:img1,fotoKondisiSebelumFile:null,fotoKondisiSesudah:_this.props.editData.foto_kondisi_sesudah!=''?_this.props.editData.foto_kondisi_sesudah:img2,fotoKondisiSesudahFile:null,isCheckedFoto:_this.props.editData.foto_kondisi_sebelum!=''||_this.props.editData.foto_kondisi_sesudah!=''?true:false,img:img2,isLoading:false,myProfile:null,step:0,isChecked:_this.props.editData.pengusul_id_2==0?false:true,ssPartner:_this.props.editData.pengusul_id_2,isSweetAlert:false,sweetAlertTitle:'Judul',sweetAlertText:'Text',sweetAlertType:'warning',isSweetAlertConfirm:false,sweetAlertTitleConfirm:'Judul',sweetAlertTextConfirm:'Text',sweetAlertTypeConfirm:'warning',dataAtasan:[],dataPartner:[],// cffNik: '',\n// cffName: '',\n// cffKondisiSaatIni: '',\n// cffKondisiDiusulkan: '',\n// cffAlasanPerubahan: '',\n// cffDampakPerubahan: '',\n// ssAtasanSelected: null,\n// ssTema: '',\n// ssLokasi: '',\n// ssKondisiSebelum: '',\n// ssKondisiSesudah: '',\n// ssPermasalahan: '',\n// ssImprovement: '',\n// ssBiaya: 0,\n// ssBiayaUraian: '',\n// ssKeuntungan: 0,\n// ssKeuntunganUraian: '',\ncffNik:'',cffName:'',cffKondisiSaatIni:_this.props.editData.kondisi_sekarang,cffKondisiDiusulkan:_this.props.editData.kondisi_diusulkan,cffAlasanPerubahan:_this.props.editData.alasan_perubahan,cffDampakPerubahan:_this.props.editData.dampak_perubahan,ssAtasanSelected:_this.props.editData.fasilitator_id,ssTema:_this.props.editData.tema,ssLokasi:_this.props.editData.lokasi,// ssKondisiSebelum: this.props.editData.kondisi_sebelum,\n// ssKondisiSesudah: this.props.editData.kondisi_sesudah,\nssPermasalahan:_this.props.editData.permasalahan,ssImprovement:_this.props.editData.improvement,ssBiaya:parseInt(_this.props.editData.biaya),ssBiayaUraian:_this.props.editData.biaya_uraian,ssKeuntungan:parseInt(_this.props.editData.keuntungan),ssKeuntunganUraian:_this.props.editData.keuntungan_uraian};return _this;}_createClass(OpSsEdit,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.isLoading?/*#__PURE__*/React.createElement(Spinner,null):this.props.editData.ss_status_id==1||this.props.editData.ss_status_id==7?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-warning mb-1\",onClick:function onClick(){return _this2.props.changeViewPage();}},\"Back\"),this.props.editData.ss_status_id==7?/*#__PURE__*/React.createElement(Alert,{color:\"primary\"},\"Note return : \",this.props.editData.catatan_return):null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"SS Form\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"nik\"},\"NIK\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"nik\",id:\"nik\",placeholder:\"NIK\",value:this.state.myProfile==null?'':this.state.myProfile.nik,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"name\",id:\"name\",placeholder:\"Name\",value:this.state.myProfile==null?'':this.state.myProfile.name,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"departement\"},\"Departement\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"departement\",id:\"departement\",placeholder:\"Departement\",value:this.state.myProfile==null?'':this.state.myProfile.nama_departemen,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(FormGroup,null,\"Pengusul 2 : \\xA0\",/*#__PURE__*/React.createElement(\"i\",null,\"*optional\"),\"\\n\",/*#__PURE__*/React.createElement(\"label\",{className:\"react-toggle-wrapper\"},/*#__PURE__*/React.createElement(Toggle,{checked:this.state.isChecked// onChange={this.handleSwitchChange}\n,onChange:function onChange(){return _this2.setState({isChecked:!_this2.state.isChecked});},name:\"controlledSwitch\",className:\"mt-1\"// value=\"yes\"\n})))),this.state.isChecked?/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Pilih Pengusul 2\"),/*#__PURE__*/React.createElement(Select,{className:\"React\",classNamePrefix:\"select\",defaultValue:this.state.dataPartner.filter(function(x){return x.value==_this2.state.ssPartner;}),name:\"clear\",options:this.state.dataPartner// isClearable={true}\n,onChange:function onChange(val){return _this2.setState({ssPartner:val.value});}// onChange={(val)=>this.setState({ssPartner: val.target.value})}\n}))):null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Pilih Fasilitator\"),/*#__PURE__*/React.createElement(Select,{className:\"React\",classNamePrefix:\"select\"// defaultValue={colourOptions[1]}\n,defaultValue:this.state.dataAtasan.filter(function(x){return x.value==_this2.state.ssAtasanSelected;})// defaultValue={this.state.dataAtasan.filter(x => x.value == this.props.editData.fasilitator_id)}\n,name:\"clear\",options:this.state.dataAtasan// isClearable={true}\n,onChange:function onChange(val){return _this2.setState({ssAtasanSelected:val.value});}// onChange={(val)=>this.setState({ssAtasanSelected: val.target.value})}\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssTema\"},\"Tema\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"ssTema\",id:\"ssTema\",placeholder:\"Tema\",value:this.state.ssTema,onChange:function onChange(val){return _this2.setState({ssTema:val.target.value});}// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssLokasi\"},\"Lokasi\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"ssLokasi\",id:\"ssLokasi\",placeholder:\"Lokasi Suggestion System\",value:this.state.ssLokasi,onChange:function onChange(val){return _this2.setState({ssLokasi:val.target.value});}// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Permasalahan yang ada\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssPermasalahan\",onChange:function onChange(val){return _this2.setState({ssPermasalahan:val.target.value});},value:this.state.ssPermasalahan,placeholder:'Jelaskan permasalahan yang ada'// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Improvement yang dilakukan\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssImprovement\",onChange:function onChange(val){return _this2.setState({ssImprovement:val.target.value});},value:this.state.ssImprovement,placeholder:'Jelaskan improvement yang dilakukan'// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(FormGroup,null,\"Melampirkan foto : \\xA0\",/*#__PURE__*/React.createElement(\"i\",null,\"*optional\"),\"\\n\",/*#__PURE__*/React.createElement(\"label\",{className:\"react-toggle-wrapper\"},/*#__PURE__*/React.createElement(Toggle,{checked:this.state.isCheckedFoto// onChange={this.handleSwitchChange}\n,onChange:function onChange(){return _this2.setState({isCheckedFoto:!_this2.state.isCheckedFoto});},name:\"controlledSwitch\",className:\"mt-1\"// value=\"yes\"\n})))),this.state.isCheckedFoto?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,{className:\"d-flex flex-wrap justify-content-center\"},/*#__PURE__*/React.createElement(Col,{lg:\"4\",md:\"6\",sm:\"6\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardImg// onContextMenu=\"return false;\"\n,{onContextMenu:function onContextMenu(e){return e.preventDefault();},className:\"img-fluid mb-2\"// src={'https://firebasestorage.googleapis.com/v0/b/df-conim.appspot.com/o/dev%2Fss%2F2%2FKondisiSebelum?alt=media&token=4e77a992-3047-46d4-a141-f2dbe63b6b94'}\n,src:this.state.fotoKondisiSebelum,alt:\"card image cap\"// style={{width: 400, height: 300}}\n}),/*#__PURE__*/React.createElement(\"p\",null,\"Kondisi Sebelum\")))),/*#__PURE__*/React.createElement(Col,{lg:\"4\",md:\"6\",sm:\"6\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardImg,{onContextMenu:function onContextMenu(e){return e.preventDefault();},className:\"img-fluid mb-2\",src:this.state.fotoKondisiSesudah,alt:\"card image cap\"// style={{width: 400, height: 300}}\n}),/*#__PURE__*/React.createElement(\"p\",null,\"Kondisi Sesudah\"))))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"has-icon-left position-relative\"},/*#__PURE__*/React.createElement(Label,{for:\"profileImage\"},\"Pilih Foto Kondisi Sebelum\"),/*#__PURE__*/React.createElement(CustomInput,{type:\"file\",id:\"exampleCustomFileBrowser\",name:\"profileImage\",accept:\"image/*\",onChange:function onChange(event){return _this2.onImageChange(event);}// onChange={(val)=>this.setState({fotoKondisiSebelum:val.target.files})}\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"has-icon-left position-relative\"},/*#__PURE__*/React.createElement(Label,{for:\"profileImage\"},\"Pilih Foto Kondisi Sesudah\"),/*#__PURE__*/React.createElement(CustomInput,{type:\"file\",id:\"exampleCustomFileBrowser\",name:\"profileImage\",accept:\"image/*\",onChange:function onChange(event){return _this2.onImageChange2(event);}// onChange={(val)=>this.setState({fotoKondisiSebelum:val.target.files})}\n})))):null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Biaya Uraian\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssBiayaUraian\",onChange:function onChange(val){return _this2.setState({ssBiayaUraian:val.target.value});},value:this.state.ssBiayaUraian,placeholder:'Jelaskan uraian biaya yang dibutuhkan'// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssBiaya\"},\"Total Biaya\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"ssBiaya\",id:\"ssBiaya\",placeholder:\"Total biaya\",value:this.state.ssBiaya,onChange:function onChange(val){return _this2.setState({ssBiaya:val.target.value});}// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Keuntungan (Cost Saving) Uraian\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssKeuntunganUraian\",onChange:function onChange(val){return _this2.setState({ssKeuntunganUraian:val.target.value});},value:this.state.ssKeuntunganUraian,placeholder:'Jelaskan uraian keuntungan (cost saving)'// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssKeuntungan\"},\"Total Keuntungan (cost saving)\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"ssKeuntungan\",id:\"ssKeuntungan\",placeholder:\"Total keuntungan (cost saving)\",value:this.state.ssKeuntungan,onChange:function onChange(val){return _this2.setState({ssKeuntungan:val.target.value});}// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-end\"},/*#__PURE__*/React.createElement(Button,{color:\"none\",className:\"bg-gradient-warning mr-1\",onClick:function onClick(){return _this2.saveForm();}},/*#__PURE__*/React.createElement(\"span\",{className:\"align-middle ml-25\"},\"Simpan  \"),/*#__PURE__*/React.createElement(Save,{size:14})),/*#__PURE__*/React.createElement(Button,{color:\"none\",className:\"bg-gradient-success\",onClick:function onClick(){return _this2.submitForm();}},/*#__PURE__*/React.createElement(\"span\",{className:\"align-middle ml-25\"},\"Kirim  \"),/*#__PURE__*/React.createElement(Send,{size:14}))))))))))):this.props.editData.ss_status_id!=1?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-warning mb-1\",onClick:function onClick(){return _this2.props.changeViewPage();}},\"Back\"),this.props.editData.ss_status_id==8?/*#__PURE__*/React.createElement(Alert,{color:\"danger\"},\"Note reject / delete: \",this.props.editData.catatan_reject_delete):null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"SS Form\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"nik\"},\"NIK\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"nik\",id:\"nik\",placeholder:\"NIK\",value:this.state.myProfile==null?'':this.state.myProfile.nik,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"name\"},\"Name\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"name\",id:\"name\",placeholder:\"Name\",value:this.state.myProfile==null?'':this.state.myProfile.name,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"departement\"},\"Departement\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"departement\",id:\"departement\",placeholder:\"Departement\",value:this.state.myProfile==null?'':this.state.myProfile.nama_departemen,disabled:true}))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(FormGroup,null,\"Pengusul 2 : \\xA0\",/*#__PURE__*/React.createElement(\"i\",null,\"*optional\"),\"\\n\",/*#__PURE__*/React.createElement(\"label\",{className:\"react-toggle-wrapper\"},/*#__PURE__*/React.createElement(Toggle,{checked:this.state.isChecked// onChange={this.handleSwitchChange}\n,onChange:function onChange(){return _this2.setState({isChecked:!_this2.state.isChecked});},name:\"controlledSwitch\",className:\"mt-1\",disabled:true// value=\"yes\"\n})))),this.state.isChecked?/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Pilih Pengusul 2\"),/*#__PURE__*/React.createElement(Select,{className:\"React\",classNamePrefix:\"select\",defaultValue:this.state.dataPartner.filter(function(x){return x.value==_this2.state.ssPartner;}),name:\"clear\",options:this.state.dataPartner,onChange:function onChange(val){return _this2.setState({ssPartner:val.value});},isDisabled:true}))):null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Pilih Fasilitator\"),/*#__PURE__*/React.createElement(Select,{className:\"React\",classNamePrefix:\"select\"// defaultValue={colourOptions[1]}\n,defaultValue:this.state.dataAtasan.filter(function(x){return x.value==_this2.state.ssAtasanSelected;}),name:\"clear\",options:this.state.dataAtasan// isClearable={true}\n,onChange:function onChange(val){return _this2.setState({ssAtasanSelected:val.value});},isDisabled:true// disabled\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssTema\"},\"Tema\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"ssTema\",id:\"ssTema\",placeholder:\"Tema\",value:this.state.ssTema,onChange:function onChange(val){return _this2.setState({ssTema:val.target.value});},disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssLokasi\"},\"Lokasi\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"ssLokasi\",id:\"ssLokasi\",placeholder:\"Lokasi Suggestion System\",value:this.state.ssLokasi,onChange:function onChange(val){return _this2.setState({ssLokasi:val.target.value});},disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Permasalahan yang ada\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssPermasalahan\",onChange:function onChange(val){return _this2.setState({ssPermasalahan:val.target.value});},value:this.state.ssPermasalahan,placeholder:'Jelaskan permasalahan yang ada',disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Improvement yang dilakukan\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssImprovement\",onChange:function onChange(val){return _this2.setState({ssImprovement:val.target.value});},value:this.state.ssImprovement,placeholder:'Jelaskan improvement yang dilakukan',disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"3\"},/*#__PURE__*/React.createElement(FormGroup,null,\"Melampirkan foto : \\xA0\",/*#__PURE__*/React.createElement(\"i\",null,\"*optional\"),\"\\n\",/*#__PURE__*/React.createElement(\"label\",{className:\"react-toggle-wrapper\"},/*#__PURE__*/React.createElement(Toggle,{checked:this.state.isCheckedFoto// onChange={this.handleSwitchChange}\n,onChange:function onChange(){return _this2.setState({isCheckedFoto:!_this2.state.isCheckedFoto});},name:\"controlledSwitch\",className:\"mt-1\",disabled:true// value=\"yes\"\n})))),this.state.isCheckedFoto?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Row,{className:\"d-flex flex-wrap justify-content-center\"},/*#__PURE__*/React.createElement(Col,{lg:\"4\",md:\"6\",sm:\"6\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardImg,{onContextMenu:function onContextMenu(e){return e.preventDefault();},className:\"img-fluid mb-2\"// src={'https://firebasestorage.googleapis.com/v0/b/df-conim.appspot.com/o/dev%2Fss%2F2%2FKondisiSebelum?alt=media&token=4e77a992-3047-46d4-a141-f2dbe63b6b94'}\n,src:this.state.fotoKondisiSebelum,alt:\"card image cap\"// style={{width: 400, height: 300}}\n}),/*#__PURE__*/React.createElement(\"p\",null,\"Kondisi Sebelum\")))),/*#__PURE__*/React.createElement(Col,{lg:\"4\",md:\"6\",sm:\"6\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(CardImg,{onContextMenu:function onContextMenu(e){return e.preventDefault();},className:\"img-fluid mb-2\",src:this.state.fotoKondisiSesudah,alt:\"card image cap\"// style={{width: 400, height: 300}}\n}),/*#__PURE__*/React.createElement(\"p\",null,\"Kondisi Sesudah\"))))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"has-icon-left position-relative\"},/*#__PURE__*/React.createElement(Label,{for:\"profileImage\"},\"Pilih Foto Kondisi Sebelum\"),/*#__PURE__*/React.createElement(CustomInput,{type:\"file\",id:\"exampleCustomFileBrowser\",name:\"profileImage\",accept:\"image/*\",onChange:function onChange(event){return _this2.onImageChange(event);},disabled:true// onChange={(val)=>this.setState({fotoKondisiSebelum:val.target.files})}\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,{className:\"has-icon-left position-relative\"},/*#__PURE__*/React.createElement(Label,{for:\"profileImage\"},\"Pilih Foto Kondisi Sesudah\"),/*#__PURE__*/React.createElement(CustomInput,{type:\"file\",id:\"exampleCustomFileBrowser\",name:\"profileImage\",accept:\"image/*\",onChange:function onChange(event){return _this2.onImageChange2(event);},disabled:true// onChange={(val)=>this.setState({fotoKondisiSebelum:val.target.files})}\n})))):null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Biaya Uraian\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssBiayaUraian\",onChange:function onChange(val){return _this2.setState({ssBiayaUraian:val.target.value});},value:this.state.ssBiayaUraian,placeholder:'Jelaskan uraian biaya yang dibutuhkan',disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssBiaya\"},\"Total Biaya\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"ssBiaya\",id:\"ssBiaya\",placeholder:\"Total biaya\",value:this.state.ssBiaya,onChange:function onChange(val){return _this2.setState({ssBiaya:val.target.value});},disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"\"},\"Keuntungan (Cost Saving) Uraian\"),/*#__PURE__*/React.createElement(Input,{type:\"textarea\",rows:\"3\",id:\"ssKeuntunganUraian\",onChange:function onChange(val){return _this2.setState({ssKeuntunganUraian:val.target.value});},value:this.state.ssKeuntunganUraian,placeholder:'Jelaskan uraian keuntungan (cost saving)',disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Label,{for:\"ssKeuntungan\"},\"Total Keuntungan (cost saving)\"),/*#__PURE__*/React.createElement(Input,{type:\"number\",name:\"ssKeuntungan\",id:\"ssKeuntungan\",placeholder:\"Total keuntungan (cost saving)\",value:this.state.ssKeuntungan,onChange:function onChange(val){return _this2.setState({ssKeuntungan:val.target.value});},disabled:true// required\n}))),/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-end\"},/*#__PURE__*/React.createElement(\"div\",{className:\"justify-content-end\"}))))))))):null,/*#__PURE__*/React.createElement(SweetAlert,{type:this.state.sweetAlertType,title:this.state.sweetAlertTitle,show:this.state.isSweetAlert,onConfirm:function onConfirm(){return _this2.handleAlert(\"isSweetAlert\",false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"sweet-alert-text\"},this.state.sweetAlertText)),/*#__PURE__*/React.createElement(SweetAlert,{type:this.state.sweetAlertTypeConfirm,title:this.state.sweetAlertTitleConfirm,show:this.state.isSweetAlertConfirm,onConfirm:function onConfirm(){return _this2.handleAlertConfirm(\"isSweetAlertConfirm\",false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"sweet-alert-text\"},this.state.sweetAlertTextConfirm)));}}]);return OpSsEdit;}(React.Component);export default OpSsEdit;","map":null,"metadata":{},"sourceType":"module"}