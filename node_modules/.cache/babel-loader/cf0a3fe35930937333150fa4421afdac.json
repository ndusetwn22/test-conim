{"ast":null,"code":"var _jsxFileName = \"/Users/pandusetiawan/Documents/react/rombak-react-vuexy2/src/views/tables/aggrid/Aggrid.js\";\nimport React from \"react\";\nimport { Card, CardBody, Input, Button, UncontrolledDropdown, DropdownMenu, DropdownItem, DropdownToggle } from \"reactstrap\";\nimport { AgGridReact } from \"ag-grid-react\";\nimport { ContextLayout } from \"../../../utility/context/Layout\";\nimport { ChevronDown } from \"react-feather\";\nimport axios from \"axios\";\nimport \"../../../assets/scss/plugins/tables/_agGridStyleOverride.scss\";\nimport Breadcrumbs from \"../../../components/@vuexy/breadCrumbs/BreadCrumb\";\n\nclass AggridTable extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      rowData: null,\n      paginationPageSize: 20,\n      currenPageSize: \"\",\n      getPageSize: \"\",\n      defaultColDef: {\n        sortable: true,\n        editable: true,\n        resizable: true,\n        suppressMenu: true\n      },\n      columnDefs: [{\n        headerName: \"First Name\",\n        field: \"firstname\",\n        width: 175,\n        filter: true,\n        checkboxSelection: true,\n        headerCheckboxSelectionFilteredOnly: true,\n        headerCheckboxSelection: true\n      }, {\n        headerName: \"Last Name\",\n        field: \"lastname\",\n        filter: true,\n        width: 175\n      }, {\n        headerName: \"Email\",\n        field: \"email\",\n        filter: true,\n        width: 250,\n        pinned: window.innerWidth > 992 ? \"left\" : false\n      }, {\n        headerName: \"Company\",\n        field: \"company\",\n        filter: true,\n        width: 250\n      }, {\n        headerName: \"City\",\n        field: \"city\",\n        filter: true,\n        width: 150\n      }, {\n        headerName: \"Country\",\n        field: \"country\",\n        filter: true,\n        width: 150\n      }, {\n        headerName: \"State\",\n        field: \"state\",\n        filter: true,\n        width: 125\n      }, {\n        headerName: \"Zip\",\n        field: \"zip\",\n        filter: \"agNumberColumnFilter\",\n        width: 140\n      }, {\n        headerName: \"Followers\",\n        field: \"followers\",\n        filter: \"agNumberColumnFilter\",\n        width: 140\n      }]\n    };\n\n    this.onGridReady = params => {\n      this.gridApi = params.api;\n      this.gridColumnApi = params.columnApi;\n      this.setState({\n        currenPageSize: this.gridApi.paginationGetCurrentPage() + 1,\n        getPageSize: this.gridApi.paginationGetPageSize(),\n        totalPages: this.gridApi.paginationGetTotalPages()\n      });\n    };\n\n    this.updateSearchQuery = val => {\n      this.gridApi.setQuickFilter(val);\n    };\n\n    this.filterSize = val => {\n      if (this.gridApi) {\n        this.gridApi.paginationSetPageSize(Number(val));\n        this.setState({\n          currenPageSize: val,\n          getPageSize: val\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"/api/aggrid/data\").then(response => {\n      let rowData = response.data.data;\n      JSON.stringify(rowData);\n      this.setState({\n        rowData\n      });\n    });\n  }\n\n  render() {\n    const {\n      rowData,\n      columnDefs,\n      defaultColDef\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumbs, {\n      breadCrumbTitle: \"Aggrid Table\",\n      breadCrumbParent: \"Forms & Tables\",\n      breadCrumbActive: \"Aggrid Table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Card, {\n      className: \"overflow-hidden agGrid-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      className: \"py-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, this.state.rowData === null ? null : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ag-theme-material w-100 my-2 ag-grid-table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap justify-content-between align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(UncontrolledDropdown, {\n      className: \"p-1 ag-dropdown\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(DropdownToggle, {\n      tag: \"div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 23\n      }\n    }, this.gridApi ? this.state.currenPageSize : \"\" * this.state.getPageSize - (this.state.getPageSize - 1), \" \", \"-\", \" \", this.state.rowData.length - this.state.currenPageSize * this.state.getPageSize > 0 ? this.state.currenPageSize * this.state.getPageSize : this.state.rowData.length, \" \", \"of \", this.state.rowData.length, /*#__PURE__*/React.createElement(ChevronDown, {\n      className: \"ml-50\",\n      size: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(DropdownMenu, {\n      right: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(DropdownItem, {\n      tag: \"div\",\n      onClick: () => this.filterSize(20),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, \"20\"), /*#__PURE__*/React.createElement(DropdownItem, {\n      tag: \"div\",\n      onClick: () => this.filterSize(50),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 25\n      }\n    }, \"50\"), /*#__PURE__*/React.createElement(DropdownItem, {\n      tag: \"div\",\n      onClick: () => this.filterSize(100),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 25\n      }\n    }, \"100\"), /*#__PURE__*/React.createElement(DropdownItem, {\n      tag: \"div\",\n      onClick: () => this.filterSize(134),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }\n    }, \"134\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex flex-wrap justify-content-between mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-input mr-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: \"search...\",\n      onChange: e => this.updateSearchQuery(e.target.value),\n      value: this.state.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"export-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Button.Ripple, {\n      color: \"primary\",\n      onClick: () => this.gridApi.exportDataAsCsv(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 23\n      }\n    }, \"Export as CSV\")))), /*#__PURE__*/React.createElement(ContextLayout.Consumer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 17\n      }\n    }, context => /*#__PURE__*/React.createElement(AgGridReact, {\n      gridOptions: {},\n      rowSelection: \"multiple\",\n      defaultColDef: defaultColDef,\n      columnDefs: columnDefs,\n      rowData: rowData,\n      onGridReady: this.onGridReady,\n      colResizeDefault: \"shift\",\n      animateRows: true,\n      floatingFilter: true,\n      pagination: true,\n      paginationPageSize: this.state.paginationPageSize,\n      pivotPanelShow: \"always\",\n      enableRtl: context.state.direction === \"rtl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 21\n      }\n    }))))));\n  }\n\n}\n\nexport default AggridTable;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/rombak-react-vuexy2/src/views/tables/aggrid/Aggrid.js"],"names":["React","Card","CardBody","Input","Button","UncontrolledDropdown","DropdownMenu","DropdownItem","DropdownToggle","AgGridReact","ContextLayout","ChevronDown","axios","Breadcrumbs","AggridTable","Component","state","rowData","paginationPageSize","currenPageSize","getPageSize","defaultColDef","sortable","editable","resizable","suppressMenu","columnDefs","headerName","field","width","filter","checkboxSelection","headerCheckboxSelectionFilteredOnly","headerCheckboxSelection","pinned","window","innerWidth","onGridReady","params","gridApi","api","gridColumnApi","columnApi","setState","paginationGetCurrentPage","paginationGetPageSize","totalPages","paginationGetTotalPages","updateSearchQuery","val","setQuickFilter","filterSize","paginationSetPageSize","Number","componentDidMount","get","then","response","data","JSON","stringify","render","length","e","target","value","exportDataAsCsv","context","direction"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {\n  Card,\n  CardBody,\n  Input,\n  Button,\n  UncontrolledDropdown,\n  DropdownMenu,\n  DropdownItem,\n  DropdownToggle\n} from \"reactstrap\"\nimport { AgGridReact } from \"ag-grid-react\"\nimport { ContextLayout } from \"../../../utility/context/Layout\"\nimport { ChevronDown } from \"react-feather\"\nimport axios from \"axios\"\n\nimport \"../../../assets/scss/plugins/tables/_agGridStyleOverride.scss\"\n\nimport Breadcrumbs from \"../../../components/@vuexy/breadCrumbs/BreadCrumb\"\n\nclass AggridTable extends React.Component {\n  state = {\n    rowData: null,\n    paginationPageSize: 20,\n    currenPageSize: \"\",\n    getPageSize: \"\",\n    defaultColDef: {\n      sortable: true,\n      editable: true,\n      resizable: true,\n      suppressMenu: true\n    },\n    columnDefs: [\n      {\n        headerName: \"First Name\",\n        field: \"firstname\",\n        width: 175,\n        filter: true,\n        checkboxSelection: true,\n        headerCheckboxSelectionFilteredOnly: true,\n        headerCheckboxSelection: true\n      },\n      {\n        headerName: \"Last Name\",\n        field: \"lastname\",\n        filter: true,\n        width: 175\n      },\n      {\n        headerName: \"Email\",\n        field: \"email\",\n        filter: true,\n        width: 250,\n        pinned: window.innerWidth > 992 ? \"left\" : false\n      },\n      {\n        headerName: \"Company\",\n        field: \"company\",\n        filter: true,\n        width: 250\n      },\n      {\n        headerName: \"City\",\n        field: \"city\",\n        filter: true,\n        width: 150\n      },\n      {\n        headerName: \"Country\",\n        field: \"country\",\n        filter: true,\n        width: 150\n      },\n      {\n        headerName: \"State\",\n        field: \"state\",\n        filter: true,\n        width: 125\n      },\n      {\n        headerName: \"Zip\",\n        field: \"zip\",\n        filter: \"agNumberColumnFilter\",\n        width: 140\n      },\n      {\n        headerName: \"Followers\",\n        field: \"followers\",\n        filter: \"agNumberColumnFilter\",\n        width: 140\n      }\n    ]\n  }\n\n  componentDidMount() {\n    axios.get(\"/api/aggrid/data\").then(response => {\n      let rowData = response.data.data\n      JSON.stringify(rowData)\n      this.setState({ rowData })\n    })\n  }\n\n  onGridReady = params => {\n    this.gridApi = params.api\n    this.gridColumnApi = params.columnApi\n    this.setState({\n      currenPageSize: this.gridApi.paginationGetCurrentPage() + 1,\n      getPageSize: this.gridApi.paginationGetPageSize(),\n      totalPages: this.gridApi.paginationGetTotalPages()\n    })\n  }\n\n  updateSearchQuery = val => {\n    this.gridApi.setQuickFilter(val)\n  }\n\n  filterSize = val => {\n    if (this.gridApi) {\n      this.gridApi.paginationSetPageSize(Number(val))\n      this.setState({\n        currenPageSize: val,\n        getPageSize: val\n      })\n    }\n  }\n\n  render() {\n    const { rowData, columnDefs, defaultColDef } = this.state\n    return (\n      <React.Fragment>\n        <Breadcrumbs\n          breadCrumbTitle=\"Aggrid Table\"\n          breadCrumbParent=\"Forms & Tables\"\n          breadCrumbActive=\"Aggrid Table\"\n        />\n        <Card className=\"overflow-hidden agGrid-card\">\n          <CardBody className=\"py-0\">\n            {this.state.rowData === null ? null : (\n              <div className=\"ag-theme-material w-100 my-2 ag-grid-table\">\n                <div className=\"d-flex flex-wrap justify-content-between align-items-center\">\n                  <div className=\"mb-1\">\n                    <UncontrolledDropdown className=\"p-1 ag-dropdown\">\n                      <DropdownToggle tag=\"div\">\n                        {this.gridApi\n                          ? this.state.currenPageSize\n                          : \"\" * this.state.getPageSize -\n                            (this.state.getPageSize - 1)}{\" \"}\n                        -{\" \"}\n                        {this.state.rowData.length -\n                          this.state.currenPageSize * this.state.getPageSize >\n                        0\n                          ? this.state.currenPageSize * this.state.getPageSize\n                          : this.state.rowData.length}{\" \"}\n                        of {this.state.rowData.length}\n                        <ChevronDown className=\"ml-50\" size={15} />\n                      </DropdownToggle>\n                      <DropdownMenu right>\n                        <DropdownItem\n                          tag=\"div\"\n                          onClick={() => this.filterSize(20)}\n                        >\n                          20\n                        </DropdownItem>\n                        <DropdownItem\n                          tag=\"div\"\n                          onClick={() => this.filterSize(50)}\n                        >\n                          50\n                        </DropdownItem>\n                        <DropdownItem\n                          tag=\"div\"\n                          onClick={() => this.filterSize(100)}\n                        >\n                          100\n                        </DropdownItem>\n                        <DropdownItem\n                          tag=\"div\"\n                          onClick={() => this.filterSize(134)}\n                        >\n                          134\n                        </DropdownItem>\n                      </DropdownMenu>\n                    </UncontrolledDropdown>\n                  </div>\n                  <div className=\"d-flex flex-wrap justify-content-between mb-1\">\n                    <div className=\"table-input mr-1\">\n                      <Input\n                        placeholder=\"search...\"\n                        onChange={e => this.updateSearchQuery(e.target.value)}\n                        value={this.state.value}\n                      />\n                    </div>\n                    <div className=\"export-btn\">\n                      <Button.Ripple\n                        color=\"primary\"\n                        onClick={() => this.gridApi.exportDataAsCsv()}\n                      >\n                        Export as CSV\n                      </Button.Ripple>\n                    </div>\n                  </div>\n                </div>\n                <ContextLayout.Consumer>\n                  {context => (\n                    <AgGridReact\n                      gridOptions={{}}\n                      rowSelection=\"multiple\"\n                      defaultColDef={defaultColDef}\n                      columnDefs={columnDefs}\n                      rowData={rowData}\n                      onGridReady={this.onGridReady}\n                      colResizeDefault={\"shift\"}\n                      animateRows={true}\n                      floatingFilter={true}\n                      pagination={true}\n                      paginationPageSize={this.state.paginationPageSize}\n                      pivotPanelShow=\"always\"\n                      enableRtl={context.state.direction === \"rtl\"}\n                    />\n                  )}\n                </ContextLayout.Consumer>\n              </div>\n            )}\n          </CardBody>\n        </Card>\n      </React.Fragment>\n    )\n  }\n}\nexport default AggridTable\n"]},"metadata":{},"sourceType":"module"}