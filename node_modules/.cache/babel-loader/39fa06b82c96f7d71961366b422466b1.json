{"ast":null,"code":"import _defineProperty from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{api_query}from\"../../../api/ApiConstant\";import{Row,Col,Card,CardBody,CardHeader,CardTitle,Badge,FormGroup,Input,Button,Label,Modal,ModalHeader,ModalBody,ModalFooter,Alert}from\"reactstrap\";import Select from\"react-select\";import DataTable from\"react-data-table-component\";import{Star,Search,Edit,Trash,ChevronDown,Plus,Check,ChevronLeft,ChevronRight}from\"react-feather\";import axios from'axios';import{history}from\"../../../../src/history\";import Toggle from\"react-toggle\";import SweetAlert from\"react-bootstrap-sweetalert\";var CustomHeader=function CustomHeader(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-wrap justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"add-new\"},/*#__PURE__*/React.createElement(Button.Ripple,{color:\"none\",className:\"bg-gradient-success\",onClick:function onClick(){return props.departemenAdd();}},\"Tambah Departemen\")),/*#__PURE__*/React.createElement(\"div\",{className:\"position-relative has-icon-left mb-1\"},/*#__PURE__*/React.createElement(Input,{value:props.value,onChange:function onChange(e){return props.handleFilter(e);}}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-control-position\"},/*#__PURE__*/React.createElement(Search,{size:\"15\"}))));};var ActionsComponent=function ActionsComponent(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"data-list-action\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-1 bg-gradient-success\",color:\"none\",size:\"sm\",onClick:function onClick(){// console.log('props : ', props);\nreturn props.isView(props.row,props.row.id,props.row.cff_id);}},\"View\"));};var DepartemenTable=/*#__PURE__*/function(_React$Component){_inherits(DepartemenTable,_React$Component);var _super=_createSuper(DepartemenTable);function DepartemenTable(){var _this;_classCallCheck(this,DepartemenTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={modalVisible:false,modalImage:'',modalDigimonName:'',myProfile:null,modal:false,modalAdd:false,id:0,namaDepartemen:'',namaDepartemenAdd:'',isSweetAlert:false,sweetAlertTitle:'Judul',sweetAlertText:'Text',sweetAlertType:'warning',isSweetAlertConfirm:false,sweetAlertTitleConfirm:'Judul',sweetAlertTextConfirm:'Text',sweetAlertTypeConfirm:'warning',columns:[{name:\"Id\",selector:\"id\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.id,className:\"d-block text-bold-500 text-truncate mb-0\"},row.id)));}},{name:\"Nama Departemen\",selector:\"nama_departemen\",sortable:true,minWidth:\"200px\",cell:function cell(row){return/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-info text-truncate ml-xl-50 ml-0\"},/*#__PURE__*/React.createElement(\"span\",{title:row.nama_departemen,className:\"d-block text-bold-500 text-truncate mb-0\"},row.nama_departemen)));}},{name:\"Actions\",sortable:true,cell:function cell(row){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ActionsComponent,{row:row,isView:_this.toggleModal}));}}],data:[],filteredData:[],value:\"\"};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.isLogin('super_admin');case 2:_context.next=4;return _this.tarikDataTable();case 4:case\"end\":return _context.stop();}}},_callee);}));_this.departemenAdd=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('Depatemen Add');_context2.next=3;return _this.toggleModalAdd();case 3:case\"end\":return _context2.stop();}}},_callee2);}));_this.toggleModalAdd=function(data,id){// this.setState(prevState => ({\n//   modal: !prevState.modal\n// }))\n_this.setState(function(prevState){return{modalAdd:!prevState.modalAdd};});};_this.toggleModalAddFix=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var sql,result;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_this.setState(function(prevState){return{modalAdd:!prevState.modalAdd};});sql=\"\\n        insert into df_master_departement(nama_departemen)\\n        values('\"+_this.state.namaDepartemenAdd+\"')\\n    \";console.log('sql : ',sql);_context5.next=5;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(result){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context3.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil tambah departemen','success');case 3:return _context3.abrupt(\"return\",_context3.sent);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x){return _ref4.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(err){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:console.log('error : ',err);_context4.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal tambah nama departemen','danger');case 3:return _context4.abrupt(\"return\",_context4.sent);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x2){return _ref5.apply(this,arguments);};}());case 5:result=_context5.sent;case 6:case\"end\":return _context5.stop();}}},_callee5);}));_this.toggleModal=function(data,id){// this.setState(prevState => ({\n//   modal: !prevState.modal\n// }))\n_this.setState(function(prevState){return{modal:!prevState.modal,namaDepartemen:data.nama_departemen,id:data.id};});};_this.toggleModalFix=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var sql,result;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_this.setState(function(prevState){return{modal:!prevState.modal};});sql=\"\\n        update df_master_departement\\n        set\\n        nama_departemen = '\"+_this.state.namaDepartemen+\"',\\n        update_date = now()\\n        where id = \"+_this.state.id+\"\\n    \";console.log('sql : ',sql);_context8.next=5;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(result){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:res=result.data.response;// Beda dgn sweetAlert yg lain\n_context6.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Success','Berhasil ganti nama departemen','success');case 3:return _context6.abrupt(\"return\",_context6.sent);case 4:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x3){return _ref7.apply(this,arguments);};}()).catch(/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(err){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log('error : ',err);_context7.next=3;return _this.handleAlertConfirm('isSweetAlertConfirm',true,'Danger','Gagal ganti nama departemen','danger');case 3:return _context7.abrupt(\"return\",_context7.sent);case 4:case\"end\":return _context7.stop();}}},_callee7);}));return function(_x4){return _ref8.apply(this,arguments);};}());case 5:result=_context8.sent;case 6:case\"end\":return _context8.stop();}}},_callee8);}));_this.handleAlertConfirm=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(state,value,title,text,type){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(!value){_context9.next=5;break;}_this.setState(_defineProperty({},state,value));_this.setState({sweetAlertTitleConfirm:title,sweetAlertTextConfirm:text,sweetAlertTypeConfirm:type});_context9.next=8;break;case 5:_this.setState(_defineProperty({},state,value));_context9.next=8;return _this.tarikDataTable();case 8:case\"end\":return _context9.stop();}}},_callee9);}));return function(_x5,_x6,_x7,_x8,_x9){return _ref9.apply(this,arguments);};}();_this.handleAlert=function(state,value,title,text,type){if(value){_this.setState(_defineProperty({},state,value));_this.setState({sweetAlertTitle:title,sweetAlertText:text,sweetAlertType:type});}else{_this.setState(_defineProperty({},state,value));}};_this.isLogin=/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(role){var myProfile;return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(localStorage.getItem('account')==undefined||localStorage.getItem('account')==null){history.push(\"/pages/login\");}else if(JSON.parse(localStorage.getItem('account')).role!==role){history.push(\"/pages/login\");}else{myProfile=JSON.parse(localStorage.getItem('account'));console.log('myProfile',myProfile);_this.setState({myProfile:myProfile});}case 1:case\"end\":return _context10.stop();}}},_callee10);}));return function(_x10){return _ref10.apply(this,arguments);};}();_this.tarikDataTable=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){var sql,result;return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:sql=\"\\n        select * from df_master_departement order by id asc\\n    \";_context12.next=3;return axios.post(api_query,{query:sql}).then(/*#__PURE__*/function(){var _ref12=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(result){var res;return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:// let res = result.data.response\nres=result.data.response.rows;// console.log('result : ', result)\n// console.log('result postgres : ', result)\nconsole.log('result query : ',res);console.log('query leng :',res.length);if(!(res.length=='')){_context11.next=7;break;}return _context11.abrupt(\"return\",[]);case 7:_this.setState({data:res});case 8:case\"end\":return _context11.stop();}}},_callee11);}));return function(_x11){return _ref12.apply(this,arguments);};}()).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context12.sent;case 4:case\"end\":return _context12.stop();}}},_callee12);}));_this.handleFilter=function(e){var value=e.target.value;var data=_this.state.data;var filteredData=_this.state.filteredData;_this.setState({value:value});if(value.length){filteredData=data.filter(function(item){// console.log('ITEM : ', item)\nvar startsWithCondition=item.id.toLowerCase().startsWith(value.toLowerCase())||item.nama_departemen.toLowerCase().startsWith(value.toLowerCase());// item.name.toLowerCase().startsWith(value.toLowerCase())\n// item.date.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.email.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\n// item.status.toLowerCase().startsWith(value.toLowerCase())\nvar includesCondition=item.id.toLowerCase().includes(value.toLowerCase())||item.nama_departemen.toLowerCase().includes(value.toLowerCase());// item.name.toLowerCase().includes(value.toLowerCase())\n// item.date.toLowerCase().includes(value.toLowerCase()) ||\n// item.email.toLowerCase().includes(value.toLowerCase()) ||\n// item.revenue.toLowerCase().includes(value.toLowerCase()) ||\n// item.status.toLowerCase().includes(value.toLowerCase())\nif(startsWithCondition){return startsWithCondition;}else if(!startsWithCondition&&includesCondition){return includesCondition;}else return null;});_this.setState({filteredData:filteredData});}};_this.viewSS=/*#__PURE__*/function(){var _ref13=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(data,id,cff_id){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:// console.log('view SS : ', id)\nconsole.log('data row : ',data);// this.props.changeViewPage('edit', data, id)\ncase 1:case\"end\":return _context13.stop();}}},_callee13);}));return function(_x12,_x13,_x14){return _ref13.apply(this,arguments);};}();return _this;}_createClass(DepartemenTable,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,data=_this$state.data,columns=_this$state.columns,value=_this$state.value,filteredData=_this$state.filteredData;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(CardTitle,null,\"Departemen\")),/*#__PURE__*/React.createElement(CardBody,{className:\"rdt_Wrapper\"},/*#__PURE__*/React.createElement(DataTable,{className:\"dataTable-custom\",data:value.length?filteredData:data,columns:columns,noHeader:true,pagination:true,subHeader:true,subHeaderComponent:/*#__PURE__*/React.createElement(CustomHeader,{value:value,handleFilter:this.handleFilter,departemenAdd:this.departemenAdd})// <CustomHeader value={value} handleFilter={this.handleFilter} tarikData={this.tarikDataTable}/>\n}))),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modal,toggle:this.toggleModal,className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModal,className:\"bg-success\"},\"Edit Nama Departemen\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(Label,{for:\"catatan\"},\"Nama Departemen\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"catatan\",id:\"catatan\",placeholder:\"Catatan CC\",value:this.state.namaDepartemen,onChange:function onChange(val){return _this2.setState({namaDepartemen:val.target.value});}// required\n})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:this.toggleModalFix},\"Ganti nama departemen\"),\" \")),/*#__PURE__*/React.createElement(Modal,{isOpen:this.state.modalAdd,toggle:this.toggleModalAdd,className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(ModalHeader,{toggle:this.toggleModalAdd,className:\"bg-success\"},\"Tambah Departemen\"),/*#__PURE__*/React.createElement(ModalBody,{className:\"modal-dialog-centered\"},/*#__PURE__*/React.createElement(Label,{for:\"catatan\"},\"Nama Departemen\"),/*#__PURE__*/React.createElement(Input,{type:\"text\",name:\"catatan\",id:\"catatan\",placeholder:\"Nama Departemen\",value:this.state.namaDepartemenAdd,onChange:function onChange(val){return _this2.setState({namaDepartemenAdd:val.target.value});}// required\n})),/*#__PURE__*/React.createElement(ModalFooter,null,/*#__PURE__*/React.createElement(Button,{color:\"success\",onClick:this.toggleModalAddFix},\"Tambah departemen\"),\" \")),/*#__PURE__*/React.createElement(SweetAlert,{type:this.state.sweetAlertType,title:this.state.sweetAlertTitle,show:this.state.isSweetAlert,onConfirm:function onConfirm(){return _this2.handleAlert(\"isSweetAlert\",false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"sweet-alert-text\"},this.state.sweetAlertText)),/*#__PURE__*/React.createElement(SweetAlert,{type:this.state.sweetAlertTypeConfirm,title:this.state.sweetAlertTitleConfirm,show:this.state.isSweetAlertConfirm,onConfirm:function onConfirm(){return _this2.handleAlertConfirm(\"isSweetAlertConfirm\",false);}},/*#__PURE__*/React.createElement(\"p\",{className:\"sweet-alert-text\"},this.state.sweetAlertTextConfirm)));}}]);return DepartemenTable;}(React.Component);export default DepartemenTable;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/admin/data-departemen/DepartemenTable.js"],"names":["React","api_query","Row","Col","Card","CardBody","CardHeader","CardTitle","Badge","FormGroup","Input","Button","Label","Modal","ModalHeader","ModalBody","ModalFooter","Alert","Select","DataTable","Star","Search","Edit","Trash","ChevronDown","Plus","Check","ChevronLeft","ChevronRight","axios","history","Toggle","SweetAlert","CustomHeader","props","departemenAdd","value","e","handleFilter","ActionsComponent","isView","row","id","cff_id","DepartemenTable","state","modalVisible","modalImage","modalDigimonName","myProfile","modal","modalAdd","namaDepartemen","namaDepartemenAdd","isSweetAlert","sweetAlertTitle","sweetAlertText","sweetAlertType","isSweetAlertConfirm","sweetAlertTitleConfirm","sweetAlertTextConfirm","sweetAlertTypeConfirm","columns","name","selector","sortable","minWidth","cell","nama_departemen","toggleModal","data","filteredData","componentDidMount","isLogin","tarikDataTable","console","log","toggleModalAdd","setState","prevState","toggleModalAddFix","sql","post","query","then","result","res","response","handleAlertConfirm","catch","err","toggleModalFix","title","text","type","handleAlert","role","localStorage","getItem","undefined","push","JSON","parse","rows","length","target","filter","item","startsWithCondition","toLowerCase","startsWith","includesCondition","includes","viewSS","val","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { api_query } from \"../../../api/ApiConstant\"\nimport {\n  Row,\n  Col,\n  Card,\n  CardBody,\n  CardHeader,\n  CardTitle,\n  Badge,\n  FormGroup,\n  Input,\n  Button, Label, Modal, ModalHeader, ModalBody, ModalFooter, Alert\n\n} from \"reactstrap\"\nimport Select from \"react-select\"\nimport DataTable from \"react-data-table-component\"\nimport { Star, Search,\n    Edit,\n    Trash,\n    ChevronDown,\n    Plus,\n    Check,\n    ChevronLeft,\n    ChevronRight } from \"react-feather\"\nimport axios from 'axios'\nimport { history } from \"../../../../src/history\"\nimport Toggle from \"react-toggle\"\nimport SweetAlert from \"react-bootstrap-sweetalert\"\n\n\nconst CustomHeader = props => {\n  return (\n    <div className=\"d-flex flex-wrap justify-content-between\">\n      {/* <div className=\"d-flex flex-wrap justify-content-end\"> */}\n      <div className=\"add-new\">\n        <Button.Ripple color=\"none\" className=\"bg-gradient-success\" onClick={() => props.departemenAdd()}>Tambah Departemen</Button.Ripple>\n      </div>\n      <div className=\"position-relative has-icon-left mb-1\">\n        <Input value={props.value} onChange={e => props.handleFilter(e)} />\n        <div className=\"form-control-position\">\n          <Search size=\"15\" />\n        </div>\n      </div>\n    </div>\n  )\n}\n\n\n  const ActionsComponent = props => {\n    return (\n      <div className=\"data-list-action\">\n        <Button.Ripple className=\"mr-1 bg-gradient-success\" color=\"none\" size=\"sm\"\n          onClick={()=> {\n            // console.log('props : ', props);\n            return props.isView(props.row, props.row.id, props.row.cff_id)\n          }}>View</Button.Ripple>\n      </div>\n    )\n  }\n\n\n\nclass DepartemenTable extends React.Component {\n  state = {\n    modalVisible: false,\n    modalImage: '',\n    modalDigimonName: '',\n    myProfile: null,\n    modal: false,\n    modalAdd: false,\n    id: 0,\n    namaDepartemen: '',\n    namaDepartemenAdd: '',\n    isSweetAlert: false,\n    sweetAlertTitle: 'Judul',\n    sweetAlertText: 'Text',\n    sweetAlertType: 'warning',\n    isSweetAlertConfirm: false,\n    sweetAlertTitleConfirm: 'Judul',\n    sweetAlertTextConfirm: 'Text',\n    sweetAlertTypeConfirm: 'warning',\n  columns: [\n      {\n        name: \"Id\",\n        selector: \"id\",\n        sortable: true,\n        minWidth: \"200px\",\n        cell: row =>\n        (\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n              <span\n                title={row.id}\n                className=\"d-block text-bold-500 text-truncate mb-0\">\n                {row.id}\n                {/* {row.tema} */}\n              </span>\n            </div>\n          </div>\n        )\n      },\n      {\n        name: \"Nama Departemen\",\n        selector: \"nama_departemen\",\n        sortable: true,\n        minWidth: \"200px\",\n        cell: row => (\n          <div className=\"d-flex flex-xl-row flex-column align-items-xl-center align-items-start py-xl-0 py-1\">\n            <div className=\"user-info text-truncate ml-xl-50 ml-0\">\n              <span\n                title={row.nama_departemen}\n                className=\"d-block text-bold-500 text-truncate mb-0\">\n                {row.nama_departemen}\n              </span>\n            </div>\n          </div>\n        )\n      },\n      {\n        name: \"Actions\",\n        sortable: true,\n        cell: row =>\n        (\n          <>\n            <ActionsComponent\n              row={row}\n              isView={this.toggleModal}\n            />\n          </>\n        )\n      }\n    ],\n    data: [],\n    filteredData: [],\n    value: \"\"\n  }\n\n  componentDidMount=async()=>{\n    await this.isLogin('super_admin');\n    await this.tarikDataTable();\n\n    // await this.tarikData();\n    // await this.tarikDataPostgre();\n\n    // console.log('state data:', typeof(this.state.data))\n    // console.log('local', JSON.parse(localStorage.getItem('account')).role)\n\n  }\n\n  departemenAdd = async()=>{\n    console.log('Depatemen Add')\n    await this.toggleModalAdd();\n  }\n\n  toggleModalAdd = (data, id) => {\n    // this.setState(prevState => ({\n    //   modal: !prevState.modal\n    // }))\n\n    this.setState(prevState => ({\n      modalAdd: !prevState.modalAdd,\n    }))\n  }\n\n  toggleModalAddFix = async() => {\n    this.setState(prevState => ({\n      modalAdd: !prevState.modalAdd\n    }))\n\n    let sql = `\n        insert into df_master_departement(nama_departemen)\n        values('`+this.state.namaDepartemenAdd+`')\n    `\n      console.log('sql : ', sql)\n\n      var result = await axios.post(api_query, {\n                                  query : sql\n                              })\n                                  .then(async(result) => {\n                                  let res = result.data.response\n                                  // Beda dgn sweetAlert yg lain\n                                  return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil tambah departemen', 'success')\n                                  // this.props.changeViewPage('page')\n                              }).catch(async(err) => {\n                                  console.log('error : ', err)\n                                  return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal tambah nama departemen', 'danger')\n                                  // return []\n                        })\n  }\n\n  toggleModal = (data, id) => {\n    // this.setState(prevState => ({\n    //   modal: !prevState.modal\n    // }))\n\n    this.setState(prevState => ({\n      modal: !prevState.modal,\n      namaDepartemen: data.nama_departemen,\n      id: data.id\n    }))\n  }\n\n  toggleModalFix = async() => {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }))\n\n    let sql = `\n        update df_master_departement\n        set\n        nama_departemen = '`+this.state.namaDepartemen+`',\n        update_date = now()\n        where id = `+this.state.id+`\n    `\n      console.log('sql : ', sql)\n\n      var result = await axios.post(api_query, {\n                                  query : sql\n                              })\n                                  .then(async(result) => {\n                                  let res = result.data.response\n                                  // Beda dgn sweetAlert yg lain\n                                  return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil ganti nama departemen', 'success')\n                                  // this.props.changeViewPage('page')\n                              }).catch(async(err) => {\n                                  console.log('error : ', err)\n                                  return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal ganti nama departemen', 'danger')\n                                  // return []\n                        })\n  }\n\n  handleAlertConfirm = async(state, value, title, text, type) => {\n\n    if (value) {\n      this.setState({ [state] : value })\n      this.setState({sweetAlertTitleConfirm: title, sweetAlertTextConfirm: text, sweetAlertTypeConfirm: type});\n    }else{\n      this.setState({ [state] : value })\n      await this.tarikDataTable();\n\n      // this.props.changeViewPage('page')\n  }\n    // if(text == \"Berhasil membuat SS\"){\n    //   this.setState({ [state] : value })\n    //   this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n    //   // this.props.changeViewPage('page')\n    // }else{}\n  }\n\n  handleAlert = (state, value, title, text, type) => {\n      if (value) {\n        this.setState({ [state] : value })\n        this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n      }else{\n        this.setState({ [state] : value })\n      }\n  }\n\n  isLogin = async(role) =>{\n    if (localStorage.getItem('account') == undefined || localStorage.getItem('account') == null) {\n      history.push(\"/pages/login\")\n    }else if(JSON.parse(localStorage.getItem('account')).role !== role){\n      history.push(\"/pages/login\")\n    }\n    else{\n      var myProfile = JSON.parse(localStorage.getItem('account'))\n      console.log('myProfile', myProfile)\n      this.setState({myProfile: myProfile})\n    }\n  }\n\n\n  tarikDataTable = async() =>{\n\n    let sql = `\n        select * from df_master_departement order by id asc\n    `\n    var result = await axios.post(api_query, {\n                                query : sql\n                            })\n                                .then(async(result) => {\n                                // let res = result.data.response\n                                var res = result.data.response.rows\n\n                                // console.log('result : ', result)\n                                // console.log('result postgres : ', result)\n                                console.log('result query : ', res)\n                                console.log('query leng :', res.length)\n                                if (res.length == '') {\n                                    return []\n                                }else{\n                                    this.setState({data: res})\n                                }\n\n                                // else{\n                                //   var _temp = []\n\n                                //   for (let index = 0; index < res.length; index++) {\n                                //     const element = res[index].tema;\n                                //     var temaSingkat = element.split(' ').slice(0,2).join(' ')\n                                //     temaSingkat = temaSingkat + ' ... '\n\n                                //     var tema = res[index];\n                                //     tema.tema_singkat = temaSingkat\n\n                                //     // console.log('dummy : ', dummy)\n\n                                //     // // const elementTgl = res[index].tanggal_dibuat;\n                                //     // // var tgl = elementTgl.split('T')\n                                //     // console.log('tgl query : ', res[index].tgl)\n\n                                //     // console.log('tema singkat : ', temaSingkat)\n                                //     // // console.log('tanggal : ', tgl[0])\n                                //     // console.log('element:', element)\n\n                                //     _temp.push(tema)\n\n                                //   }\n\n                                //   await this.setState({data: _temp})\n                                // }\n                            }).catch(err => {\n                                console.log('error : ', err)\n                                return []\n                            })\n      // await this.setState({data: result})\n    }\n\n  handleFilter = e => {\n    let value = e.target.value\n    let data = this.state.data\n    let filteredData = this.state.filteredData\n    this.setState({ value })\n\n    if (value.length) {\n      filteredData = data.filter(item => {\n        // console.log('ITEM : ', item)\n        let startsWithCondition =\n          item.id.toLowerCase().startsWith(value.toLowerCase()) ||\n          item.nama_departemen.toLowerCase().startsWith(value.toLowerCase())\n          // item.name.toLowerCase().startsWith(value.toLowerCase())\n          // item.date.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.email.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.revenue.toLowerCase().startsWith(value.toLowerCase()) ||\n          // item.status.toLowerCase().startsWith(value.toLowerCase())\n        let includesCondition =\n          item.id.toLowerCase().includes(value.toLowerCase()) ||\n          item.nama_departemen.toLowerCase().includes(value.toLowerCase())\n          // item.name.toLowerCase().includes(value.toLowerCase())\n          // item.date.toLowerCase().includes(value.toLowerCase()) ||\n          // item.email.toLowerCase().includes(value.toLowerCase()) ||\n          // item.revenue.toLowerCase().includes(value.toLowerCase()) ||\n          // item.status.toLowerCase().includes(value.toLowerCase())\n\n        if (startsWithCondition) {\n          return startsWithCondition\n        } else if (!startsWithCondition && includesCondition) {\n          return includesCondition\n        } else return null\n      })\n      this.setState({ filteredData })\n    }\n  }\n\n  viewSS = async(data, id, cff_id) =>{\n    // console.log('view SS : ', id)\n    console.log('data row : ', data)\n\n\n\n    // this.props.changeViewPage('edit', data, id)\n  }\n\n  render() {\n    let { data, columns, value, filteredData } = this.state\n    return (\n        <>\n            <Card>\n                <CardHeader>\n                <CardTitle>Departemen</CardTitle>\n                </CardHeader>\n                <CardBody className=\"rdt_Wrapper\">\n                <DataTable\n                    className=\"dataTable-custom\"\n                    data={value.length ? filteredData : data}\n                    columns={columns}\n                    noHeader\n                    pagination\n                    subHeader\n                    subHeaderComponent={\n                    <CustomHeader value={value} handleFilter={this.handleFilter} departemenAdd={this.departemenAdd}/>\n                    // <CustomHeader value={value} handleFilter={this.handleFilter} tarikData={this.tarikDataTable}/>\n                    }\n                />\n                </CardBody>\n            </Card>\n            {/* <ModalDigimon {...this.state} {...this.props}\n                        // modalImage={this.state.modalImage}\n                        // modalVisible={this.state.modalVisible}\n                        toggleModal={this.toggleModalDigimon}></ModalDigimon> */}\n\n                      {/* Approve */}\n        <Modal\n          isOpen={this.state.modal}\n          toggle={this.toggleModal}\n          className=\"modal-dialog-centered\"\n        >\n          <ModalHeader toggle={this.toggleModal} className=\"bg-success\">\n            Edit Nama Departemen\n          </ModalHeader>\n          <ModalBody className=\"modal-dialog-centered\">\n                  {/* <FormGroup> */}\n                    <Label for=\"catatan\">Nama Departemen</Label>\n                    <Input\n                      type=\"text\"\n                      name=\"catatan\"\n                      id=\"catatan\"\n                      placeholder=\"Catatan CC\"\n                      value={this.state.namaDepartemen}\n                      onChange={(val)=>this.setState({namaDepartemen: val.target.value})}\n                      // required\n                    />\n                  {/* </FormGroup> */}\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"success\" onClick={this.toggleModalFix}>\n              Ganti nama departemen\n            </Button>{\" \"}\n          </ModalFooter>\n        </Modal>\n\n        <Modal\n          isOpen={this.state.modalAdd}\n          toggle={this.toggleModalAdd}\n          className=\"modal-dialog-centered\"\n        >\n          <ModalHeader toggle={this.toggleModalAdd} className=\"bg-success\">\n            Tambah Departemen\n          </ModalHeader>\n          <ModalBody className=\"modal-dialog-centered\">\n                  {/* <FormGroup> */}\n                    <Label for=\"catatan\">Nama Departemen</Label>\n                    <Input\n                      type=\"text\"\n                      name=\"catatan\"\n                      id=\"catatan\"\n                      placeholder=\"Nama Departemen\"\n                      value={this.state.namaDepartemenAdd}\n                      onChange={(val)=>this.setState({namaDepartemenAdd: val.target.value})}\n                      // required\n                    />\n                  {/* </FormGroup> */}\n          </ModalBody>\n          <ModalFooter>\n            <Button color=\"success\" onClick={this.toggleModalAddFix}>\n              Tambah departemen\n            </Button>{\" \"}\n          </ModalFooter>\n        </Modal>\n\n        <SweetAlert type={this.state.sweetAlertType} title={this.state.sweetAlertTitle}\n          show={this.state.isSweetAlert}\n          onConfirm={() => this.handleAlert(\"isSweetAlert\", false)}\n        >\n            <p className=\"sweet-alert-text\">\n              {this.state.sweetAlertText}\n            </p>\n        </SweetAlert>\n\n        <SweetAlert type={this.state.sweetAlertTypeConfirm} title={this.state.sweetAlertTitleConfirm}\n          show={this.state.isSweetAlertConfirm}\n          onConfirm={() => this.handleAlertConfirm(\"isSweetAlertConfirm\", false)}\n        >\n            <p className=\"sweet-alert-text\">\n              {this.state.sweetAlertTextConfirm}\n            </p>\n        </SweetAlert>\n      </>\n    )\n  }\n}\n\nexport default DepartemenTable\n"]},"metadata":{},"sourceType":"module"}