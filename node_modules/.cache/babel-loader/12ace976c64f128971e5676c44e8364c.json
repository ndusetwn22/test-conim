{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Dropdown,DropdownToggle,DropdownMenu,DropdownItem}from\"reactstrap\";import classnames from\"classnames\";import{ChevronDown,ChevronRight}from\"react-feather\";import{Link}from\"react-router-dom\";import{connect}from\"react-redux\";import{FormattedMessage}from\"react-intl\";import{history}from\"../../../../history\";import navigationConfig from\"../../../../configs/horizontalMenuConfig\";var HorizontalSidebar=/*#__PURE__*/function(_React$Component){_inherits(HorizontalSidebar,_React$Component);var _super=_createSuper(HorizontalSidebar);function HorizontalSidebar(props){var _this;_classCallCheck(this,HorizontalSidebar);_this=_super.call(this,props);_this.openDropdown=function(id){var arr=_this.state.openDropdown;if(!arr.includes(id))arr.push(id);return _this.setState({openDropdown:arr});};_this.closeDropdown=function(id){var arr=_this.state.openDropdown;arr.splice(arr.indexOf(id),1);return _this.setState({openDropdown:arr});};_this.handleItemHover=function(id){_this.setState({itemHover:id});};_this.handleParentHover=function(id){_this.setState({parentHover:id});};_this.updateParentItems=function(id){var mainParent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(mainParent===true){_this.parentItems=[];}if(!_this.parentItems.includes(id)){_this.parentItems.push(id);}if(_this.activeFlag===true){_this.activeParentItems=_this.parentItems;_this.parentItems=[];_this.activeFlag=false;}};_this.handleActiveParent=function(arr){_this.setState({activeParents:arr});_this.activeFlag=false;};_this.renderSubMenu=function(submenu,id){return/*#__PURE__*/React.createElement(DropdownMenu,{tag:\"ul\",className:\"mt-50\",onMouseEnter:function onMouseEnter(e){return e.preventDefault();},modifiers:{setMaxHeight:{enabled:true,fn:function fn(data){var pageHeight=window.innerHeight,ddTop=data.instance.reference.getBoundingClientRect().top,ddHeight=data.popper.height,maxHeight,stylesObj;if(pageHeight-ddTop-ddHeight-28<1){maxHeight=pageHeight-ddTop-25;stylesObj={maxHeight:maxHeight,overflowY:\"auto\"};}return _objectSpread(_objectSpread({},data),{},{styles:_objectSpread({},stylesObj)});}}}},submenu.map(function(child){var CustomAnchorTag=child.type===\"external-link\"?\"a\":Link;if(child.navLink&&child.navLink===_this.props.activePath){_this.activeFlag=true;_this.updateParentItems(id);}var renderChildItems=/*#__PURE__*/React.createElement(React.Fragment,{key:child.id},/*#__PURE__*/React.createElement(\"li\",{className:classnames({active:_this.state.activeParents.includes(child.id)})},/*#__PURE__*/React.createElement(DropdownItem,{className:classnames(\"w-100\",{hover:_this.state.itemHover===child.id,\"has-sub\":child.children,active:child.parentOf&&child.parentOf.includes(_this.props.activePath)||child.navLink&&child.navLink===_this.props.activePath,\"has-active-child\":_this.state.openDropdown.includes(child.id),disabled:child.disabled}),tag:child.navLink?CustomAnchorTag:\"div\",to:child.filterBase?child.filterBase:child.navLink&&child.type===\"item\"?child.navLink:\"#\",href:child.type===\"external-link\"?child.navLink:undefined,target:child.newTab?\"_blank\":undefined,onMouseEnter:function onMouseEnter(){return _this.handleItemHover(child.id);},onMouseLeave:function onMouseLeave(){return _this.handleItemHover(null);}},child.children?/*#__PURE__*/React.createElement(Dropdown,{className:classnames(\"sub-menu w-100\",{}),isOpen:_this.state.openDropdown.includes(child.id),direction:_this.state.openLeft?\"left\":\"right\",toggle:function toggle(){return true;},onMouseEnter:function onMouseEnter(){return _this.openDropdown(child.id);},onMouseLeave:function onMouseLeave(){return _this.closeDropdown(child.id);}},/*#__PURE__*/React.createElement(DropdownToggle,{className:\"d-flex justify-content-between align-items-center item-content\",tag:\"div\",onClick:function onClick(){return _this.closeDropdown(child.id);}},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-toggle-sub text-truncate\"},/*#__PURE__*/React.createElement(\"span\",{className:\"menu-icon align-bottom mr-1\"},child.icon)),/*#__PURE__*/React.createElement(ChevronRight,{className:\"has-sub-arrow align-middle ml-50\",size:15})),child.children?_this.renderSubMenu(child.children,child.id):null):/*#__PURE__*/React.createElement(\"div\",{className:\"item-content\"},/*#__PURE__*/React.createElement(\"span\",{className:\"menu-icon align-top mr-1\"},child.icon)))));if(child.type===\"external-link\"||child.type===\"item\"// &&\n//   child.permissions &&\n//   child.permissions.includes(this.props.currentUser)\n||child.type===\"dropdown\"||child.permissions===undefined){return renderChildItems;}else if(child.navLink===_this.props.activePath// &&\n// !child.permissions.includes(this.props.currentUser)\n){return _this.redirectUnauthorized();}else{return null;}}));};_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.renderDropdown();case 2:case\"end\":return _context.stop();}}},_callee);}));_this.renderDropdown=function(arr){return arr.map(function(item){if(item.type===\"item\"&&item.navLink&&item.navLink===_this.props.activePath){_this.activeFlag=true;_this.updateParentItems(item.id,true);}var CustomAnchorTag=item.type===\"external-link\"?\"a\":Link;return/*#__PURE__*/React.createElement(\"li\",{className:classnames(\"nav-item\",{active:_this.state.activeParents.includes(item.id),hover:_this.state.parentHover===item.id}),key:item.id,ref:function ref(el){return _this.menuDrodpown=el;}},/*#__PURE__*/React.createElement(\"div\",{className:classnames(\"nav-item-wrapper cursor-pointer\",{\"single-item\":item.type===\"item\"}),onMouseEnter:function onMouseEnter(){_this.openDropdown(item.id);_this.handleParentHover(item.id);},onMouseLeave:function onMouseLeave(){_this.closeDropdown(item.id);_this.handleParentHover(null);}},item.children?/*#__PURE__*/React.createElement(Dropdown,{isOpen:_this.state.openDropdown.includes(item.id),className:\"nav-link\",toggle:function toggle(){return _this.openDropdown(item.id);}},/*#__PURE__*/React.createElement(DropdownToggle,{className:\"d-flex align-items-center\",tag:\"div\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dropdown-text\"},/*#__PURE__*/React.createElement(\"span\",{className:\"menu-icon align-middle mr-75\"},item.icon),/*#__PURE__*/React.createElement(\"span\",{className:\"menu-title align-middle\"})),/*#__PURE__*/React.createElement(ChevronDown,{className:\"ml-50 align-bottom\",size:15})),_this.updateParentItems(item.id,true),item.children?_this.renderSubMenu(item.children,item.id):null):/*#__PURE__*/React.createElement(CustomAnchorTag,{className:classnames({\"nav-link\":item.type===\"item\",hover:_this.state.parentHover===item.id}),to:item.filterBase?item.filterBase:item.navLink&&item.type===\"item\"?item.navLink:\"#\",href:item.type===\"external-link\"?item.navLink:undefined,target:item.newTab?\"_blank\":undefined},/*#__PURE__*/React.createElement(\"span\",{className:\"menu-icon align-middle mr-75\"},item.icon),/*#__PURE__*/React.createElement(\"span\",{className:\"menu-title align-middle\"}))));});};_this.state={activeParents:[],openDropdown:[],dropdownHeight:\"auto\",itemHover:null,parentHover:null,activeChildUrl:null};_this.activeFlag=false;_this.parentItems=[];_this.activeParentItems=[];_this.redirectUnauthorized=function(){history.push(\"misc/not-authorized\");};return _this;}_createClass(HorizontalSidebar,[{key:\"componentDidMount\",value:function componentDidMount(){this.handleActiveParent(this.activeParentItems);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(this.props.activePath!==prevProps.activePath){this.setState({openDropdown:[],parentHover:null});this.handleActiveParent(this.activeParentItems);}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"horizontal-menu-wrapper\"},/*#__PURE__*/React.createElement(\"div\",{className:classnames(\"header-navbar navbar-expand-sm navbar navbar-horizontal navbar-shadow\",{\"navbar-static\":this.props.navbarType===\"static\",\"fixed-top\":this.props.navbarType===\"sticky\",\"floating-nav\":this.props.navbarType===\"floating\"||![\"static\",\"sticky\",\"floating\"].includes(this.props.navbarType)})},/*#__PURE__*/React.createElement(\"div\",{className:\"navbar-container main-menu-content\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"nav navbar-nav\",id:\"main-menu-navigation\"},this.renderDropdown(navigationConfig)))));}}]);return HorizontalSidebar;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{currentUser:state.auth.login.userRole};};export default connect(mapStateToProps)(HorizontalSidebar);","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/layouts/components/menu/horizontal-menu/HorizontalMenu.js"],"names":["React","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","classnames","ChevronDown","ChevronRight","Link","connect","FormattedMessage","history","navigationConfig","HorizontalSidebar","props","openDropdown","id","arr","state","includes","push","setState","closeDropdown","splice","indexOf","handleItemHover","itemHover","handleParentHover","parentHover","updateParentItems","mainParent","parentItems","activeFlag","activeParentItems","handleActiveParent","activeParents","renderSubMenu","submenu","e","preventDefault","setMaxHeight","enabled","fn","data","pageHeight","window","innerHeight","ddTop","instance","reference","getBoundingClientRect","top","ddHeight","popper","height","maxHeight","stylesObj","overflowY","styles","map","child","CustomAnchorTag","type","navLink","activePath","renderChildItems","active","hover","children","parentOf","disabled","filterBase","undefined","newTab","openLeft","icon","permissions","redirectUnauthorized","componentDidMount","renderDropdown","item","el","menuDrodpown","dropdownHeight","activeChildUrl","prevProps","navbarType","Component","mapStateToProps","currentUser","auth","login","userRole"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport {\n  Dropdown,\n  DropdownToggle,\n  DropdownMenu,\n  DropdownItem\n} from \"reactstrap\"\nimport classnames from \"classnames\"\nimport { ChevronDown, ChevronRight } from \"react-feather\"\nimport { Link } from \"react-router-dom\"\nimport { connect } from \"react-redux\"\nimport { FormattedMessage } from \"react-intl\"\nimport { history } from \"../../../../history\"\nimport navigationConfig from \"../../../../configs/horizontalMenuConfig\"\nclass HorizontalSidebar extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      activeParents: [],\n      openDropdown: [],\n      dropdownHeight: \"auto\",\n      itemHover: null,\n      parentHover: null,\n      activeChildUrl: null\n    }\n    this.activeFlag = false\n    this.parentItems = []\n    this.activeParentItems = []\n\n    this.redirectUnauthorized = () => {\n      history.push(\"misc/not-authorized\")\n    }\n  }\n\n  openDropdown = id => {\n    let arr = this.state.openDropdown\n    if (!arr.includes(id)) arr.push(id)\n    return this.setState({\n      openDropdown: arr\n    })\n  }\n\n  closeDropdown = id => {\n    let arr = this.state.openDropdown\n    arr.splice(arr.indexOf(id), 1)\n    return this.setState({\n      openDropdown: arr\n    })\n  }\n\n  handleItemHover = id => {\n    this.setState({\n      itemHover: id\n    })\n  }\n\n  handleParentHover = id => {\n    this.setState({\n      parentHover: id\n    })\n  }\n\n  componentDidMount() {\n    this.handleActiveParent(this.activeParentItems)\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.activePath !== prevProps.activePath) {\n      this.setState({ openDropdown: [], parentHover: null })\n      this.handleActiveParent(this.activeParentItems)\n    }\n  }\n\n  updateParentItems = (id, mainParent = false) => {\n    if (mainParent === true) {\n      this.parentItems = []\n    }\n    if (!this.parentItems.includes(id)) {\n      this.parentItems.push(id)\n    }\n    if (this.activeFlag === true) {\n      this.activeParentItems = this.parentItems\n      this.parentItems = []\n      this.activeFlag = false\n    }\n  }\n\n  handleActiveParent = arr => {\n    this.setState({\n      activeParents: arr\n    })\n    this.activeFlag = false\n  }\n\n  renderSubMenu = (submenu, id) => {\n    return (\n      <DropdownMenu\n        tag=\"ul\"\n        className=\"mt-50\"\n        onMouseEnter={e => e.preventDefault()}\n        modifiers={{\n          setMaxHeight: {\n            enabled: true,\n            fn: data => {\n              let pageHeight = window.innerHeight,\n                ddTop = data.instance.reference.getBoundingClientRect().top,\n                ddHeight = data.popper.height,\n                maxHeight,\n                stylesObj\n\n              if (pageHeight - ddTop - ddHeight - 28 < 1) {\n                maxHeight = pageHeight - ddTop - 25\n                stylesObj = {\n                  maxHeight: maxHeight,\n                  overflowY: \"auto\"\n                }\n              }\n\n              return {\n                ...data,\n\n                styles: {\n                  ...stylesObj\n                }\n              }\n            }\n          }\n        }}>\n        {submenu.map(child => {\n          const CustomAnchorTag = child.type === \"external-link\" ? `a` : Link\n          if (child.navLink && child.navLink === this.props.activePath) {\n            this.activeFlag = true\n            this.updateParentItems(id)\n          }\n\n          let renderChildItems = (\n            <React.Fragment key={child.id}>\n              <li\n                className={classnames({\n                  active: this.state.activeParents.includes(child.id)\n                })}>\n                <DropdownItem\n                  className={classnames(\"w-100\", {\n                    hover: this.state.itemHover === child.id,\n                    \"has-sub\": child.children,\n                    active:\n                      (child.parentOf &&\n                        child.parentOf.includes(this.props.activePath)) ||\n                      (child.navLink &&\n                        child.navLink === this.props.activePath),\n                    \"has-active-child\": this.state.openDropdown.includes(\n                      child.id\n                    ),\n                    disabled: child.disabled\n                  })}\n                  tag={child.navLink ? CustomAnchorTag : \"div\"}\n                  to={\n                    child.filterBase\n                      ? child.filterBase\n                      : child.navLink && child.type === \"item\"\n                      ? child.navLink\n                      : \"#\"\n                  }\n                  href={\n                    child.type === \"external-link\" ? child.navLink : undefined\n                  }\n                  target={child.newTab ? \"_blank\" : undefined}\n                  onMouseEnter={() => this.handleItemHover(child.id)}\n                  onMouseLeave={() => this.handleItemHover(null)}>\n                  {child.children ? (\n                    <Dropdown\n                      className={classnames(\"sub-menu w-100\", {})}\n                      isOpen={this.state.openDropdown.includes(child.id)}\n                      direction={this.state.openLeft ? \"left\" : \"right\"}\n                      toggle={() => true}\n                      onMouseEnter={() => this.openDropdown(child.id)}\n                      onMouseLeave={() => this.closeDropdown(child.id)}>\n                      <DropdownToggle\n                        className=\"d-flex justify-content-between align-items-center item-content\"\n                        tag={\"div\"}\n                        onClick={() => this.closeDropdown(child.id)}>\n                        <div className=\"dropdown-toggle-sub text-truncate\">\n                          <span className=\"menu-icon align-bottom mr-1\">\n                            {child.icon}\n                          </span>\n                          {/* <FormattedMessage\n                            className=\"menu-title align-middle\"\n                            id={child.title}\n                          /> */}\n                        </div>\n                        <ChevronRight\n                          className=\"has-sub-arrow align-middle ml-50\"\n                          size={15}\n                        />\n                      </DropdownToggle>\n                      {child.children\n                        ? this.renderSubMenu(child.children, child.id)\n                        : null}\n                    </Dropdown>\n                  ) : (\n                    <div className=\"item-content\">\n                      <span className=\"menu-icon align-top mr-1\">\n                        {child.icon}\n                      </span>\n                      {/* <span className=\"menu-title align-middle\">\n                        <FormattedMessage id={child.title} />\n                      </span> */}\n                    </div>\n                  )}\n                </DropdownItem>\n              </li>\n            </React.Fragment>\n          )\n\n          if (\n            child.type === \"external-link\" ||\n            (child.type === \"item\"\n            // &&\n            //   child.permissions &&\n            //   child.permissions.includes(this.props.currentUser)\n              )\n              ||\n            child.type === \"dropdown\" ||\n            child.permissions === undefined\n          ) {\n            return renderChildItems\n          } else if (\n            child.navLink === this.props.activePath\n            // &&\n            // !child.permissions.includes(this.props.currentUser)\n          ) {\n            return this.redirectUnauthorized()\n          } else {\n            return null\n          }\n        })}\n      </DropdownMenu>\n    )\n  }\n\n  componentDidMount=async()=>{\n    await this.renderDropdown();\n  }\n\n  renderDropdown = arr => {\n    return arr.map(item => {\n      if (\n        item.type === \"item\" &&\n        item.navLink &&\n        item.navLink === this.props.activePath\n      ) {\n        this.activeFlag = true\n        this.updateParentItems(item.id, true)\n      }\n      const CustomAnchorTag = item.type === \"external-link\" ? `a` : Link\n      return (\n        <li\n          className={classnames(\"nav-item\", {\n            active: this.state.activeParents.includes(item.id),\n            hover: this.state.parentHover === item.id\n          })}\n          key={item.id}\n          ref={el => (this.menuDrodpown = el)}>\n          <div\n            className={classnames(\"nav-item-wrapper cursor-pointer\", {\n              \"single-item\": item.type === \"item\"\n            })}\n            onMouseEnter={() => {\n              this.openDropdown(item.id)\n              this.handleParentHover(item.id)\n            }}\n            onMouseLeave={() => {\n              this.closeDropdown(item.id)\n              this.handleParentHover(null)\n            }}>\n            {item.children ? (\n              <Dropdown\n                isOpen={this.state.openDropdown.includes(item.id)}\n                className=\"nav-link\"\n                toggle={() => this.openDropdown(item.id)}>\n                <DropdownToggle className=\"d-flex align-items-center\" tag=\"div\">\n                  <div className=\"dropdown-text\">\n                    <span className=\"menu-icon align-middle mr-75\">\n                      {item.icon}\n                    </span>\n                    <span className=\"menu-title align-middle\">\n                      {/* <FormattedMessage\n                        className=\"menu-title align-middle\"\n                        id={item.title}\n                      /> */}\n                    </span>\n                  </div>\n                  <ChevronDown className=\"ml-50 align-bottom\" size={15} />\n                </DropdownToggle>\n\n                {this.updateParentItems(item.id, true)}\n                {item.children\n                  ? this.renderSubMenu(item.children, item.id)\n                  : null}\n              </Dropdown>\n            ) : (\n              <CustomAnchorTag\n                className={classnames({\n                  \"nav-link\": item.type === \"item\",\n                  hover: this.state.parentHover === item.id\n                })}\n                to={\n                  item.filterBase\n                    ? item.filterBase\n                    : item.navLink && item.type === \"item\"\n                    ? item.navLink\n                    : \"#\"\n                }\n                href={item.type === \"external-link\" ? item.navLink : undefined}\n                target={item.newTab ? \"_blank\" : undefined}>\n                <span className=\"menu-icon align-middle mr-75\">\n                  {item.icon}\n                </span>\n                <span className=\"menu-title align-middle\">\n                  {/* <FormattedMessage\n                    className=\"menu-title align-middle\"\n                    id={item.title}\n                  /> */}\n                </span>\n              </CustomAnchorTag>\n            )}\n          </div>\n        </li>\n      )\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"horizontal-menu-wrapper\">\n        <div\n          className={classnames(\n            \"header-navbar navbar-expand-sm navbar navbar-horizontal navbar-shadow\",\n            {\n              \"navbar-static\": this.props.navbarType === \"static\",\n              \"fixed-top\": this.props.navbarType === \"sticky\",\n              \"floating-nav\":\n                this.props.navbarType === \"floating\" ||\n                ![\"static\", \"sticky\", \"floating\"].includes(\n                  this.props.navbarType\n                )\n            }\n          )}>\n          <div className=\"navbar-container main-menu-content\">\n            <ul className=\"nav navbar-nav\" id=\"main-menu-navigation\">\n              {this.renderDropdown(navigationConfig)}\n            </ul>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.auth.login.userRole\n  }\n}\nexport default connect(mapStateToProps)(HorizontalSidebar)\n"]},"metadata":{},"sourceType":"module"}