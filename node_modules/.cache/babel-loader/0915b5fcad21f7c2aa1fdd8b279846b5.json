{"ast":null,"code":"import axios from\"axios\";export var getChats=function getChats(){return function(dispatch){axios.get(\"api/app/chat/chats\").then(function(response){dispatch({type:\"GET_CONTACTS\",contacts:response.data.contacts,chats:response.data.chats});}).catch(function(err){return console.log(err);});};};export var getContactChats=function getContactChats(){return function(dispatch){axios.get(\"api/app/chat/chat-contacts\").then(function(response){dispatch({type:\"GET_CHAT_CONTACTS\",chats:response.data});}).catch(function(err){return console.log(err);});};};export var togglePinned=function togglePinned(id,value){return function(dispatch){axios.post(\"/api/apps/chat/set-pinned/\",{contactId:id,value:value}).then(function(response){dispatch({type:\"SET_PINNED\",id:id,value:value});}).catch(function(err){return console.log(err);});};};export var sendMessage=function sendMessage(id,isPinned,text){if(text.length>0){return function(dispatch){var newMsg={textContent:text,isSent:true,isSeen:false,time:new Date().toString()};axios.post(\"/api/app/chat/send-message\",{contactId:id,message:newMsg,isPinned:isPinned}).then(function(response){dispatch({type:\"SEND_MESSAGE\",msg:newMsg,id:id,isPinned:isPinned,text:text});dispatch(getChats());}).catch(function(err){return console.log(err);});};}else{return;}};export var changeStatus=function changeStatus(status){return function(dispatch){dispatch({type:\"CHANGE_STATUS\",status:status});};};export var searchContacts=function searchContacts(query){return function(dispatch){dispatch({type:\"SEARCH_CONTACTS\",query:query});};};export var markSeenAllMessages=function markSeenAllMessages(id){return function(dispatch){axios.post(\"/api/apps/chat/mark-all-seen/\",{contactId:id}).then(function(response){dispatch({type:\"MARK_AS_SEEN\",id:id});}).catch(function(err){return console.log(err);});};};","map":null,"metadata":{},"sourceType":"module"}