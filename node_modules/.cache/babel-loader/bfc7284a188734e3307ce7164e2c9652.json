{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\n\nvar classnames_1 = __importDefault(require(\"classnames\"));\n\nvar cloneItem_1 = require(\"./cloneItem\");\n\nvar styles_1 = require(\"../utils/styles\");\n\nvar Submenu =\n/** @class */\nfunction (_super) {\n  __extends(Submenu, _super);\n\n  function Submenu() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.state = {\n      left: '100%',\n      top: 0,\n      bottom: 'initial'\n    };\n\n    _this.setRef = function (ref) {\n      _this.menu = ref;\n    };\n\n    return _this;\n  }\n\n  Submenu.prototype.componentDidMount = function () {\n    var innerWidth = window.innerWidth,\n        innerHeight = window.innerHeight;\n    var rect = this.menu.getBoundingClientRect();\n    var style = {};\n\n    if (rect.right < innerWidth) {\n      style.left = '100%';\n      style.right = undefined;\n    } else {\n      style.right = '100%';\n      style.left = undefined;\n    }\n\n    if (rect.bottom > innerHeight) {\n      style.bottom = 0;\n      style.top = 'initial';\n    } else {\n      style.bottom = 'initial';\n      style.top = 0;\n    }\n\n    this.setState(style);\n  };\n\n  Submenu.prototype.handleClick = function (e) {\n    e.stopPropagation();\n  };\n\n  Submenu.prototype.render = function () {\n    var _a;\n\n    var _b = this.props,\n        arrow = _b.arrow,\n        disabled = _b.disabled,\n        className = _b.className,\n        style = _b.style,\n        label = _b.label,\n        nativeEvent = _b.nativeEvent,\n        children = _b.children,\n        propsFromTrigger = _b.propsFromTrigger;\n    var cssClasses = classnames_1.default(styles_1.styles.item, className, (_a = {}, _a[\"\" + styles_1.styles.itemDisabled] = typeof disabled === 'function' ? disabled({\n      event: nativeEvent,\n      props: __assign({}, propsFromTrigger)\n    }) : disabled, _a));\n\n    var submenuStyle = __assign({}, style, this.state);\n\n    return react_1.default.createElement(\"div\", {\n      className: cssClasses,\n      role: \"presentation\"\n    }, react_1.default.createElement(\"div\", {\n      className: styles_1.styles.itemContent,\n      onClick: this.handleClick\n    }, label, react_1.default.createElement(\"span\", {\n      className: styles_1.styles.submenuArrow\n    }, arrow)), react_1.default.createElement(\"div\", {\n      className: styles_1.styles.submenu,\n      ref: this.setRef,\n      style: submenuStyle\n    }, cloneItem_1.cloneItem(children, {\n      propsFromTrigger: propsFromTrigger,\n      nativeEvent: nativeEvent\n    })));\n  };\n\n  Submenu.propTypes = {\n    label: prop_types_1.default.node.isRequired,\n    children: prop_types_1.default.node.isRequired,\n    nativeEvent: prop_types_1.default.object,\n    arrow: prop_types_1.default.node,\n    disabled: prop_types_1.default.oneOfType([prop_types_1.default.func, prop_types_1.default.bool]),\n    className: prop_types_1.default.string,\n    style: prop_types_1.default.object\n  };\n  Submenu.defaultProps = {\n    arrow: '▶',\n    disabled: false,\n    nativeEvent: {}\n  };\n  return Submenu;\n}(react_1.Component);\n\nexports.Submenu = Submenu;","map":{"version":3,"sources":["../../src/components/Submenu.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\nvar classnames_1 = __importDefault(require(\"classnames\"));\nvar cloneItem_1 = require(\"./cloneItem\");\nvar styles_1 = require(\"../utils/styles\");\nvar Submenu = /** @class */ (function (_super) {\n    __extends(Submenu, _super);\n    function Submenu() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            left: '100%',\n            top: 0,\n            bottom: 'initial'\n        };\n        _this.setRef = function (ref) {\n            _this.menu = ref;\n        };\n        return _this;\n    }\n    Submenu.prototype.componentDidMount = function () {\n        var innerWidth = window.innerWidth, innerHeight = window.innerHeight;\n        var rect = this.menu.getBoundingClientRect();\n        var style = {};\n        if (rect.right < innerWidth) {\n            style.left = '100%';\n            style.right = undefined;\n        }\n        else {\n            style.right = '100%';\n            style.left = undefined;\n        }\n        if (rect.bottom > innerHeight) {\n            style.bottom = 0;\n            style.top = 'initial';\n        }\n        else {\n            style.bottom = 'initial';\n            style.top = 0;\n        }\n        this.setState(style);\n    };\n    Submenu.prototype.handleClick = function (e) {\n        e.stopPropagation();\n    };\n    Submenu.prototype.render = function () {\n        var _a;\n        var _b = this.props, arrow = _b.arrow, disabled = _b.disabled, className = _b.className, style = _b.style, label = _b.label, nativeEvent = _b.nativeEvent, children = _b.children, propsFromTrigger = _b.propsFromTrigger;\n        var cssClasses = classnames_1.default(styles_1.styles.item, className, (_a = {},\n            _a[\"\" + styles_1.styles.itemDisabled] = typeof disabled === 'function'\n                ? disabled({\n                    event: nativeEvent,\n                    props: __assign({}, propsFromTrigger)\n                })\n                : disabled,\n            _a));\n        var submenuStyle = __assign({}, style, this.state);\n        return (react_1.default.createElement(\"div\", { className: cssClasses, role: \"presentation\" },\n            react_1.default.createElement(\"div\", { className: styles_1.styles.itemContent, onClick: this.handleClick },\n                label,\n                react_1.default.createElement(\"span\", { className: styles_1.styles.submenuArrow }, arrow)),\n            react_1.default.createElement(\"div\", { className: styles_1.styles.submenu, ref: this.setRef, style: submenuStyle }, cloneItem_1.cloneItem(children, {\n                propsFromTrigger: propsFromTrigger,\n                nativeEvent: nativeEvent\n            }))));\n    };\n    Submenu.propTypes = {\n        label: prop_types_1.default.node.isRequired,\n        children: prop_types_1.default.node.isRequired,\n        nativeEvent: prop_types_1.default.object,\n        arrow: prop_types_1.default.node,\n        disabled: prop_types_1.default.oneOfType([prop_types_1.default.func, prop_types_1.default.bool]),\n        className: prop_types_1.default.string,\n        style: prop_types_1.default.object\n    };\n    Submenu.defaultProps = {\n        arrow: '▶',\n        disabled: false,\n        nativeEvent: {}\n    };\n    return Submenu;\n}(react_1.Component));\nexports.Submenu = Submenu;\n//# sourceMappingURL=Submenu.js.map"]},"metadata":{},"sourceType":"script"}