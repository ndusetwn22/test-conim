{"ast":null,"code":"var _jsxFileName = \"/Users/pandusetiawan/Documents/react/df-v1.2/src/views/pages/authentication/login/LoginCustom.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { CardBody, FormGroup, Form, Input, Button, Label } from \"reactstrap\";\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\";\nimport { Mail, Lock, Check, Info, User } from \"react-feather\"; // import { loginWithJWT, loginWithCustom } from \"../../../../redux/actions/auth/loginActions\"\n\nimport { loginWithCustom } from \"../../../../redux/actions/auth/loginActions\";\nimport { connect } from \"react-redux\";\nimport { history } from \"../../../../history\";\nimport SweetAlert from 'react-bootstrap-sweetalert';\nimport { useParams } from 'react-router-dom';\n\nclass LoginCustom extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // email: \"admin@gmail.com\",\n      // password: \"admin\",\n      nik: \"\",\n      password: \"\",\n      alertWrongPassword: false,\n      alertUserNotFound: false,\n      alertUserNotActive: false,\n      // remember: (localStorage.getItem('rememberMe') != undefined || localStorage.getItem('rememberMe') != null) && localStorage.getItem('rememberMe') == false\n      remember: false\n    };\n\n    this.handleLogin = async e => {\n      e.preventDefault();\n      this.props.loginWithCustom(this.state);\n\n      if (this.state.remember) {\n        // console.log('trueee')\n        localStorage.setItem('rememberMe', this.state.remember);\n        localStorage.setItem('nik', this.state.remember ? this.state.nik : '');\n        localStorage.setItem('pw', this.state.remember ? this.state.password : '');\n      }\n\n      if (!this.state.remember) {\n        localStorage.setItem('rememberMe', this.state.remember);\n        localStorage.removeItem('nik');\n        localStorage.removeItem('pw');\n      } // const queryParams = await new URLSearchParams(window.location.search);\n      // const name = await queryParams.get('status');\n      // console.log(name); // 55 test null\n      // console.log('res',this.props.match.params   )\n      // this.props.loginWithJWT(this.state)\n\n    };\n\n    this.componentDidMount = async e => {\n      // console.log('e :', e)\n      // console.log('login props: ', this.props)\n      console.log('didmount : ', e);\n      const queryParams = await new URLSearchParams(window.location.search);\n      const name = await queryParams.get('status');\n      console.log(name); // 55 test null\n\n      if (name === 'wrong_password') {\n        this.setState({\n          alertWrongPassword: true\n        });\n      }\n\n      if (name === 'user_not_found') {\n        this.setState({\n          alertUserNotFound: true\n        });\n      }\n\n      if (name === 'user_not_active') {\n        this.setState({\n          alertUserNotActive: true\n        });\n      }\n\n      console.log('get remember me 0', typeof localStorage.getItem('rememberMe'));\n\n      if (localStorage.getItem('rememberMe') != undefined || localStorage.getItem('rememberMe') != null) {\n        console.log('get remember me 1');\n\n        if (localStorage.getItem('rememberMe') == 'true') {\n          console.log('get remember me 2');\n          await this.setState({\n            nik: localStorage.getItem('nik'),\n            password: localStorage.getItem('pw')\n          });\n          await this.setState({\n            remember: true\n          });\n        }\n      }\n    };\n\n    this.handleAlertWrongPassword = (state, value) => {\n      this.setState({\n        [state]: value\n      });\n    };\n\n    this.handleAlertUserNotFound = (state, value) => {\n      this.setState({\n        [state]: value\n      });\n    };\n\n    this.handleAlertUserNotActive = (state, value) => {\n      this.setState({\n        [state]: value\n      });\n    };\n\n    this.handleRemember = async e => {\n      var input = e.target;\n      var value = input.type === 'checkbox' ? await this.setState({\n        remember: input.checked\n      }) : input.value;\n      console.log('input', input);\n      console.log('input', input.checked);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      className: \"pt-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form, {\n      action: \"/home\",\n      onSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"form-label-group position-relative has-icon-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"NIK\",\n      value: this.state.nik,\n      onChange: e => this.setState({\n        nik: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-control-position\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(User, {\n      size: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, \"NIK\")), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"form-label-group position-relative has-icon-left\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      placeholder: \"Password\",\n      value: this.state.password,\n      onChange: e => this.setState({\n        password: e.target.value\n      }),\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-control-position\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Lock, {\n      size: 15,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 15\n      }\n    }, \"Password\")), /*#__PURE__*/React.createElement(FormGroup, {\n      className: \"d-flex justify-content-between align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Checkbox, {\n      color: \"primary\",\n      icon: /*#__PURE__*/React.createElement(Check, {\n        className: \"vx-icon\",\n        size: 16,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      }),\n      label: \"Remember me\",\n      defaultChecked: this.state.remember,\n      onChange: e => this.handleRemember(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button.Ripple, {\n      color: \"primary\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 15\n      }\n    }, \"Login\"))), /*#__PURE__*/React.createElement(SweetAlert, {\n      error: true,\n      title: \"Error\",\n      show: this.state.alertWrongPassword,\n      onConfirm: () => this.handleAlertWrongPassword(\"alertWrongPassword\", false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sweet-alert-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }\n    }, \"Ooops, password anda salah!\")), /*#__PURE__*/React.createElement(SweetAlert, {\n      error: true,\n      title: \"Error\",\n      show: this.state.alertUserNotFound,\n      onConfirm: () => this.handleAlertUserNotFound(\"alertUserNotFound\", false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sweet-alert-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }\n    }, \"Ooops, user tidak ditemukan!\")), /*#__PURE__*/React.createElement(SweetAlert, {\n      error: true,\n      title: \"Error\",\n      show: this.state.alertUserNotActive,\n      onConfirm: () => this.handleAlertUserNotActive(\"alertUserNotActive\", false),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"sweet-alert-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, \"Ooops, user tidak aktif!\"))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    values: state.auth.login\n  };\n};\n\nexport default connect(mapStateToProps, {\n  // loginWithJWT,\n  loginWithCustom\n})(LoginCustom);","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/pages/authentication/login/LoginCustom.js"],"names":["React","Link","CardBody","FormGroup","Form","Input","Button","Label","Checkbox","Mail","Lock","Check","Info","User","loginWithCustom","connect","history","SweetAlert","useParams","LoginCustom","Component","state","nik","password","alertWrongPassword","alertUserNotFound","alertUserNotActive","remember","handleLogin","e","preventDefault","props","localStorage","setItem","removeItem","componentDidMount","console","log","queryParams","URLSearchParams","window","location","search","name","get","setState","getItem","undefined","handleAlertWrongPassword","value","handleAlertUserNotFound","handleAlertUserNotActive","handleRemember","input","target","type","checked","render","mapStateToProps","values","auth","login"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { CardBody, FormGroup, Form, Input, Button, Label } from \"reactstrap\"\r\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\"\r\nimport { Mail, Lock, Check, Info, User } from \"react-feather\"\r\n// import { loginWithJWT, loginWithCustom } from \"../../../../redux/actions/auth/loginActions\"\r\nimport { loginWithCustom } from \"../../../../redux/actions/auth/loginActions\"\r\nimport { connect } from \"react-redux\"\r\nimport { history } from \"../../../../history\"\r\nimport SweetAlert from 'react-bootstrap-sweetalert';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nclass LoginCustom extends React.Component {\r\n  state = {\r\n    // email: \"admin@gmail.com\",\r\n    // password: \"admin\",\r\n    nik:\"\",\r\n    password:\"\",\r\n    alertWrongPassword: false,\r\n    alertUserNotFound: false,\r\n    alertUserNotActive: false,\r\n    // remember: (localStorage.getItem('rememberMe') != undefined || localStorage.getItem('rememberMe') != null) && localStorage.getItem('rememberMe') == false\r\n    remember: false\r\n  }\r\n\r\n  handleLogin = async(e) => {\r\n    e.preventDefault()\r\n    this.props.loginWithCustom(this.state)\r\n\r\n    if (this.state.remember) {\r\n      // console.log('trueee')\r\n      localStorage.setItem('rememberMe', this.state.remember);\r\n      localStorage.setItem('nik', this.state.remember ? this.state.nik : '');\r\n      localStorage.setItem('pw', this.state.remember ? this.state.password : '');\r\n    }\r\n    \r\n    if(!this.state.remember){\r\n      localStorage.setItem('rememberMe', this.state.remember);\r\n      localStorage.removeItem('nik');\r\n      localStorage.removeItem('pw');\r\n\r\n    }\r\n    // const queryParams = await new URLSearchParams(window.location.search);\r\n    // const name = await queryParams.get('status');\r\n    // console.log(name); // 55 test null\r\n\r\n    // console.log('res',this.props.match.params   )\r\n    // this.props.loginWithJWT(this.state)\r\n  }\r\n\r\n  componentDidMount= async(e) =>{\r\n    // console.log('e :', e)\r\n    // console.log('login props: ', this.props)\r\n\r\n    console.log('didmount : ', e)\r\n    const queryParams = await new URLSearchParams(window.location.search);\r\n    const name = await queryParams.get('status');\r\n    console.log(name); // 55 test null\r\n\r\n    if (name === 'wrong_password') {\r\n      this.setState({alertWrongPassword: true});\r\n    }\r\n\r\n    if(name === 'user_not_found'){\r\n      this.setState({alertUserNotFound: true})\r\n    }\r\n\r\n    if(name === 'user_not_active'){\r\n      this.setState({alertUserNotActive: true})\r\n    }\r\n\r\n    console.log('get remember me 0', typeof(localStorage.getItem('rememberMe')))\r\n\r\n    if (localStorage.getItem('rememberMe') != undefined || localStorage.getItem('rememberMe') != null) {\r\n      console.log('get remember me 1')\r\n      if(localStorage.getItem('rememberMe') == 'true'){\r\n        console.log('get remember me 2')\r\n        await this.setState({nik: localStorage.getItem('nik'), password: localStorage.getItem('pw')})\r\n        await this.setState({remember: true})\r\n        \r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  handleAlertWrongPassword = (state, value) => {\r\n    this.setState({ [state] : value })\r\n  }\r\n\r\n  handleAlertUserNotFound = (state, value) => {\r\n    this.setState({ [state] : value })\r\n  }\r\n\r\n  handleAlertUserNotActive = (state, value) => {\r\n    this.setState({ [state] : value })\r\n  }\r\n\r\n\r\n  handleRemember = async(e) =>{\r\n    var input = e.target\r\n    var value = input.type === 'checkbox' ? await this.setState({remember: input.checked}) : input.value;\r\n\r\n    console.log('input', input)\r\n    console.log('input', input.checked)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <CardBody className=\"pt-1\">\r\n          <Form action=\"/home\" onSubmit={this.handleLogin}>\r\n            <FormGroup className=\"form-label-group position-relative has-icon-left\">\r\n              <Input\r\n                type=\"text\"\r\n                placeholder=\"NIK\"\r\n                value={this.state.nik}\r\n                onChange={e => this.setState({ nik: e.target.value })}\r\n                required\r\n              />\r\n              <div className=\"form-control-position\">\r\n                {/* <Mail size={15} /> */}\r\n                <User size={15} />\r\n              </div>\r\n              <Label>NIK</Label>\r\n            </FormGroup>\r\n            <FormGroup className=\"form-label-group position-relative has-icon-left\">\r\n              <Input\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                value={this.state.password}\r\n                onChange={e => this.setState({ password: e.target.value })}\r\n                required\r\n              />\r\n              <div className=\"form-control-position\">\r\n                <Lock size={15} />\r\n              </div>\r\n              <Label>Password</Label>\r\n            </FormGroup>\r\n            <FormGroup className=\"d-flex justify-content-between align-items-center\">\r\n              <Checkbox\r\n                color=\"primary\"\r\n                icon={<Check className=\"vx-icon\" size={16} />}\r\n                label=\"Remember me\"\r\n                defaultChecked={this.state.remember}\r\n                onChange={(e)=>this.handleRemember(e)}\r\n              />\r\n              <div className=\"float-right\">\r\n                {/* <Link to=\"/pages/forgot-password\">Forgot Password?</Link> */}\r\n              </div>\r\n            </FormGroup>\r\n            {/* <div className=\"d-flex justify-content-between\">\r\n              <Button.Ripple\r\n                color=\"primary\"\r\n                outline\r\n                onClick={() => {\r\n                  history.push(\"/pages/register\")\r\n                }}\r\n              >\r\n                Register\r\n              </Button.Ripple>\r\n              <Button.Ripple color=\"primary\" type=\"submit\">\r\n                Login\r\n              </Button.Ripple>\r\n            </div> */}\r\n            <div className=\"d-flex justify-content-end\">\r\n              <Button.Ripple color=\"primary\" type=\"submit\">\r\n                Login\r\n              </Button.Ripple>\r\n            </div>\r\n          </Form>\r\n\r\n          <SweetAlert error title=\"Error\"\r\n              show={this.state.alertWrongPassword}\r\n              onConfirm={() => this.handleAlertWrongPassword(\"alertWrongPassword\", false)}\r\n            >\r\n                <p className=\"sweet-alert-text\">\r\n                  Ooops, password anda salah!\r\n                </p>\r\n            </SweetAlert>\r\n\r\n            <SweetAlert error title=\"Error\"\r\n              show={this.state.alertUserNotFound}\r\n              onConfirm={() => this.handleAlertUserNotFound(\"alertUserNotFound\", false)}\r\n            >\r\n                <p className=\"sweet-alert-text\">\r\n                  Ooops, user tidak ditemukan!\r\n                </p>\r\n            </SweetAlert>\r\n\r\n            <SweetAlert error title=\"Error\"\r\n              show={this.state.alertUserNotActive}\r\n              onConfirm={() => this.handleAlertUserNotActive(\"alertUserNotActive\", false)}\r\n            >\r\n                <p className=\"sweet-alert-text\">\r\n                  Ooops, user tidak aktif!\r\n                </p>\r\n            </SweetAlert>\r\n\r\n        </CardBody>\r\n      </React.Fragment>\r\n    )\r\n  }\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    values: state.auth.login\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {\r\n  // loginWithJWT,\r\n  loginWithCustom\r\n})(LoginCustom)\r\n"]},"metadata":{},"sourceType":"module"}