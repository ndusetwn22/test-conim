{"ast":null,"code":"import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Link}from\"react-router-dom\";import{Badge}from\"reactstrap\";import classnames from\"classnames\";import{ChevronRight}from\"react-feather\";import{FormattedMessage}from\"react-intl\";var SideMenuGroup=/*#__PURE__*/function(_React$Component){_inherits(SideMenuGroup,_React$Component);var _super=_createSuper(SideMenuGroup);function SideMenuGroup(props){var _this;_classCallCheck(this,SideMenuGroup);_this=_super.call(this,props);_this.state={isOpen:false,activeItem:_this.props.activePath};_this.handleActiveItem=function(url){_this.setState({activeItem:url});};_this.flag=true;_this.parentArray=[];_this.childObj={};return _this;}_createClass(SideMenuGroup,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevProps.activePath!==this.props.activePath){if(this.childObj.navLink&&this.childObj.collapsed){this.props.collapsedMenuPaths(this.childObj.navLink);}if(this.props.activePath===this.childObj.navLink&&!this.props.parentArr.includes(this.parentArray[0])){this.props.parentArr.splice(0,this.props.parentArr.length);this.props.parentArr.push(this.parentArray);}else if(this.props.parentArr.includes(this.parentArray)){this.props.parentArr.splice(0,this.props.parentArr.length);}}}},{key:\"renderChild\",value:function renderChild(item,activeGroup,handleGroupClick,handleActiveItem,parent){var _this2=this;return/*#__PURE__*/React.createElement(\"ul\",{className:\"menu-content\"},item.children?item.children.map(function(child){var CustomAnchorTag=child.type===\"external-link\"?\"a\":Link;if(!_this2.parentArray.includes(item.id)&&_this2.flag){_this2.parentArray.push(item.id);}if(child.navlink&&child.collapsed){_this2.props.collapsedMenuPaths(child.navLink);}if(_this2.props.activeItemState===child.navLink){_this2.childObj=child;_this2.props.parentArr.push(_this2.parentArray);_this2.flag=false;}if(// (child.permissions &&\n//   child.permissions.includes(this.props.currentUser)) ||\nchild.permissions===undefined){return/*#__PURE__*/React.createElement(\"li\",{key:child.id,className:classnames({hover:_this2.props.hoverIndex===child.id,\"has-sub\":child.type===\"collapse\",open:child.type===\"collapse\"&&activeGroup.includes(child.id),\"sidebar-group-active\":_this2.props.currentActiveGroup.includes(child.id),active:_this2.props.activeItemState===child.navLink&&child.type===\"item\"||item.parentOf&&item.parentOf.includes(_this2.props.activeItemState),disabled:child.disabled}),onClick:function onClick(e){e.stopPropagation();handleGroupClick(child.id,item.id,child.type);if(child.navLink&&child.navLink!==undefined){handleActiveItem(child.navLink);}if(_this2.props.deviceWidth<=1200&&child.type===\"item\"){_this2.props.toggleMenu();}}},/*#__PURE__*/React.createElement(CustomAnchorTag,{className:classnames({\"d-flex justify-content-between\":child.type===\"collapse\"}),to:child.navLink&&child.type===\"item\"?child.navLink:\"\",href:child.type===\"external-link\"?child.navLink:\"\",onMouseEnter:function onMouseEnter(){_this2.props.handleSidebarMouseEnter(child.id);},onMouseLeave:function onMouseLeave(){_this2.props.handleSidebarMouseEnter(child.id);},key:child.id,onClick:function onClick(e){return child.type===\"collapse\"?e.preventDefault():\"\";},target:child.newTab?\"_blank\":undefined},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-text\"},child.icon,/*#__PURE__*/React.createElement(\"span\",{className:\"menu-item menu-title\"},child.title)),child.badge?/*#__PURE__*/React.createElement(Badge,{color:child.badge,className:\"float-right mr-2\",pill:true},child.badgeText):\"\",child.type===\"collapse\"?/*#__PURE__*/React.createElement(ChevronRight,{className:\"menu-toggle-icon\",size:13}):\"\"),child.children?_this2.renderChild(child,activeGroup,handleGroupClick,handleActiveItem,item.id):\"\");}else if(child.navLink===_this2.props.activePath// &&\n// !child.permissions.includes(this.props.currentUser)\n){return _this2.props.redirectUnauthorized();}else{return null;}}):null);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.renderChild(this.props.group,this.props.activeGroup,this.props.handleGroupClick,this.props.handleActiveItem,null));}}]);return SideMenuGroup;}(React.Component);export default SideMenuGroup;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/layouts/components/menu/vertical-menu/sidemenu/SideMenuGroup.js"],"names":["React","Link","Badge","classnames","ChevronRight","FormattedMessage","SideMenuGroup","props","state","isOpen","activeItem","activePath","handleActiveItem","url","setState","flag","parentArray","childObj","prevProps","prevState","navLink","collapsed","collapsedMenuPaths","parentArr","includes","splice","length","push","item","activeGroup","handleGroupClick","parent","children","map","child","CustomAnchorTag","type","id","navlink","activeItemState","permissions","undefined","hover","hoverIndex","open","currentActiveGroup","active","parentOf","disabled","e","stopPropagation","deviceWidth","toggleMenu","handleSidebarMouseEnter","preventDefault","newTab","icon","title","badge","badgeText","renderChild","redirectUnauthorized","group","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { Badge } from \"reactstrap\"\nimport classnames from \"classnames\"\nimport { ChevronRight } from \"react-feather\"\nimport { FormattedMessage } from \"react-intl\"\n\nclass SideMenuGroup extends React.Component {\n  constructor(props) {\n    super(props)\n    this.flag = true\n    this.parentArray = []\n    this.childObj = {}\n  }\n  state = {\n    isOpen: false,\n    activeItem: this.props.activePath\n  }\n\n  handleActiveItem = url => {\n    this.setState({\n      activeItem: url\n    })\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.activePath !== this.props.activePath) {\n      if (this.childObj.navLink && this.childObj.collapsed) {\n        this.props.collapsedMenuPaths(this.childObj.navLink)\n      }\n      if (\n        this.props.activePath === this.childObj.navLink &&\n        !this.props.parentArr.includes(this.parentArray[0])\n      ) {\n        this.props.parentArr.splice(0, this.props.parentArr.length)\n        this.props.parentArr.push(this.parentArray)\n      } else if (this.props.parentArr.includes(this.parentArray)) {\n        this.props.parentArr.splice(0, this.props.parentArr.length)\n      }\n    }\n  }\n\n  renderChild(item, activeGroup, handleGroupClick, handleActiveItem, parent) {\n    return (\n      <ul className=\"menu-content\">\n        {item.children\n          ? item.children.map(child => {\n              const CustomAnchorTag =\n                child.type === \"external-link\" ? `a` : Link\n              if (!this.parentArray.includes(item.id) && this.flag) {\n                this.parentArray.push(item.id)\n              }\n\n              if (child.navlink && child.collapsed) {\n                this.props.collapsedMenuPaths(child.navLink)\n              }\n\n              if (this.props.activeItemState === child.navLink) {\n                this.childObj = child\n                this.props.parentArr.push(this.parentArray)\n                this.flag = false\n              }\n              if (\n                // (child.permissions &&\n                //   child.permissions.includes(this.props.currentUser)) ||\n                child.permissions === undefined\n              ) {\n                return (\n                  <li\n                    key={child.id}\n                    className={classnames({\n                      hover: this.props.hoverIndex === child.id,\n                      \"has-sub\": child.type === \"collapse\",\n                      open:\n                        child.type === \"collapse\" &&\n                        activeGroup.includes(child.id),\n                      \"sidebar-group-active\": this.props.currentActiveGroup.includes(\n                        child.id\n                      ),\n                      active:\n                        (this.props.activeItemState === child.navLink &&\n                          child.type === \"item\") ||\n                        (item.parentOf &&\n                          item.parentOf.includes(this.props.activeItemState)),\n                      disabled: child.disabled\n                    })}\n                    onClick={e => {\n                      e.stopPropagation()\n                      handleGroupClick(child.id, item.id, child.type)\n                      if (child.navLink && child.navLink !== undefined) {\n                        handleActiveItem(child.navLink)\n                      }\n                      if (\n                        this.props.deviceWidth <= 1200 &&\n                        child.type === \"item\"\n                      ) {\n                        this.props.toggleMenu()\n                      }\n                    }}>\n                    <CustomAnchorTag\n                      className={classnames({\n                        \"d-flex justify-content-between\":\n                          child.type === \"collapse\"\n                      })}\n                      to={\n                        child.navLink && child.type === \"item\"\n                          ? child.navLink\n                          : \"\"\n                      }\n                      href={child.type === \"external-link\" ? child.navLink : \"\"}\n                      onMouseEnter={() => {\n                        this.props.handleSidebarMouseEnter(child.id)\n                      }}\n                      onMouseLeave={() => {\n                        this.props.handleSidebarMouseEnter(child.id)\n                      }}\n                      key={child.id}\n                      onClick={e => {\n                        return child.type === \"collapse\"\n                          ? e.preventDefault()\n                          : \"\"\n                      }}\n                      target={child.newTab ? \"_blank\" : undefined}>\n                      <div className=\"menu-text\">\n                        {child.icon}\n                        {/* <span className=\"menu-item menu-title\">\n                          <FormattedMessage id={child.title} />\n                        </span> */}\n\n                        <span className=\"menu-item menu-title\">\n                          {child.title}\n                        </span>\n                      </div>\n                      {child.badge ? (\n                        <Badge\n                          color={child.badge}\n                          className=\"float-right mr-2\"\n                          pill>\n                          {child.badgeText}\n                        </Badge>\n                      ) : (\n                        \"\"\n                      )}\n                      {child.type === \"collapse\" ? (\n                        <ChevronRight className=\"menu-toggle-icon\" size={13} />\n                      ) : (\n                        \"\"\n                      )}\n                    </CustomAnchorTag>\n\n                    {child.children\n                      ? this.renderChild(\n                          child,\n                          activeGroup,\n                          handleGroupClick,\n                          handleActiveItem,\n                          item.id\n                        )\n                      : \"\"}\n                  </li>\n                )\n              } else if (\n                child.navLink === this.props.activePath \n                // &&\n                // !child.permissions.includes(this.props.currentUser)\n              ) {\n                return this.props.redirectUnauthorized()\n              } else {\n                return null\n              }\n            })\n          : null}\n      </ul>\n    )\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.renderChild(\n          this.props.group,\n          this.props.activeGroup,\n          this.props.handleGroupClick,\n          this.props.handleActiveItem,\n          null\n        )}\n      </React.Fragment>\n    )\n  }\n}\nexport default SideMenuGroup\n"]},"metadata":{},"sourceType":"module"}