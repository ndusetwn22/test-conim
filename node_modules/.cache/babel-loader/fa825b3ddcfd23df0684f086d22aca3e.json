{"ast":null,"code":"import _objectSpread from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{searchResult}from\"../../../@fake-db/navbar/navbarBookmarkSearch\";var defaultStarred=searchResult.filter(function(item){return item.starred===true;});var initialState={suggestions:[],isLoading:false,value:\"\",starred:defaultStarred,noSuggestions:false,extraStarred:[]};var navbarReducer=function navbarReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"MAYBE_UPDATE_SUGGESTIONS\":return _objectSpread(_objectSpread({},state),{},{suggestions:action.suggestions,isLoading:false});case\"UPDATE_STARRED\":var starredState=state.starred.map(function(i){return i.id;});var extraStarredState=state.extraStarred.map(function(j){return j.id;});// Update main suggestions\nif(state){state.suggestions.find(function(i){if(i.id===action.object.id){i.starred=!action.object.starred;return _objectSpread({},state);}else{return null;}});}// checks if it includes and length is 0 < 10 then pushes object\nif(!starredState.includes(action.object.id)&&state.starred.length<10){var newState=state.starred.push(action.object);return _objectSpread(_objectSpread({},state),{},{newState:newState});}// checks if it already includes and then removes it\nelse if(starredState.includes(action.object.id)){if(state.extraStarred.length===0){var _newState=state.starred.splice(starredState.indexOf(action.object.id),1);return _objectSpread(_objectSpread({},state),{},{newState:_newState});}else if(state.extraStarred.length>0){var getBookmark=state.extraStarred.splice(0,1);state.starred.splice(starredState.indexOf(action.object.id),1);var updatedState=state.starred.push(getBookmark[0]);return _objectSpread(_objectSpread({},state),{},{updatedState:updatedState});}else{return _objectSpread({},state);}}// checks if extraState doesn't includes and main starred length is 10+\nelse if(!extraStarredState.includes(action.object.id)&&state.starred.length>=10){var extraStarred=state.extraStarred.concat(action.object);return _objectSpread(_objectSpread({},state),{},{extraStarred:extraStarred});}else{return _objectSpread({},state);}default:return state;}};export default navbarReducer;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/redux/reducers/navbar/Index.js"],"names":["searchResult","defaultStarred","filter","item","starred","initialState","suggestions","isLoading","value","noSuggestions","extraStarred","navbarReducer","state","action","type","starredState","map","i","id","extraStarredState","j","find","object","includes","length","newState","push","splice","indexOf","getBookmark","updatedState","concat"],"mappings":"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","sourcesContent":["import { searchResult } from \"../../../@fake-db/navbar/navbarBookmarkSearch\"\n\nconst defaultStarred = searchResult.filter(item => {\n  return item.starred === true\n})\n\nconst initialState = {\n  suggestions: [],\n  isLoading: false,\n  value: \"\",\n  starred: defaultStarred,\n  noSuggestions: false,\n  extraStarred: []\n}\n\nconst navbarReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"MAYBE_UPDATE_SUGGESTIONS\":\n      return {\n        ...state,\n        suggestions: action.suggestions,\n        isLoading: false\n      }\n    case \"UPDATE_STARRED\":\n      const starredState = state.starred.map(i => i.id)\n      const extraStarredState = state.extraStarred.map(j => j.id)\n      // Update main suggestions\n      if (state) {\n        state.suggestions.find(i => {\n          if (i.id === action.object.id) {\n            i.starred = !action.object.starred\n            return { ...state }\n          } else {\n            return null\n          }\n        })\n      }\n      // checks if it includes and length is 0 < 10 then pushes object\n      if (\n        !starredState.includes(action.object.id) &&\n        state.starred.length < 10\n      ) {\n        let newState = state.starred.push(action.object)\n        return { ...state, newState }\n      }\n\n      // checks if it already includes and then removes it\n      else if (starredState.includes(action.object.id)) {\n        if (state.extraStarred.length === 0) {\n          let newState = state.starred.splice(\n            starredState.indexOf(action.object.id),\n            1\n          )\n          return { ...state, newState }\n        } else if (state.extraStarred.length > 0) {\n          let getBookmark = state.extraStarred.splice(0, 1)\n          state.starred.splice(starredState.indexOf(action.object.id), 1)\n          let updatedState = state.starred.push(getBookmark[0])\n          return { ...state, updatedState }\n        } else {\n          return { ...state }\n        }\n      }\n\n      // checks if extraState doesn't includes and main starred length is 10+\n      else if (\n        !extraStarredState.includes(action.object.id) &&\n        state.starred.length >= 10\n      ) {\n        let extraStarred = state.extraStarred.concat(action.object)\n        return { ...state, extraStarred }\n      } else {\n        return { ...state }\n      }\n\n    default:\n      return state\n  }\n}\n\nexport default navbarReducer\n"]},"metadata":{},"sourceType":"module"}