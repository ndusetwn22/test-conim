{"ast":null,"code":"import _objectSpread from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Input,Button,FormGroup,UncontrolledDropdown,DropdownItem,DropdownMenu,DropdownToggle}from\"reactstrap\";import{X,Info,Star,Tag,Check}from\"react-feather\";import Checkbox from\"../../../components/@vuexy/checkbox/CheckboxesVuexy\";import PerfectScrollbar from\"react-perfect-scrollbar\";import{connect}from\"react-redux\";import{starTask,completeTask,importantTask,updateTask,updateLabel,addNewTask}from\"../../../redux/actions/todo/index\";var TaskSidebar=/*#__PURE__*/function(_React$Component){_inherits(TaskSidebar,_React$Component);var _super=_createSuper(TaskSidebar);function TaskSidebar(){var _this;_classCallCheck(this,TaskSidebar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={taskToUpdate:null,taskTitle:\"\",taskDesc:\"\",taskStatus:false,taskStarred:false,taskImportant:false,newTask:{title:\"\",desc:\"\",tags:[],isCompleted:false,isImportant:false,isStarred:false}};_this.handleNewTaskTags=function(tag){var tagsArr=_this.state.newTask.tags;if(tagsArr.includes(tag)){tagsArr.splice(tagsArr.indexOf(tag),1);}else{tagsArr.push(tag);}_this.setState(_objectSpread(_objectSpread({},_this.state.newTask),{},{tags:tag}));};_this.renderTags=function(taskArr){return taskArr.map(function(tag,i){return/*#__PURE__*/React.createElement(\"div\",{className:\"chip mb-0 mr-50\",key:i},/*#__PURE__*/React.createElement(\"div\",{className:\"chip-body\"},/*#__PURE__*/React.createElement(\"span\",{className:\"chip-text\"},/*#__PURE__*/React.createElement(\"span\",{className:\"bullet bullet-\".concat(tag===\"backend\"?\"warning\":tag===\"doc\"?\"success\":tag===\"bug\"?\"danger\":\"primary\",\" bullet-xs\")}),/*#__PURE__*/React.createElement(\"span\",{className:\"text-capitalize ml-25\"},tag))));});};return _this;}_createClass(TaskSidebar,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.props.taskToUpdate!==null&&this.state.taskToUpdate!==this.props.taskToUpdate||this.props.taskToUpdate!==null&&this.state.taskStatus!==this.props.taskToUpdate.isCompleted||this.props.taskToUpdate!==null&&this.state.taskStarred!==this.props.taskToUpdate.isStarred||this.props.taskToUpdate!==null&&this.state.taskImportant!==this.props.taskToUpdate.isImportant){this.setState({taskToUpdate:this.props.taskToUpdate,taskTitle:this.props.taskToUpdate.title,taskDesc:this.props.taskToUpdate.desc,taskStatus:this.props.taskToUpdate.isCompleted,taskStarred:this.props.taskToUpdate.isStarred,taskImportant:this.props.taskToUpdate.isImportant});}else{return;}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,taskToUpdate=_this$state.taskToUpdate,taskTitle=_this$state.taskTitle,taskDesc=_this$state.taskDesc,newTask=_this$state.newTask,taskStatus=_this$state.taskStatus;return/*#__PURE__*/React.createElement(\"div\",{className:\"task-sidebar \".concat(this.props.addTaskState===true?\"show\":\"\")},/*#__PURE__*/React.createElement(\"div\",{className:\"task-header\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"task-type-title text-bold-600\"},/*#__PURE__*/React.createElement(\"h3\",null,this.props.taskToUpdate&&this.props.taskToUpdate.id?\"Update Task\":\"Add Task\")),/*#__PURE__*/React.createElement(\"div\",{className:\"close-icon\"},/*#__PURE__*/React.createElement(X,{className:\"cursor-pointer\",size:20,onClick:function onClick(){return _this2.props.addTask(\"close\");}})))),/*#__PURE__*/React.createElement(PerfectScrollbar,null,/*#__PURE__*/React.createElement(\"div\",{className:\"task-body\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-between mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"mark-complete\"},this.props.taskToUpdate&&this.props.taskToUpdate.id&&/*#__PURE__*/React.createElement(Checkbox,{color:\"primary\",className:\"user-checkbox\",icon:/*#__PURE__*/React.createElement(Check,{className:\"vx-icon\",size:15}),label:\"\",checked:taskStatus,onChange:function onChange(e){_this2.props.completeTask(_this2.props.taskToUpdate);}})),/*#__PURE__*/React.createElement(\"div\",{className:\"task-actions\"},/*#__PURE__*/React.createElement(Info,{size:20,className:\"mr-50 \".concat(this.props.taskToUpdate!==null&&this.state.taskImportant||newTask.isImportant?\"text-success\":\"\"),onClick:function onClick(){if(_this2.props.taskToUpdate!==null){_this2.props.importantTask(_this2.props.taskToUpdate);}else{_this2.setState({newTask:_objectSpread(_objectSpread({},_this2.state.newTask),{},{isImportant:!_this2.state.newTask.isImportant})});}}}),/*#__PURE__*/React.createElement(Star,{size:20,className:\"mr-50 \".concat(this.props.taskToUpdate!==null&&this.state.taskStarred||newTask.isStarred?\"text-warning\":\"\"),onClick:function onClick(){if(_this2.props.taskToUpdate!==null){_this2.props.starTask(_this2.props.taskToUpdate);}else{_this2.setState({newTask:_objectSpread(_objectSpread({},_this2.state.newTask),{},{isStarred:!_this2.state.newTask.isStarred})});}}}),/*#__PURE__*/React.createElement(UncontrolledDropdown,{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(DropdownToggle,{tag:\"span\"},/*#__PURE__*/React.createElement(Tag,{className:\"mr-50\",size:20})),/*#__PURE__*/React.createElement(DropdownMenu,{tag:\"ul\",right:true},/*#__PURE__*/React.createElement(DropdownItem,{tag:\"li\"},/*#__PURE__*/React.createElement(Checkbox,{color:\"primary\",className:\"user-checkbox\",icon:/*#__PURE__*/React.createElement(Check,{className:\"vx-icon\",size:12}),label:\"Frontend\",checked:this.props.taskToUpdate!==null&&this.props.taskToUpdate.tags.includes(\"frontend\")||newTask.tags.includes(\"frontend\")?true:false,size:\"sm\",onChange:function onChange(e){e.stopPropagation();if(_this2.props.taskToUpdate!==null)_this2.props.updateLabel(taskToUpdate.id,\"frontend\");else _this2.handleNewTaskTags(\"frontend\");}})),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"li\"},/*#__PURE__*/React.createElement(Checkbox,{color:\"primary\",className:\"user-checkbox\",icon:/*#__PURE__*/React.createElement(Check,{className:\"vx-icon\",size:12}),label:\"Backend\",checked:this.props.taskToUpdate!==null&&this.props.taskToUpdate.tags.includes(\"backend\")||newTask.tags.includes(\"backend\")?true:false,size:\"sm\",onClick:function onClick(e){return e.stopPropagation();},onChange:function onChange(e){e.stopPropagation();if(_this2.props.taskToUpdate!==null)_this2.props.updateLabel(taskToUpdate.id,\"backend\");else _this2.handleNewTaskTags(\"backend\");}})),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"li\"},/*#__PURE__*/React.createElement(Checkbox,{color:\"primary\",className:\"user-checkbox\",icon:/*#__PURE__*/React.createElement(Check,{className:\"vx-icon\",size:12}),label:\"Doc\",checked:this.props.taskToUpdate!==null&&this.props.taskToUpdate.tags.includes(\"doc\")||newTask.tags.includes(\"doc\")?true:false,size:\"sm\",onClick:function onClick(e){return e.stopPropagation();},onChange:function onChange(e){e.stopPropagation();if(_this2.props.taskToUpdate!==null)_this2.props.updateLabel(taskToUpdate.id,\"doc\");else _this2.handleNewTaskTags(\"doc\");}})),/*#__PURE__*/React.createElement(DropdownItem,{tag:\"li\"},/*#__PURE__*/React.createElement(Checkbox,{color:\"primary\",className:\"user-checkbox\",icon:/*#__PURE__*/React.createElement(Check,{className:\"vx-icon\",size:12}),label:\"Bug\",checked:this.props.taskToUpdate!==null&&this.props.taskToUpdate.tags.includes(\"bug\")||newTask.tags.includes(\"bug\")?true:false,size:\"sm\",onClick:function onClick(e){return e.stopPropagation();},onChange:function onChange(e){e.stopPropagation();if(_this2.props.taskToUpdate!==null)_this2.props.updateLabel(taskToUpdate.id,\"bug\");else _this2.handleNewTaskTags(\"bug\");}})))))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"text\",placeholder:\"Title\",value:this.props.taskToUpdate!==null?taskTitle:newTask.title,onChange:function onChange(e){if(_this2.props.taskToUpdate!==null){_this2.setState({taskTitle:e.target.value});}else{_this2.setState({newTask:_objectSpread(_objectSpread({},_this2.state.newTask),{},{title:e.target.value})});}}})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{type:\"textarea\",placeholder:\"Description\",rows:\"5\",value:this.props.taskToUpdate!==null?taskDesc:newTask.desc,onChange:function onChange(e){if(_this2.props.taskToUpdate!==null){_this2.setState({taskDesc:e.target.value});}else{_this2.setState({newTask:_objectSpread(_objectSpread({},_this2.state.newTask),{},{desc:e.target.value})});}}})),/*#__PURE__*/React.createElement(\"div\",{className:\"chip-wrapper my-1 d-flex flex-wrap\"},this.props.taskToUpdate!==null&&this.props.taskToUpdate.tags&&this.props.taskToUpdate.tags.length>0?this.renderTags(this.props.taskToUpdate.tags):null),/*#__PURE__*/React.createElement(\"hr\",{className:\"my-2\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex justify-content-end\"},/*#__PURE__*/React.createElement(Button.Ripple,{className:\"mr-50\",color:\"primary\",onClick:function onClick(){if(_this2.props.taskToUpdate!==null){_this2.props.updateTask(taskToUpdate.id,taskTitle,taskDesc);}else{_this2.props.addNewTask(_this2.state.newTask);}_this2.props.addTask(\"close\");_this2.setState({newTask:{title:\"\",desc:\"\",tags:[],isCompleted:false,isImportant:false,isStarred:false}});},disabled:taskTitle.length>0||newTask.title.length>0?false:true},taskToUpdate&&taskToUpdate.id&&this.props.taskToUpdate!==null?\"Update\":\"Add\"),/*#__PURE__*/React.createElement(Button.Ripple,{color:\"light\",outline:true,onClick:function onClick(){_this2.props.addTask(\"close\");_this2.setState({newTask:{title:\"\",desc:\"\",tags:[],isCompleted:false,isImportant:false,isStarred:false}});}},\"Cancel\")))));}}]);return TaskSidebar;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{app:state.todoApp};};export default connect(mapStateToProps,{completeTask:completeTask,importantTask:importantTask,starTask:starTask,updateTask:updateTask,updateLabel:updateLabel,addNewTask:addNewTask})(TaskSidebar);","map":null,"metadata":{},"sourceType":"module"}