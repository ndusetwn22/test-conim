{"ast":null,"code":"import _regeneratorRuntime from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nexport var getData = function getData(params) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"/api/datalist/data\", params).then(function (response) {\n                dispatch({\n                  type: \"GET_DATA\",\n                  data: response.data.data,\n                  totalPages: response.data.totalPages,\n                  params: params\n                });\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var getInitialData = function getInitialData() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return axios.get(\"/api/datalist/initial-data\").then(function (response) {\n                dispatch({\n                  type: \"GET_ALL_DATA\",\n                  data: response.data\n                });\n              });\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};\nexport var filterData = function filterData(value) {\n  return function (dispatch) {\n    return dispatch({\n      type: \"FILTER_DATA\",\n      value: value\n    });\n  };\n};\nexport var deleteData = function deleteData(obj) {\n  return function (dispatch) {\n    axios.post(\"/api/datalist/delete-data\", {\n      obj: obj\n    }).then(function (response) {\n      dispatch({\n        type: \"DELETE_DATA\",\n        obj: obj\n      });\n    });\n  };\n};\nexport var updateData = function updateData(obj) {\n  return function (dispatch, getState) {\n    axios.post(\"/api/datalist/update-data\", {\n      obj: obj\n    }).then(function (response) {\n      dispatch({\n        type: \"UPDATE_DATA\",\n        obj: obj\n      });\n    });\n  };\n};\nexport var addData = function addData(obj) {\n  return function (dispatch, getState) {\n    var params = getState().dataList.params;\n    axios.post(\"/api/datalist/add-data\", {\n      obj: obj\n    }).then(function (response) {\n      dispatch({\n        type: \"ADD_DATA\",\n        obj: obj\n      });\n      dispatch(getData(params));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/redux/actions/data-list/index.js"],"names":["axios","getData","params","dispatch","get","then","response","type","data","totalPages","getInitialData","filterData","value","deleteData","obj","post","updateData","getState","addData","dataList"],"mappings":"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","sourcesContent":["import axios from \"axios\"\n\nexport const getData = params => {\n  return async dispatch => {\n    await axios.get(\"/api/datalist/data\", params).then(response => {\n      dispatch({\n        type: \"GET_DATA\",\n        data: response.data.data,\n        totalPages: response.data.totalPages,\n        params\n      })\n    })\n  }\n}\n\nexport const getInitialData = () => {\n  return async dispatch => {\n    await axios.get(\"/api/datalist/initial-data\").then(response => {\n      dispatch({ type: \"GET_ALL_DATA\", data: response.data })\n    })\n  }\n}\n\nexport const filterData = value => {\n  return dispatch => dispatch({ type: \"FILTER_DATA\", value })\n}\n\nexport const deleteData = obj => {\n  return dispatch => {\n    axios\n      .post(\"/api/datalist/delete-data\", {\n        obj\n      })\n      .then(response => {\n        dispatch({ type: \"DELETE_DATA\", obj })\n      })\n  }\n}\n\nexport const updateData = obj => {\n  return (dispatch, getState) => {\n    axios\n      .post(\"/api/datalist/update-data\", {\n        obj\n      })\n      .then(response => {\n        dispatch({ type: \"UPDATE_DATA\", obj })\n      })\n  }\n}\n\nexport const addData = obj => {\n  return (dispatch, getState) => {\n    let params = getState().dataList.params\n    axios\n      .post(\"/api/datalist/add-data\", {\n        obj\n      })\n      .then(response => {\n        dispatch({ type: \"ADD_DATA\", obj })\n        dispatch(getData(params))\n      })\n  }\n}\n"]},"metadata":{},"sourceType":"module"}