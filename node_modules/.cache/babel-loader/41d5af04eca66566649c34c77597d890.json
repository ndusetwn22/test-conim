{"ast":null,"code":"// import * as firebase from \"firebase/app\"\nimport{history}from\"../../../history\";// import \"firebase/auth\"\n// import \"firebase/database\"\nimport axios from\"axios\";// import { config } from \"../../../authServices/firebase/firebaseConfig\"\n// Init firebase if not already initialized\n// if (!firebase.apps.length) {\n//   firebase.initializeApp(config)\n// }\n// let firebaseAuth = firebase.auth()\n// export const signupWithFirebase = (email, password, name) => {\n//   return dispatch => {\n//     let userEmail = null,\n//       loggedIn = false\n//     // userName = null\n//     firebaseAuth\n//       .createUserWithEmailAndPassword(email, password)\n//       .then(result => {\n//         firebaseAuth.onAuthStateChanged(user => {\n//           result.user.updateProfile({\n//             displayName: name\n//           })\n//           if (user) {\n//             userEmail = user.email\n//             // let userName = user.displayName\n//             loggedIn = true\n//             dispatch({\n//               type: \"SIGNUP_WITH_EMAIL\",\n//               payload: {\n//                 email: userEmail,\n//                 name,\n//                 isSignedIn: loggedIn\n//               }\n//             })\n//             dispatch({\n//               type: \"LOGIN_WITH_EMAIL\",\n//               payload: {\n//                 email: userEmail,\n//                 name\n//               }\n//             })\n//           }\n//         })\n//         history.push(\"/\")\n//       })\n//       .catch(error => {\n//         console.log(error.message)\n//       })\n//   }\n// }\nexport var signupWithJWT=function signupWithJWT(email,password,name){return function(dispatch){axios.post(\"/api/authenticate/register/user\",{email:email,password:password,name:name}).then(function(response){var loggedInUser;if(response.data){loggedInUser=response.data.user;localStorage.setItem(\"token\",response.data.token);dispatch({type:\"LOGIN_WITH_JWT\",payload:{loggedInUser:loggedInUser,loggedInWith:\"jwt\"}});history.push(\"/\");}}).catch(function(err){return console.log(err);});};};","map":null,"metadata":{},"sourceType":"module"}