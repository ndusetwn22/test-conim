{"ast":null,"code":"import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Link}from\"react-router-dom\";import classnames from\"classnames\";import navigationConfig from\"../../../../../configs/navigationConfig\";import SideMenuGroup from\"./SideMenuGroup\";import{Badge}from\"reactstrap\";import{ChevronRight}from\"react-feather\";import{FormattedMessage}from\"react-intl\";import{history}from\"../../../../../history\";var SideMenuContent=/*#__PURE__*/function(_React$Component){_inherits(SideMenuContent,_React$Component);var _super=_createSuper(SideMenuContent);function SideMenuContent(props){var _this;_classCallCheck(this,SideMenuContent);_this=_super.call(this,props);_this.state={flag:true,isHovered:false,activeGroups:[],currentActiveGroup:[],tempArr:[]};_this.handleGroupClick=function(id){var parent=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var type=arguments.length>2&&arguments[2]!==undefined?arguments[2]:\"\";var open_group=_this.state.activeGroups;var active_group=_this.state.currentActiveGroup;var temp_arr=_this.state.tempArr;// Active Group to apply sidebar-group-active class\nif(type===\"item\"&&parent===null){active_group=[];temp_arr=[];}else if(type===\"item\"&&parent!==null){active_group=[];if(temp_arr.includes(parent)){temp_arr.splice(temp_arr.indexOf(parent)+1,temp_arr.length);}else{temp_arr=[];temp_arr.push(parent);}active_group=temp_arr.slice(0);}else if(type===\"collapse\"&&parent===null){temp_arr=[];temp_arr.push(id);}else if(type===\"collapse\"&&parent!==null){if(active_group.includes(parent)){temp_arr=active_group.slice(0);}if(temp_arr.includes(id)){// temp_arr.splice(temp_arr.indexOf(id), 1)\ntemp_arr.splice(temp_arr.indexOf(id),temp_arr.length);}else{temp_arr.push(id);}}else{temp_arr=[];}if(type===\"collapse\"){// If open group does not include clicked group item\nif(!open_group.includes(id)){// Get unmatched items that are not in the active group\nvar temp=open_group.filter(function(obj){return active_group.indexOf(obj)===-1;});// Remove those unmatched items from open group\nif(temp.length>0&&!open_group.includes(parent)){open_group=open_group.filter(function(obj){return!temp.includes(obj);});}if(open_group.includes(parent)&&active_group.includes(parent)){open_group=active_group.slice(0);}// Add group item clicked in open group\nif(!open_group.includes(id)){open_group.push(id);}}else{// If open group includes click group item, remove it from open group\nopen_group.splice(open_group.indexOf(id),1);}}if(type===\"item\"){open_group=active_group.slice(0);}_this.setState({activeGroups:open_group,tempArr:temp_arr,currentActiveGroup:active_group});};_this.initRender=function(parentArr){_this.setState({activeGroups:parentArr.slice(0),currentActiveGroup:parentArr.slice(0),flag:false});};_this.parentArr=[];_this.collapsedPath=null;_this.redirectUnauthorized=function(){history.push(\"/misc/not-authorized\");};return _this;}_createClass(SideMenuContent,[{key:\"componentDidMount\",value:function componentDidMount(){this.initRender(this.parentArr[0]?this.parentArr[0]:[]);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(prevProps.activePath!==this.props.activePath){if(this.collapsedMenuPaths!==null){this.props.collapsedMenuPaths(this.collapsedMenuPaths);}this.initRender(this.parentArr[0]?this.parentArr[this.parentArr.length-1]:[]);}}},{key:\"render\",value:function render(){var _this2=this;// Loop over sidebar items\n// eslint-disable-next-line\nvar menuItems=navigationConfig.map(function(item){var CustomAnchorTag=item.type===\"external-link\"?\"a\":Link;// checks if item has groupheader\nif(item.type===\"groupHeader\"){return/*#__PURE__*/React.createElement(\"li\",{className:\"navigation-header\",key:\"group-header-\".concat(item.groupTitle)},/*#__PURE__*/React.createElement(\"span\",null,item.groupTitle));}var renderItem=/*#__PURE__*/React.createElement(\"li\",{className:classnames(\"nav-item\",{\"has-sub\":item.type===\"collapse\",open:_this2.state.activeGroups.includes(item.id),\"sidebar-group-active\":_this2.state.currentActiveGroup.includes(item.id),hover:_this2.props.hoverIndex===item.id,active:_this2.props.activeItemState===item.navLink&&item.type===\"item\"||item.parentOf&&item.parentOf.includes(_this2.props.activeItemState),disabled:item.disabled}),key:item.id,onClick:function onClick(e){e.stopPropagation();if(item.type===\"item\"){_this2.props.handleActiveItem(item.navLink);_this2.handleGroupClick(item.id,null,item.type);if(_this2.props.deviceWidth<=1200&&item.type===\"item\"){_this2.props.toggleMenu();}}else{_this2.handleGroupClick(item.id,null,item.type);}}},/*#__PURE__*/React.createElement(CustomAnchorTag,{to:item.filterBase?item.filterBase:item.navLink&&item.type===\"item\"?item.navLink:\"\",href:item.type===\"external-link\"?item.navLink:\"\",className:\"d-flex \".concat(item.badgeText?\"justify-content-between\":\"justify-content-start\"),onMouseEnter:function onMouseEnter(){_this2.props.handleSidebarMouseEnter(item.id);},onMouseLeave:function onMouseLeave(){_this2.props.handleSidebarMouseEnter(item.id);},key:item.id,onClick:function onClick(e){return item.type===\"collapse\"?e.preventDefault():\"\";},target:item.newTab?\"_blank\":undefined},/*#__PURE__*/React.createElement(\"div\",{className:\"menu-text\"},item.icon,/*#__PURE__*/React.createElement(\"span\",{className:\"menu-item menu-title\"},item.title)),item.badge?/*#__PURE__*/React.createElement(\"div\",{className:\"menu-badge\"},/*#__PURE__*/React.createElement(Badge,{color:item.badge,className:\"mr-1\",pill:true},item.badgeText)):\"\",item.type===\"collapse\"?/*#__PURE__*/React.createElement(ChevronRight,{className:\"menu-toggle-icon\",size:13}):\"\"),item.type===\"collapse\"?/*#__PURE__*/React.createElement(SideMenuGroup,{group:item,handleGroupClick:_this2.handleGroupClick,activeGroup:_this2.state.activeGroups,handleActiveItem:_this2.props.handleActiveItem,activeItemState:_this2.props.activeItemState,handleSidebarMouseEnter:_this2.props.handleSidebarMouseEnter,activePath:_this2.props.activePath,hoverIndex:_this2.props.hoverIndex,initRender:_this2.initRender,parentArr:_this2.parentArr,triggerActive:undefined,currentActiveGroup:_this2.state.currentActiveGroup,permission:_this2.props.permission,currentUser:_this2.props.currentUser,redirectUnauthorized:_this2.redirectUnauthorized,collapsedMenuPaths:_this2.props.collapsedMenuPaths,toggleMenu:_this2.props.toggleMenu,deviceWidth:_this2.props.deviceWidth}):\"\");if(item.navLink&&item.collapsed!==undefined&&item.collapsed===true){_this2.collapsedPath=item.navLink;_this2.props.collapsedMenuPaths(item.navLink);}if(item.type===\"collapse\"||item.type===\"external-link\"||item.type===\"item\"||item.permissions===undefined){return renderItem;}else if(item.type===\"item\"&&item.navLink===_this2.props.activePath// &&\n// !item.permissions.includes(this.props.currentUser)\n){return _this2.redirectUnauthorized();}});return/*#__PURE__*/React.createElement(React.Fragment,null,menuItems);}}]);return SideMenuContent;}(React.Component);export default SideMenuContent;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/layouts/components/menu/vertical-menu/sidemenu/SideMenuContent.js"],"names":["React","Link","classnames","navigationConfig","SideMenuGroup","Badge","ChevronRight","FormattedMessage","history","SideMenuContent","props","state","flag","isHovered","activeGroups","currentActiveGroup","tempArr","handleGroupClick","id","parent","type","open_group","active_group","temp_arr","includes","splice","indexOf","length","push","slice","temp","filter","obj","setState","initRender","parentArr","collapsedPath","redirectUnauthorized","prevProps","prevState","activePath","collapsedMenuPaths","menuItems","map","item","CustomAnchorTag","groupTitle","renderItem","open","hover","hoverIndex","active","activeItemState","navLink","parentOf","disabled","e","stopPropagation","handleActiveItem","deviceWidth","toggleMenu","filterBase","badgeText","handleSidebarMouseEnter","preventDefault","newTab","undefined","icon","title","badge","permission","currentUser","collapsed","permissions","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport classnames from \"classnames\"\nimport navigationConfig from \"../../../../../configs/navigationConfig\"\nimport SideMenuGroup from \"./SideMenuGroup\"\nimport { Badge } from \"reactstrap\"\nimport { ChevronRight } from \"react-feather\"\nimport { FormattedMessage } from \"react-intl\"\nimport { history } from \"../../../../../history\"\n\nclass SideMenuContent extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.parentArr = []\n    this.collapsedPath = null\n    this.redirectUnauthorized = () => {\n      history.push(\"/misc/not-authorized\")\n    }\n  }\n  state = {\n    flag: true,\n    isHovered: false,\n    activeGroups: [],\n    currentActiveGroup: [],\n    tempArr: []\n  }\n\n  handleGroupClick = (id, parent = null, type = \"\") => {\n    let open_group = this.state.activeGroups\n    let active_group = this.state.currentActiveGroup\n    let temp_arr = this.state.tempArr\n    // Active Group to apply sidebar-group-active class\n    if (type === \"item\" && parent === null) {\n      active_group = []\n      temp_arr = []\n    } else if (type === \"item\" && parent !== null) {\n      active_group = []\n      if (temp_arr.includes(parent)) {\n        temp_arr.splice(temp_arr.indexOf(parent) + 1, temp_arr.length)\n      } else {\n        temp_arr = []\n        temp_arr.push(parent)\n      }\n      active_group = temp_arr.slice(0)\n    } else if (type === \"collapse\" && parent === null) {\n      temp_arr = []\n      temp_arr.push(id)\n    } else if (type === \"collapse\" && parent !== null) {\n      if (active_group.includes(parent)) {\n        temp_arr = active_group.slice(0)\n      }\n      if (temp_arr.includes(id)) {\n        // temp_arr.splice(temp_arr.indexOf(id), 1)\n        temp_arr.splice(temp_arr.indexOf(id), temp_arr.length)\n      } else {\n        temp_arr.push(id)\n      }\n    } else {\n      temp_arr = []\n    }\n\n    if (type === \"collapse\") {\n      // If open group does not include clicked group item\n      if (!open_group.includes(id)) {\n        // Get unmatched items that are not in the active group\n        let temp = open_group.filter(function(obj) {\n          return active_group.indexOf(obj) === -1\n        })\n        // Remove those unmatched items from open group\n        if (temp.length > 0 && !open_group.includes(parent)) {\n          open_group = open_group.filter(function(obj) {\n            return !temp.includes(obj)\n          })\n        }\n        if (open_group.includes(parent) && active_group.includes(parent)) {\n          open_group = active_group.slice(0)\n        }\n        // Add group item clicked in open group\n        if (!open_group.includes(id)) {\n          open_group.push(id)\n        }\n      } else {\n        // If open group includes click group item, remove it from open group\n        open_group.splice(open_group.indexOf(id), 1)\n      }\n    }\n    if (type === \"item\") {\n      open_group = active_group.slice(0)\n    }\n\n    this.setState({\n      activeGroups: open_group,\n      tempArr: temp_arr,\n      currentActiveGroup: active_group\n    })\n  }\n\n  initRender = parentArr => {\n    this.setState({\n      activeGroups: parentArr.slice(0),\n      currentActiveGroup: parentArr.slice(0),\n      flag: false\n    })\n  }\n\n  componentDidMount() {\n    this.initRender(this.parentArr[0] ? this.parentArr[0] : [])\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.activePath !== this.props.activePath) {\n      if (this.collapsedMenuPaths !== null) {\n        this.props.collapsedMenuPaths(this.collapsedMenuPaths)\n      }\n\n      this.initRender(\n        this.parentArr[0] ? this.parentArr[this.parentArr.length - 1] : []\n      )\n    }\n  }\n\n  render() {\n    // Loop over sidebar items\n    // eslint-disable-next-line\n    const menuItems = navigationConfig.map(item => {\n      const CustomAnchorTag = item.type === \"external-link\" ? `a` : Link\n      // checks if item has groupheader\n      if (item.type === \"groupHeader\") {\n        return (\n          <li\n            className=\"navigation-header\"\n            key={`group-header-${item.groupTitle}`}>\n            <span>{item.groupTitle}</span>\n          </li>\n        )\n      }\n\n      let renderItem = (\n        <li\n          className={classnames(\"nav-item\", {\n            \"has-sub\": item.type === \"collapse\",\n            open: this.state.activeGroups.includes(item.id),\n            \"sidebar-group-active\": this.state.currentActiveGroup.includes(\n              item.id\n            ),\n            hover: this.props.hoverIndex === item.id,\n            active:\n              (this.props.activeItemState === item.navLink &&\n                item.type === \"item\") ||\n              (item.parentOf &&\n                item.parentOf.includes(this.props.activeItemState)),\n            disabled: item.disabled\n          })}\n          key={item.id}\n          onClick={e => {\n            e.stopPropagation()\n            if (item.type === \"item\") {\n              this.props.handleActiveItem(item.navLink)\n              this.handleGroupClick(item.id, null, item.type)\n              if (this.props.deviceWidth <= 1200 && item.type === \"item\") {\n                this.props.toggleMenu()\n              }\n            } else {\n              this.handleGroupClick(item.id, null, item.type)\n            }\n          }}>\n          <CustomAnchorTag\n            to={\n              item.filterBase\n                ? item.filterBase\n                : item.navLink && item.type === \"item\"\n                ? item.navLink\n                : \"\"\n            }\n            href={item.type === \"external-link\" ? item.navLink : \"\"}\n            className={`d-flex ${\n              item.badgeText\n                ? \"justify-content-between\"\n                : \"justify-content-start\"\n            }`}\n            onMouseEnter={() => {\n              this.props.handleSidebarMouseEnter(item.id)\n            }}\n            onMouseLeave={() => {\n              this.props.handleSidebarMouseEnter(item.id)\n            }}\n            key={item.id}\n            onClick={e => {\n              return item.type === \"collapse\" ? e.preventDefault() : \"\"\n            }}\n            target={item.newTab ? \"_blank\" : undefined}>\n            <div className=\"menu-text\">\n              {item.icon}\n              {/* <span className=\"menu-item menu-title\">\n                <FormattedMessage id={item.title} />\n              </span> */}\n              <span className=\"menu-item menu-title\">\n                  {item.title}\n              </span>\n            </div>\n\n            {item.badge ? (\n              <div className=\"menu-badge\">\n                <Badge color={item.badge} className=\"mr-1\" pill>\n                  {item.badgeText}\n                </Badge>\n              </div>\n            ) : (\n              \"\"\n            )}\n            {item.type === \"collapse\" ? (\n              <ChevronRight className=\"menu-toggle-icon\" size={13} />\n            ) : (\n              \"\"\n            )}\n          </CustomAnchorTag>\n          {item.type === \"collapse\" ? (\n            <SideMenuGroup\n              group={item}\n              handleGroupClick={this.handleGroupClick}\n              activeGroup={this.state.activeGroups}\n              handleActiveItem={this.props.handleActiveItem}\n              activeItemState={this.props.activeItemState}\n              handleSidebarMouseEnter={this.props.handleSidebarMouseEnter}\n              activePath={this.props.activePath}\n              hoverIndex={this.props.hoverIndex}\n              initRender={this.initRender}\n              parentArr={this.parentArr}\n              triggerActive={undefined}\n              currentActiveGroup={this.state.currentActiveGroup}\n              permission={this.props.permission}\n              currentUser={this.props.currentUser}\n              redirectUnauthorized={this.redirectUnauthorized}\n              collapsedMenuPaths={this.props.collapsedMenuPaths}\n              toggleMenu={this.props.toggleMenu}\n              deviceWidth={this.props.deviceWidth}\n            />\n          ) : (\n            \"\"\n          )}\n        </li>\n      )\n\n      if (\n        item.navLink &&\n        item.collapsed !== undefined &&\n        item.collapsed === true\n      ) {\n        this.collapsedPath = item.navLink\n        this.props.collapsedMenuPaths(item.navLink)\n      }\n\n      if (\n        item.type === \"collapse\" ||\n        item.type === \"external-link\" ||\n        (item.type === \"item\" ) ||\n        item.permissions === undefined\n      ) {\n        return renderItem\n      } else if (\n        item.type === \"item\" &&\n        item.navLink === this.props.activePath\n        // &&\n        // !item.permissions.includes(this.props.currentUser)\n      ) {\n        return this.redirectUnauthorized()\n      }\n    })\n    return <React.Fragment>{menuItems}</React.Fragment>\n  }\n}\nexport default SideMenuContent\n"]},"metadata":{},"sourceType":"module"}