{"ast":null,"code":"import _defineProperty from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pandusetiawan/Documents/react/df-v1.2/src/views/admin/data-karyawan/component/KaryawanAdd.js\";\nimport React from \"react\";\nimport { api_query, project } from \"../../../../api/ApiConstant\";\nimport firebase from \"../../../../firebase/firebase\";\nimport axios from 'axios';\nimport { Card, CardHeader, CardTitle, CardBody, FormGroup, Row, Col, Input, Form, Button, Label, CustomInput, CardImg } from \"reactstrap\";\nimport img1 from \"../../../../assets/img/pages/1.png\";\nimport img2 from \"../../../../assets/img/pages/2.png\";\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\";\nimport { Check, Star, Save, Send } from \"react-feather\";\nimport { history } from \"../../../../../src/history\";\nimport Select from \"react-select\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\nimport Spinner from \"../../../../components/@vuexy/spinner/Fallback-spinner\";\nimport Toggle from \"react-toggle\";\nimport \"react-toggle/style.css\";\nimport \"../../../../assets/scss/plugins/forms/switch/react-toggle.scss\";\n\nvar KaryawanAdd = /*#__PURE__*/function (_React$Component) {\n  _inherits(KaryawanAdd, _React$Component);\n\n  function KaryawanAdd(props) {\n    var _this;\n\n    _classCallCheck(this, KaryawanAdd);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(KaryawanAdd).call(this, props));\n    _this.componentDidMount = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.isLogin(\"super_admin\");\n\n            case 2:\n              _context.next = 4;\n              return _this.tarikDepartemen();\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    _this.submitForm = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n      var active, pass, role, sql, result;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              if (!(_this.state.nik == '' || _this.state.nik == null)) {\n                _context6.next = 4;\n                break;\n              }\n\n              _context6.next = 3;\n              return _this.handleAlert('isSweetAlert', true, 'Warning', 'NIK Tidak Boleh Kosong', 'warning');\n\n            case 3:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 4:\n              if (!(_this.state.nama == '' || _this.state.nama == null)) {\n                _context6.next = 8;\n                break;\n              }\n\n              _context6.next = 7;\n              return _this.handleAlert('isSweetAlert', true, 'Warning', 'Nama Lengkap Tidak Boleh Kosong', 'warning');\n\n            case 7:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 8:\n              if (!(_this.state.jobLevel == '' || _this.state.jobLevel == null)) {\n                _context6.next = 12;\n                break;\n              }\n\n              _context6.next = 11;\n              return _this.handleAlert('isSweetAlert', true, 'Warning', 'Job Level Tidak Boleh Kosong', 'warning');\n\n            case 11:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 12:\n              if (!(_this.state.departementSelected == '' || _this.state.departementSelected == null)) {\n                _context6.next = 18;\n                break;\n              }\n\n              _context6.next = 15;\n              return _this.handleAlert('isSweetAlert', true, 'Warning', 'Departemen Tidak Boleh Kosong', 'warning');\n\n            case 15:\n              return _context6.abrupt(\"return\", _context6.sent);\n\n            case 18:\n              _this.setState({\n                isLoading: true\n              });\n\n              active = _this.state.isChecked ? 'Y' : 'N';\n              pass = 'onekalbe21';\n              role = 'op_df';\n\n              if (_this.state.jobLevel == '1' || _this.state.jobLevel == '2' || _this.state.jobLevel == '3') {\n                role = 'op_df';\n              }\n\n              if (_this.state.jobLevel == '4') {\n                role = 'spv_df';\n              }\n\n              if (_this.state.jobLevel == '5') {\n                role = 'spv_df';\n              } //besok cek NIK dulu\n\n\n              sql = \"\\n           select id, nik from df_master_user where nik = '\" + _this.state.nik + \"'\\n        \";\n              console.log('sql : ', sql);\n              _context6.next = 29;\n              return axios.post(api_query, {\n                query: sql\n              }).then( /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(result) {\n                  var res, sql2, result2;\n                  return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          res = result.data.response.rows;\n\n                          if (!(res.length == '')) {\n                            _context4.next = 8;\n                            break;\n                          }\n\n                          // query insert\n                          sql2 = \"\\n                                        INSERT INTO df_master_user\\n                                        (nik, name, password, role, job_level, departement_id, active)\\n                                        VALUES('\" + _this.state.nik + \"', '\" + _this.state.nama + \"', df_encrypt('\" + pass + \"'), '\" + role + \"', '\" + _this.state.jobLevel + \"', \" + _this.state.departementSelected + \", '\" + active + \"')\\n                                       \";\n                          _context4.next = 5;\n                          return axios.post(api_query, {\n                            query: sql2\n                          }).then( /*#__PURE__*/function () {\n                            var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(result) {\n                              var res2;\n                              return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                                while (1) {\n                                  switch (_context2.prev = _context2.next) {\n                                    case 0:\n                                      res2 = result.data.response.rows;\n                                      _context2.next = 3;\n                                      return _this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil tambah karyawan', 'success');\n\n                                    case 3:\n                                      return _context2.abrupt(\"return\", _context2.sent);\n\n                                    case 4:\n                                    case \"end\":\n                                      return _context2.stop();\n                                  }\n                                }\n                              }, _callee2);\n                            }));\n\n                            return function (_x2) {\n                              return _ref4.apply(this, arguments);\n                            };\n                          }()).catch( /*#__PURE__*/function () {\n                            var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(err) {\n                              return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n                                while (1) {\n                                  switch (_context3.prev = _context3.next) {\n                                    case 0:\n                                      console.log('error: ', err);\n                                      _context3.next = 3;\n                                      return _this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal tambah karyawan', 'danger');\n\n                                    case 3:\n                                      return _context3.abrupt(\"return\", _context3.sent);\n\n                                    case 4:\n                                    case \"end\":\n                                      return _context3.stop();\n                                  }\n                                }\n                              }, _callee3);\n                            }));\n\n                            return function (_x3) {\n                              return _ref5.apply(this, arguments);\n                            };\n                          }());\n\n                        case 5:\n                          result2 = _context4.sent;\n                          _context4.next = 11;\n                          break;\n\n                        case 8:\n                          _context4.next = 10;\n                          return _this.handleAlertConfirm('isSweetAlertConfirm', true, 'Warning', 'NIK Sudah digunakan', 'warning');\n\n                        case 10:\n                          return _context4.abrupt(\"return\", _context4.sent);\n\n                        case 11:\n                        case \"end\":\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4);\n                }));\n\n                return function (_x) {\n                  return _ref3.apply(this, arguments);\n                };\n              }()).catch( /*#__PURE__*/function () {\n                var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(err) {\n                  return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n                    while (1) {\n                      switch (_context5.prev = _context5.next) {\n                        case 0:\n                          console.log('error : ', err);\n                          _context5.next = 3;\n                          return _this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal tambah karyawan', 'danger');\n\n                        case 3:\n                          return _context5.abrupt(\"return\", _context5.sent);\n\n                        case 4:\n                        case \"end\":\n                          return _context5.stop();\n                      }\n                    }\n                  }, _callee5);\n                }));\n\n                return function (_x4) {\n                  return _ref6.apply(this, arguments);\n                };\n              }());\n\n            case 29:\n              result = _context6.sent;\n\n              _this.setState({\n                isLoading: false\n              });\n\n            case 31:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n    _this.tarikDepartemen = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n      var sql, result;\n      return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              sql = \"\\n      select  id as value,\\n              nama_departemen as label\\n      from df_master_departement\\n    \";\n              _context8.next = 3;\n              return axios.post(api_query, {\n                query: sql\n              }).then( /*#__PURE__*/function () {\n                var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(result) {\n                  var res;\n                  return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                    while (1) {\n                      switch (_context7.prev = _context7.next) {\n                        case 0:\n                          res = result.data.response.rows; //   console.log('result query kategori : ', res)\n\n                          if (!(res.length == '')) {\n                            _context7.next = 3;\n                            break;\n                          }\n\n                          return _context7.abrupt(\"return\", []);\n\n                        case 3:\n                          _context7.next = 5;\n                          return _this.setState({\n                            dataDepartement: res\n                          });\n\n                        case 5:\n                        case \"end\":\n                          return _context7.stop();\n                      }\n                    }\n                  }, _callee7);\n                }));\n\n                return function (_x5) {\n                  return _ref8.apply(this, arguments);\n                };\n              }()).catch(function (err) {\n                console.log('error : ', err);\n                return [];\n              });\n\n            case 3:\n              result = _context8.sent;\n\n            case 4:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8);\n    }));\n\n    _this.isLogin = /*#__PURE__*/function () {\n      var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(role) {\n        var myProfile;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (localStorage.getItem('account') == undefined || localStorage.getItem('account') == null) {\n                  history.push(\"/pages/login\");\n                } else if (JSON.parse(localStorage.getItem('account')).role !== role) {\n                  history.push(\"/pages/login\");\n                } else {\n                  myProfile = JSON.parse(localStorage.getItem('account'));\n                  console.log('myProfile ss : ', myProfile);\n\n                  _this.setState({\n                    myProfile: myProfile\n                  });\n                }\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      return function (_x6) {\n        return _ref9.apply(this, arguments);\n      };\n    }();\n\n    _this.handleAlertConfirm = function (state, value, title, text, type) {\n      if (value) {\n        _this.setState(_defineProperty({}, state, value));\n\n        _this.setState({\n          sweetAlertTitleConfirm: title,\n          sweetAlertTextConfirm: text,\n          sweetAlertTypeConfirm: type\n        });\n      } else {\n        _this.setState(_defineProperty({}, state, value));\n\n        _this.props.changeViewPage('page');\n      } // if(text == \"Berhasil membuat SS\"){\n      //   this.setState({ [state] : value })\n      //   this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n      //   // this.props.changeViewPage('page')\n      // }else{}\n\n    };\n\n    _this.handleAlert = function (state, value, title, text, type) {\n      if (value) {\n        _this.setState(_defineProperty({}, state, value));\n\n        _this.setState({\n          sweetAlertTitle: title,\n          sweetAlertText: text,\n          sweetAlertType: type\n        });\n      } else {\n        _this.setState(_defineProperty({}, state, value));\n      }\n    };\n\n    _this.state = {\n      myProfile: null,\n      isSweetAlert: false,\n      sweetAlertTitle: 'Judul',\n      sweetAlertText: 'Text',\n      sweetAlertType: 'warning',\n      isSweetAlertConfirm: false,\n      sweetAlertTitleConfirm: 'Judul',\n      sweetAlertTextConfirm: 'Text',\n      sweetAlertTypeConfirm: 'warning',\n      dataDepartement: [],\n      departementSelected: null,\n      nik: '',\n      nama: '',\n      jobLevel: '1',\n      isChecked: true\n    };\n    return _this;\n  }\n\n  _createClass(KaryawanAdd, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, this.state.isLoading ? /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 9\n        }\n      }) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Button.Ripple, {\n        color: \"none\",\n        className: \"bg-gradient-warning mb-1\",\n        onClick: function onClick() {\n          return _this2.props.changeViewPage();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 9\n        }\n      }, \"Back\"), /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CardTitle, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }\n      }, \"Tambah Karyawan\")), /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"ssTema\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 21\n        }\n      }, \"NIK\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"nik\",\n        id: \"nik\",\n        placeholder: \"NIK\",\n        value: this.state.nik,\n        onChange: function onChange(val) {\n          return _this2.setState({\n            nik: val.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"ssTema\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 21\n        }\n      }, \"Nama Lengkap\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"nama\",\n        id: \"nama\",\n        placeholder: \"Nama Lengkap\",\n        value: this.state.nama,\n        onChange: function onChange(val) {\n          return _this2.setState({\n            nama: val.target.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 21\n        }\n      }, \"Pilih Departemen\"), /*#__PURE__*/React.createElement(Select, {\n        className: \"React\",\n        classNamePrefix: \"select\",\n        name: \"clear\",\n        options: this.state.dataDepartement,\n        onChange: function onChange(val) {\n          return _this2.setState({\n            departementSelected: val.value\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"ssTema\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 21\n        }\n      }, \"Job Level\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        name: \"jobLevel\",\n        id: \"jobLevel\",\n        placeholder: \"Job Level (1 - 5)\",\n        value: this.state.jobLevel,\n        onChange: function onChange(val) {\n          return _this2.setState({\n            jobLevel: val.target.value\n          });\n        } // disabled\n        ,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        className: \"react-toggle-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }\n      }, \"Status Aktif Karyawan :\", /*#__PURE__*/React.createElement(Toggle, {\n        checked: this.state.isChecked,\n        onChange: function onChange() {\n          return _this2.setState({\n            isChecked: !_this2.state.isChecked\n          });\n        },\n        name: \"controlledSwitch\",\n        className: \"ml-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 23\n        }\n      })))), /*#__PURE__*/React.createElement(Col, {\n        sm: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex flex-wrap justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"justify-content-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        color: \"none\",\n        className: \"bg-gradient-success\",\n        onClick: function onClick() {\n          return _this2.submitForm();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"align-middle ml-25\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 25\n        }\n      }, \"Buat Karyawan  \"), /*#__PURE__*/React.createElement(Send, {\n        size: 14,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 25\n        }\n      }))))))))))), /*#__PURE__*/React.createElement(SweetAlert, {\n        type: this.state.sweetAlertType,\n        title: this.state.sweetAlertTitle,\n        show: this.state.isSweetAlert,\n        onConfirm: function onConfirm() {\n          return _this2.handleAlert(\"isSweetAlert\", false);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"sweet-alert-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }\n      }, this.state.sweetAlertText)), /*#__PURE__*/React.createElement(SweetAlert, {\n        type: this.state.sweetAlertTypeConfirm,\n        title: this.state.sweetAlertTitleConfirm,\n        show: this.state.isSweetAlertConfirm,\n        onConfirm: function onConfirm() {\n          return _this2.handleAlertConfirm(\"isSweetAlertConfirm\", false);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"sweet-alert-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }\n      }, this.state.sweetAlertTextConfirm)));\n    }\n  }]);\n\n  return KaryawanAdd;\n}(React.Component);\n\nexport default KaryawanAdd;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/views/admin/data-karyawan/component/KaryawanAdd.js"],"names":["React","api_query","project","firebase","axios","Card","CardHeader","CardTitle","CardBody","FormGroup","Row","Col","Input","Form","Button","Label","CustomInput","CardImg","img1","img2","Checkbox","Check","Star","Save","Send","history","Select","SweetAlert","Spinner","Toggle","KaryawanAdd","props","componentDidMount","isLogin","tarikDepartemen","submitForm","state","nik","handleAlert","nama","jobLevel","departementSelected","setState","isLoading","active","isChecked","pass","role","sql","console","log","post","query","then","result","res","data","response","rows","length","sql2","res2","handleAlertConfirm","catch","err","result2","dataDepartement","localStorage","getItem","undefined","push","JSON","parse","myProfile","value","title","text","type","sweetAlertTitleConfirm","sweetAlertTextConfirm","sweetAlertTypeConfirm","changeViewPage","sweetAlertTitle","sweetAlertText","sweetAlertType","isSweetAlert","isSweetAlertConfirm","val","target","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { api_query, project } from \"../../../../api/ApiConstant\"\nimport firebase from \"../../../../firebase/firebase\"\nimport axios from 'axios'\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardBody,\n  FormGroup,\n  Row,\n  Col,\n  Input,\n  Form,\n  Button,\n  Label,\n  CustomInput,\n  CardImg\n} from \"reactstrap\"\n\nimport img1 from \"../../../../assets/img/pages/1.png\"\nimport img2 from \"../../../../assets/img/pages/2.png\"\n\n\nimport Checkbox from \"../../../../components/@vuexy/checkbox/CheckboxesVuexy\"\nimport { Check, Star, Save, Send } from \"react-feather\"\nimport { history } from \"../../../../../src/history\"\nimport Select from \"react-select\"\nimport SweetAlert from \"react-bootstrap-sweetalert\"\nimport Spinner from \"../../../../components/@vuexy/spinner/Fallback-spinner\"\nimport Toggle from \"react-toggle\"\nimport \"react-toggle/style.css\"\nimport \"../../../../assets/scss/plugins/forms/switch/react-toggle.scss\"\n\n\nclass KaryawanAdd extends React.Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      myProfile:null,\n      isSweetAlert: false,\n      sweetAlertTitle: 'Judul',\n      sweetAlertText: 'Text',\n      sweetAlertType: 'warning',\n      isSweetAlertConfirm: false,\n      sweetAlertTitleConfirm: 'Judul',\n      sweetAlertTextConfirm: 'Text',\n      sweetAlertTypeConfirm: 'warning',\n      dataDepartement: [],\n      departementSelected: null,\n      nik: '',\n      nama: '',\n      jobLevel: '1',\n      isChecked: true\n    }\n}\n\ncomponentDidMount = async() => {\n    await this.isLogin(\"super_admin\")\n    await this.tarikDepartemen()\n}\n\nsubmitForm = async() =>{\n\n\n    if (this.state.nik == '' || this.state.nik == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'NIK Tidak Boleh Kosong', 'warning')}\n    if (this.state.nama == '' || this.state.nama == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Nama Lengkap Tidak Boleh Kosong', 'warning')}\n    if (this.state.jobLevel == '' || this.state.jobLevel == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Job Level Tidak Boleh Kosong', 'warning')}\n    if (this.state.departementSelected == '' || this.state.departementSelected == null) {return await this.handleAlert('isSweetAlert', true, 'Warning', 'Departemen Tidak Boleh Kosong', 'warning')}\n    else {\n  \n      this.setState({isLoading: true})\n\n        var active = this.state.isChecked? 'Y':'N'\n        var pass = 'onekalbe21'  \n        var role = 'op_df'\n\n        if (this.state.jobLevel == '1' || this.state.jobLevel == '2' || this.state.jobLevel == '3') {\n            role = 'op_df'\n        }\n        if (this.state.jobLevel == '4'){\n            role = 'spv_df'\n        }\n        if (this.state.jobLevel == '5'){\n            role = 'spv_df'\n        }\n\n        //besok cek NIK dulu\n        var sql = `\n           select id, nik from df_master_user where nik = '`+this.state.nik+`'\n        `\n\n        \n        console.log('sql : ', sql)\n  \n        var result = await axios.post(api_query, {\n                                    query : sql\n                                })\n                                    .then(async(result) => {\n                                    let res = result.data.response.rows\n                                    \n                                    if (res.length == '') {\n                                      // query insert\n                                       var sql2 = `\n                                        INSERT INTO df_master_user\n                                        (nik, name, password, role, job_level, departement_id, active)\n                                        VALUES('`+this.state.nik+`', '`+this.state.nama+`', df_encrypt('`+pass+`'), '`+role+`', '`+this.state.jobLevel+`', `+this.state.departementSelected+`, '`+active+`')\n                                       `\n                                          var result2 = await axios.post(api_query,{\n                                                                  query: sql2\n                                          }).then(async(result) => {\n                                            let res2 = result.data.response.rows\n                                            return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil tambah karyawan', 'success')\n\n                                          }).catch(async(err)=>{\n                                            console.log('error: ', err)\n                                            return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal tambah karyawan', 'danger')\n                                          })\n\n                                    }else{\n                                      return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Warning', 'NIK Sudah digunakan', 'warning')\n                                    }\n\n                                    // Beda dgn sweetAlert yg lain\n                                    // return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Success', 'Berhasil tambah karyawan', 'success')\n                                    // this.props.changeViewPage('page')\n                                }).catch(async(err) => {\n                                    console.log('error : ', err)\n                                    return await this.handleAlertConfirm('isSweetAlertConfirm', true, 'Danger', 'Gagal tambah karyawan', 'danger')\n                                    // return []\n                                })\n  \n    this.setState({isLoading: false})\n  \n  \n  }\n}\n\ntarikDepartemen = async() =>{\n\n    let sql = `\n      select  id as value,\n              nama_departemen as label\n      from df_master_departement\n    `\n  \n    var result = await axios.post(api_query, {\n                                query : sql\n                            })\n                                .then(async(result) => {\n                                  var res = result.data.response.rows\n                                //   console.log('result query kategori : ', res)\n                                  if (res.length == '') {\n                                      return []\n                                  }\n  \n                                  await this.setState({dataDepartement: res})\n  \n                                }).catch(err => {\n                                    console.log('error : ', err)\n                                    return []\n                                })\n      // await this.setState({data: result})\n  }\n  \n\nisLogin = async(role) =>{\n  if (localStorage.getItem('account') == undefined || localStorage.getItem('account') == null) {\n    history.push(\"/pages/login\")\n  }else if(JSON.parse(localStorage.getItem('account')).role !== role){\n    history.push(\"/pages/login\")\n  }\n  else{\n    var myProfile = JSON.parse(localStorage.getItem('account'))\n    console.log('myProfile ss : ', myProfile)\n    this.setState({myProfile: myProfile})\n  }\n}\n\nhandleAlertConfirm = (state, value, title, text, type) => {\n\n  if (value) {\n    this.setState({ [state] : value })\n    this.setState({sweetAlertTitleConfirm: title, sweetAlertTextConfirm: text, sweetAlertTypeConfirm: type});\n  }else{\n    this.setState({ [state] : value })\n    this.props.changeViewPage('page')\n}\n  // if(text == \"Berhasil membuat SS\"){\n  //   this.setState({ [state] : value })\n  //   this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n  //   // this.props.changeViewPage('page')\n  // }else{}\n}\n\nhandleAlert = (state, value, title, text, type) => {\n    if (value) {\n      this.setState({ [state] : value })\n      this.setState({sweetAlertTitle: title, sweetAlertText: text, sweetAlertType: type});\n    }else{\n      this.setState({ [state] : value })\n    }\n}\n\n\n  render() {\n    return (\n      <>\n      {this.state.isLoading?\n        <Spinner/>\n      :\n      <div>\n        <Button.Ripple color=\"none\" className=\"bg-gradient-warning mb-1\" onClick={() => this.props.changeViewPage()}>Back</Button.Ripple>\n\n        <Card>\n        <CardHeader>\n          <CardTitle>Tambah Karyawan</CardTitle>\n        </CardHeader>\n        <CardBody>\n          <Form>\n            <Row>\n                <Col sm=\"12\">\n                    <FormGroup>\n                    <Label for=\"ssTema\">NIK</Label>\n                    <Input\n                        type=\"text\"\n                        name=\"nik\"\n                        id=\"nik\"\n                        placeholder=\"NIK\"\n                        value={this.state.nik}\n                        onChange={(val)=>this.setState({nik: val.target.value})}\n                    />\n                    </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                    <FormGroup>\n                    <Label for=\"ssTema\">Nama Lengkap</Label>\n                    <Input\n                        type=\"text\"\n                        name=\"nama\"\n                        id=\"nama\"\n                        placeholder=\"Nama Lengkap\"\n                        value={this.state.nama}\n                        onChange={(val)=>this.setState({nama: val.target.value})}\n                    />\n                    </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                    <FormGroup>\n                    <Label for=\"\">Pilih Departemen</Label>\n                    <Select\n                        className=\"React\"\n                        classNamePrefix=\"select\"\n                        name=\"clear\"\n                        options={this.state.dataDepartement}\n                        onChange={(val)=>this.setState({departementSelected: val.value})}\n                    />\n                    </FormGroup>\n                </Col>\n                <Col sm=\"12\">\n                  <FormGroup>\n                    <Label for=\"ssTema\">Job Level</Label>\n                    <Input\n                      type=\"text\"\n                      name=\"jobLevel\"\n                      id=\"jobLevel\"\n                      placeholder=\"Job Level (1 - 5)\"\n                      value={this.state.jobLevel}\n                      onChange={(val)=>this.setState({jobLevel: val.target.value})}\n                      // disabled\n                    />\n                  </FormGroup>\n                </Col>\n                <Col sm=\"3\">\n                  <FormGroup>\n                    <label className=\"react-toggle-wrapper\">\n                      Status Aktif Karyawan :\n                      <Toggle\n                        checked={this.state.isChecked}\n                        onChange={()=> this.setState({isChecked: !this.state.isChecked})}\n                        name=\"controlledSwitch\"\n                        className={\"ml-1\"}\n                      />\n                    </label>\n                  </FormGroup>\n                </Col>\n\n              <Col sm=\"12\">\n                <FormGroup>\n                  <div className=\"d-flex flex-wrap justify-content-end\">\n                    <div className=\"justify-content-end\">\n                      {/* <Button color=\"none\" className=\"bg-gradient-warning mr-1\" onClick={() => this.saveForm()}>\n                        <span className='align-middle ml-25'>Simpan  </span>\n                        <Save size={14}/>\n                      </Button> */}\n                      <Button color=\"none\" className=\"bg-gradient-success\" onClick={() => this.submitForm()}>\n                        {/* Kirim */}\n                        <span className='align-middle ml-25'>Buat Karyawan  </span>\n                        <Send size={14}/>\n                      </Button>\n                    </div>\n                  </div>\n                </FormGroup>\n              </Col>\n            </Row>\n          </Form>\n        </CardBody>\n      </Card>\n      </div>\n      }\n      \n        <SweetAlert type={this.state.sweetAlertType} title={this.state.sweetAlertTitle}\n          show={this.state.isSweetAlert}\n          onConfirm={() => this.handleAlert(\"isSweetAlert\", false)}\n        >\n            <p className=\"sweet-alert-text\">\n              {this.state.sweetAlertText}\n            </p>\n        </SweetAlert>\n\n        <SweetAlert type={this.state.sweetAlertTypeConfirm} title={this.state.sweetAlertTitleConfirm}\n          show={this.state.isSweetAlertConfirm}\n          onConfirm={() => this.handleAlertConfirm(\"isSweetAlertConfirm\", false)}\n        >\n            <p className=\"sweet-alert-text\">\n              {this.state.sweetAlertTextConfirm}\n            </p>\n        </SweetAlert>\n      </>\n    )\n  }\n}\nexport default KaryawanAdd\n"]},"metadata":{},"sourceType":"module"}