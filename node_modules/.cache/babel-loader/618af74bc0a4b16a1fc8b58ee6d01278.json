{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";import{history}from\"../../../history\";export var getTodos=function getTodos(routeParams){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"api/apps/todo\",{params:routeParams}).then(function(result){dispatch({type:\"GET_TODOS\",todos:result.data,routeParams:routeParams});}).catch(function(err){return console.log(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var completeTask=function completeTask(todo){return function(dispatch){dispatch({type:\"COMPLETE_TASK\",id:todo.id,value:todo.isCompleted});};};export var starTask=function starTask(todo){return function(dispatch){Promise.all([dispatch({type:\"STAR_TASK\",id:todo.id,value:todo.isStarred})]);};};export var importantTask=function importantTask(todo){return function(dispatch){Promise.all([dispatch({type:\"IMPORTANT_TASK\",id:todo.id,value:todo.isImportant})]);};};export var trashTask=function trashTask(id){return function(dispatch,getState){var params=getState().todoApp.todo.routeParam;axios.post(\"/api/app/todo/trash-todo\",id).then(function(response){return dispatch({type:\"TRASH_TASK\",id:id});}).then(dispatch(getTodos(params)));};};export var updateTodo=function updateTodo(todo){var request=axios.post(\"/api/apps/todo/update-todo\",todo);return function(dispatch,getState){var params=getState().todoApp.todo.routeParam;request.then(function(response){Promise.all([dispatch({type:\"UPDATE_TODO\",todos:response.data})]).then(function(){return dispatch(getTodos(params));});});};};export var updateTask=function updateTask(id,title,desc){return function(dispatch){dispatch({type:\"UPDATE_TASK\",id:id,title:title,desc:desc});};};export var updateLabel=function updateLabel(id,label){return function(dispatch,getState){dispatch({type:\"UPDATE_LABEL\",label:label,id:id});};};export var addNewTask=function addNewTask(task){return function(dispatch,getState){var params=getState().todoApp.todo.routeParam;axios.post(\"/api/apps/todo/new-task\",{task:task}).then(function(response){dispatch({type:\"ADD_TASK\",task:task});dispatch(getTodos(params));});};};export var searchTask=function searchTask(val){return function(dispatch){dispatch({type:\"SEARCH_TASK\",val:val});};};export var changeFilter=function changeFilter(filter){return function(dispatch){dispatch({type:\"CHANGE_FILTER\",filter:filter});history.push(\"/todo/\".concat(filter));dispatch(getTodos({filter:filter}));};};","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/redux/actions/todo/index.js"],"names":["axios","history","getTodos","routeParams","dispatch","get","params","then","result","type","todos","data","catch","err","console","log","completeTask","todo","id","value","isCompleted","starTask","Promise","all","isStarred","importantTask","isImportant","trashTask","getState","todoApp","routeParam","post","response","updateTodo","request","updateTask","title","desc","updateLabel","label","addNewTask","task","searchTask","val","changeFilter","filter","push"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nimport { history } from \"../../../history\"\n\nexport const getTodos = routeParams => {\n  return async dispatch => {\n    await axios\n      .get(\"api/apps/todo\", {\n        params: routeParams\n      })\n      .then(result => {\n        dispatch({\n          type: \"GET_TODOS\",\n          todos: result.data,\n          routeParams\n        })\n      })\n      .catch(err => console.log(err))\n  }\n}\nexport const completeTask = todo => {\n  return dispatch => {\n    dispatch({ type: \"COMPLETE_TASK\", id: todo.id, value: todo.isCompleted })\n  }\n}\n\nexport const starTask = todo => {\n  return dispatch => {\n    Promise.all([\n      dispatch({ type: \"STAR_TASK\", id: todo.id, value: todo.isStarred })\n    ])\n  }\n}\n\nexport const importantTask = todo => {\n  \n  return dispatch => {\n    Promise.all([\n      dispatch({ type: \"IMPORTANT_TASK\", id: todo.id, value: todo.isImportant })\n    ])\n  }\n}\n\nexport const trashTask = id => {\n  return (dispatch, getState) => {\n    const params = getState().todoApp.todo.routeParam\n    axios\n      .post(\"/api/app/todo/trash-todo\", id)\n      .then(response => dispatch({ type: \"TRASH_TASK\", id }))\n      .then(dispatch(getTodos(params)))\n  }\n}\n\nexport const updateTodo = todo => {\n  const request = axios.post(\"/api/apps/todo/update-todo\", todo)\n  return (dispatch, getState) => {\n    const params = getState().todoApp.todo.routeParam\n    request.then(response => {\n      Promise.all([\n        dispatch({\n          type: \"UPDATE_TODO\",\n          todos: response.data\n        })\n      ]).then(() => dispatch(getTodos(params)))\n    })\n  }\n}\n\nexport const updateTask = (id, title, desc) => {\n  return dispatch => {\n    dispatch({ type: \"UPDATE_TASK\", id, title, desc })\n  }\n}\n\nexport const updateLabel = (id, label) => {\n  return (dispatch, getState) => {\n    dispatch({ type: \"UPDATE_LABEL\", label, id })\n  }\n}\n\nexport const addNewTask = task => {\n  return (dispatch, getState) => {\n    const params = getState().todoApp.todo.routeParam\n    axios.post(\"/api/apps/todo/new-task\", { task }).then(response => {\n      dispatch({ type: \"ADD_TASK\", task })\n      dispatch(getTodos(params))\n    })\n  }\n}\n\nexport const searchTask = val => {\n  return dispatch => {\n    dispatch({\n      type: \"SEARCH_TASK\",\n      val\n    })\n  }\n}\n\nexport const changeFilter = filter => {\n  return dispatch => {\n    dispatch({ type: \"CHANGE_FILTER\", filter })\n    history.push(`/todo/${filter}`)\n    dispatch(getTodos({ filter }))\n  }\n}\n"]},"metadata":{},"sourceType":"module"}