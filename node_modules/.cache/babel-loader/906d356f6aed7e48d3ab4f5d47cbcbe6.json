{"ast":null,"code":"import _toConsumableArray from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/pandusetiawan/Documents/react/df-v1.2/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";var initialState={data:[],params:null,allData:[],totalPages:0,filteredData:[],totalRecords:0,sortIndex:[]};var determinePopularity=function determinePopularity(val){if(val>=75)return{popValue:val,color:\"success\"};else if(val<75&&val>=55)return{popValue:val,color:\"primary\"};else if(val<55&&val>=35)return{popValue:val,color:\"warning\"};else if(val<35&&val>=0)return{popValue:val,color:\"danger\"};else return{popValue:0,color:\"danger\"};};var moveIndex=function moveIndex(arr,from,to){var el=arr[from];arr.splice(from,1);arr.splice(to,0,el);};var getIndex=function getIndex(arr,arr2,arr3){var params=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(arr2.length>0){var startIndex=arr.findIndex(function(i){return i.id===arr2[0].id;})+1;var endIndex=arr.findIndex(function(i){return i.id===arr2[arr2.length-1].id;})+1;var finalArr=[startIndex,endIndex];return arr3=finalArr;}else{var _finalArr=[arr.length-parseInt(params.perPage),arr.length];return arr3=_finalArr;}};var DataListReducer=function DataListReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"GET_DATA\":return _objectSpread(_objectSpread({},state),{},{data:action.data,totalPages:action.totalPages,params:action.params,sortIndex:getIndex(state.allData,action.data,state.sortIndex,action.params)});case\"GET_ALL_DATA\":return _objectSpread(_objectSpread({},state),{},{allData:action.data,totalRecords:action.data.length,sortIndex:getIndex(action.data,state.data,state.sortIndex)});case\"FILTER_DATA\":var value=action.value;var filteredData=[];if(value.length){filteredData=state.allData.filter(function(item){var startsWithCondition=item.name.toLowerCase().startsWith(value.toLowerCase())||item.category.toLowerCase().startsWith(value.toLowerCase())||item.price.toLowerCase().startsWith(value.toLowerCase())||item.order_status.toLowerCase().startsWith(value.toLowerCase());var includesCondition=item.name.toLowerCase().includes(value.toLowerCase())||item.category.toLowerCase().includes(value.toLowerCase())||item.price.toLowerCase().includes(value.toLowerCase())||item.order_status.toLowerCase().includes(value.toLowerCase());if(startsWithCondition){return startsWithCondition;}else if(!startsWithCondition&&includesCondition){return includesCondition;}else return null;}).slice(state.params.page-1,state.params.perPage);return _objectSpread(_objectSpread({},state),{},{filteredData:filteredData});}else{filteredData=state.data;return _objectSpread(_objectSpread({},state),{},{filteredData:filteredData});}case\"ADD_DATA\":var id=state.data.slice(-1)[0].id+1;state.data.push(_objectSpread(_objectSpread({},action.obj),{},{id:id,popularity:determinePopularity(action.obj.popularity)}));moveIndex(state.data,state.data.findIndex(function(item){return item.id===id;}),0);return _objectSpread(_objectSpread({},state),{},{data:state.data,totalRecords:state.allData.length,sortIndex:getIndex(state.allData,state.data,state.sortIndex)});case\"UPDATE_DATA\":state.data.find(function(item){if(item.id===action.obj.id){var popularity=determinePopularity(action.obj.popularity.popValue);return Object.assign(item,_objectSpread(_objectSpread({},action.obj),{},{popularity:popularity}));}else{return item;}});return _objectSpread({},state);case\"DELETE_DATA\":var index=state.data.findIndex(function(item){return item.id===action.obj.id;});var updatedData=_toConsumableArray(state.data);updatedData.splice(index,1);return _objectSpread(_objectSpread({},state),{},{data:updatedData,totalRecords:state.allData.length,sortIndex:getIndex(state.allData,state.data,state.sortIndex,state.params)});default:return state;}};export default DataListReducer;","map":{"version":3,"sources":["/Users/pandusetiawan/Documents/react/df-v1.2/src/redux/reducers/data-list/index.js"],"names":["initialState","data","params","allData","totalPages","filteredData","totalRecords","sortIndex","determinePopularity","val","popValue","color","moveIndex","arr","from","to","el","splice","getIndex","arr2","arr3","length","startIndex","findIndex","i","id","endIndex","finalArr","parseInt","perPage","DataListReducer","state","action","type","value","filter","item","startsWithCondition","name","toLowerCase","startsWith","category","price","order_status","includesCondition","includes","slice","page","push","obj","popularity","find","Object","assign","index","updatedData"],"mappings":"6UAAA,GAAMA,CAAAA,YAAY,CAAG,CACnBC,IAAI,CAAE,EADa,CAEnBC,MAAM,CAAE,IAFW,CAGnBC,OAAO,CAAE,EAHU,CAInBC,UAAU,CAAE,CAJO,CAKnBC,YAAY,CAAE,EALK,CAMnBC,YAAY,CAAE,CANK,CAOnBC,SAAS,CAAE,EAPQ,CAArB,CAUA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAAAC,GAAG,CAAI,CACjC,GAAIA,GAAG,EAAI,EAAX,CAAe,MAAO,CAAEC,QAAQ,CAAED,GAAZ,CAAiBE,KAAK,CAAE,SAAxB,CAAP,CAAf,IACK,IAAIF,GAAG,CAAG,EAAN,EAAYA,GAAG,EAAI,EAAvB,CAA2B,MAAO,CAAEC,QAAQ,CAAED,GAAZ,CAAiBE,KAAK,CAAE,SAAxB,CAAP,CAA3B,IACA,IAAIF,GAAG,CAAG,EAAN,EAAYA,GAAG,EAAI,EAAvB,CAA2B,MAAO,CAAEC,QAAQ,CAAED,GAAZ,CAAiBE,KAAK,CAAE,SAAxB,CAAP,CAA3B,IACA,IAAIF,GAAG,CAAG,EAAN,EAAYA,GAAG,EAAI,CAAvB,CAA0B,MAAO,CAAEC,QAAQ,CAAED,GAAZ,CAAiBE,KAAK,CAAE,QAAxB,CAAP,CAA1B,IACA,OAAO,CAAED,QAAQ,CAAE,CAAZ,CAAeC,KAAK,CAAE,QAAtB,CAAP,CACN,CAND,CAQA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,GAAD,CAAMC,IAAN,CAAYC,EAAZ,CAAmB,CACnC,GAAIC,CAAAA,EAAE,CAAGH,GAAG,CAACC,IAAD,CAAZ,CACAD,GAAG,CAACI,MAAJ,CAAWH,IAAX,CAAiB,CAAjB,EACAD,GAAG,CAACI,MAAJ,CAAWF,EAAX,CAAe,CAAf,CAAkBC,EAAlB,EACD,CAJD,CAMA,GAAME,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACL,GAAD,CAAMM,IAAN,CAAYC,IAAZ,CAAkC,IAAhBlB,CAAAA,MAAgB,2DAAP,EAAO,CACjD,GAAIiB,IAAI,CAACE,MAAL,CAAc,CAAlB,CAAqB,CACnB,GAAIC,CAAAA,UAAU,CAAGT,GAAG,CAACU,SAAJ,CAAc,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,EAAF,GAASN,IAAI,CAAC,CAAD,CAAJ,CAAQM,EAArB,EAAf,EAA0C,CAA3D,CACA,GAAIC,CAAAA,QAAQ,CAAGb,GAAG,CAACU,SAAJ,CAAc,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACC,EAAF,GAASN,IAAI,CAACA,IAAI,CAACE,MAAL,CAAc,CAAf,CAAJ,CAAsBI,EAAnC,EAAf,EAAwD,CAAvE,CACA,GAAIE,CAAAA,QAAQ,CAAG,CAACL,UAAD,CAAaI,QAAb,CAAf,CACA,MAAQN,CAAAA,IAAI,CAAGO,QAAf,CACD,CALD,IAKO,CACL,GAAIA,CAAAA,SAAQ,CAAG,CAACd,GAAG,CAACQ,MAAJ,CAAaO,QAAQ,CAAC1B,MAAM,CAAC2B,OAAR,CAAtB,CAAwChB,GAAG,CAACQ,MAA5C,CAAf,CACA,MAAQD,CAAAA,IAAI,CAAGO,SAAf,CACD,CACF,CAVD,CAYA,GAAMG,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzB/B,YAAyB,IAAXgC,CAAAA,MAAW,2CACxD,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,UAAL,CACE,sCACKF,KADL,MAEE9B,IAAI,CAAE+B,MAAM,CAAC/B,IAFf,CAGEG,UAAU,CAAE4B,MAAM,CAAC5B,UAHrB,CAIEF,MAAM,CAAE8B,MAAM,CAAC9B,MAJjB,CAKEK,SAAS,CAAEW,QAAQ,CACjBa,KAAK,CAAC5B,OADW,CAEjB6B,MAAM,CAAC/B,IAFU,CAGjB8B,KAAK,CAACxB,SAHW,CAIjByB,MAAM,CAAC9B,MAJU,CALrB,GAYF,IAAK,cAAL,CACE,sCACK6B,KADL,MAEE5B,OAAO,CAAE6B,MAAM,CAAC/B,IAFlB,CAGEK,YAAY,CAAE0B,MAAM,CAAC/B,IAAP,CAAYoB,MAH5B,CAIEd,SAAS,CAAEW,QAAQ,CAACc,MAAM,CAAC/B,IAAR,CAAc8B,KAAK,CAAC9B,IAApB,CAA0B8B,KAAK,CAACxB,SAAhC,CAJrB,GAMF,IAAK,aAAL,CACE,GAAI2B,CAAAA,KAAK,CAAGF,MAAM,CAACE,KAAnB,CACA,GAAI7B,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAI6B,KAAK,CAACb,MAAV,CAAkB,CAChBhB,YAAY,CAAG0B,KAAK,CAAC5B,OAAN,CACZgC,MADY,CACL,SAAAC,IAAI,CAAI,CACd,GAAIC,CAAAA,mBAAmB,CACrBD,IAAI,CAACE,IAAL,CAAUC,WAAV,GAAwBC,UAAxB,CAAmCN,KAAK,CAACK,WAAN,EAAnC,GACAH,IAAI,CAACK,QAAL,CAAcF,WAAd,GAA4BC,UAA5B,CAAuCN,KAAK,CAACK,WAAN,EAAvC,CADA,EAEAH,IAAI,CAACM,KAAL,CAAWH,WAAX,GAAyBC,UAAzB,CAAoCN,KAAK,CAACK,WAAN,EAApC,CAFA,EAGAH,IAAI,CAACO,YAAL,CAAkBJ,WAAlB,GAAgCC,UAAhC,CAA2CN,KAAK,CAACK,WAAN,EAA3C,CAJF,CAMA,GAAIK,CAAAA,iBAAiB,CACnBR,IAAI,CAACE,IAAL,CAAUC,WAAV,GAAwBM,QAAxB,CAAiCX,KAAK,CAACK,WAAN,EAAjC,GACAH,IAAI,CAACK,QAAL,CAAcF,WAAd,GAA4BM,QAA5B,CAAqCX,KAAK,CAACK,WAAN,EAArC,CADA,EAEAH,IAAI,CAACM,KAAL,CAAWH,WAAX,GAAyBM,QAAzB,CAAkCX,KAAK,CAACK,WAAN,EAAlC,CAFA,EAGAH,IAAI,CAACO,YAAL,CAAkBJ,WAAlB,GAAgCM,QAAhC,CAAyCX,KAAK,CAACK,WAAN,EAAzC,CAJF,CAMA,GAAIF,mBAAJ,CAAyB,CACvB,MAAOA,CAAAA,mBAAP,CACD,CAFD,IAEO,IAAI,CAACA,mBAAD,EAAwBO,iBAA5B,CAA+C,CACpD,MAAOA,CAAAA,iBAAP,CACD,CAFM,IAEA,OAAO,KAAP,CACR,CAnBY,EAoBZE,KApBY,CAoBNf,KAAK,CAAC7B,MAAN,CAAa6C,IAAb,CAAoB,CApBd,CAoBiBhB,KAAK,CAAC7B,MAAN,CAAa2B,OApB9B,CAAf,CAqBA,sCAAYE,KAAZ,MAAmB1B,YAAY,CAAZA,YAAnB,GACD,CAvBD,IAuBO,CACLA,YAAY,CAAG0B,KAAK,CAAC9B,IAArB,CACA,sCAAY8B,KAAZ,MAAmB1B,YAAY,CAAZA,YAAnB,GACD,CACH,IAAK,UAAL,CACE,GAAIoB,CAAAA,EAAE,CAAGM,KAAK,CAAC9B,IAAN,CAAW6C,KAAX,CAAiB,CAAC,CAAlB,EAAqB,CAArB,EAAwBrB,EAAxB,CAA6B,CAAtC,CACAM,KAAK,CAAC9B,IAAN,CAAW+C,IAAX,gCACKhB,MAAM,CAACiB,GADZ,MAEExB,EAAE,CAAFA,EAFF,CAGEyB,UAAU,CAAE1C,mBAAmB,CAACwB,MAAM,CAACiB,GAAP,CAAWC,UAAZ,CAHjC,IAKAtC,SAAS,CACPmB,KAAK,CAAC9B,IADC,CAEP8B,KAAK,CAAC9B,IAAN,CAAWsB,SAAX,CAAqB,SAAAa,IAAI,QAAIA,CAAAA,IAAI,CAACX,EAAL,GAAYA,EAAhB,EAAzB,CAFO,CAGP,CAHO,CAAT,CAKA,sCACKM,KADL,MAEE9B,IAAI,CAAE8B,KAAK,CAAC9B,IAFd,CAGEK,YAAY,CAAEyB,KAAK,CAAC5B,OAAN,CAAckB,MAH9B,CAIEd,SAAS,CAAEW,QAAQ,CAACa,KAAK,CAAC5B,OAAP,CAAgB4B,KAAK,CAAC9B,IAAtB,CAA4B8B,KAAK,CAACxB,SAAlC,CAJrB,GAMF,IAAK,aAAL,CACEwB,KAAK,CAAC9B,IAAN,CAAWkD,IAAX,CAAgB,SAAAf,IAAI,CAAI,CACtB,GAAIA,IAAI,CAACX,EAAL,GAAYO,MAAM,CAACiB,GAAP,CAAWxB,EAA3B,CAA+B,CAC7B,GAAIyB,CAAAA,UAAU,CAAG1C,mBAAmB,CAACwB,MAAM,CAACiB,GAAP,CAAWC,UAAX,CAAsBxC,QAAvB,CAApC,CACA,MAAO0C,CAAAA,MAAM,CAACC,MAAP,CAAcjB,IAAd,gCAAyBJ,MAAM,CAACiB,GAAhC,MAAqCC,UAAU,CAAVA,UAArC,GAAP,CACD,CAHD,IAGO,CACL,MAAOd,CAAAA,IAAP,CACD,CACF,CAPD,EAQA,wBAAYL,KAAZ,EACF,IAAK,aAAL,CACE,GAAIuB,CAAAA,KAAK,CAAGvB,KAAK,CAAC9B,IAAN,CAAWsB,SAAX,CAAqB,SAAAa,IAAI,QAAIA,CAAAA,IAAI,CAACX,EAAL,GAAYO,MAAM,CAACiB,GAAP,CAAWxB,EAA3B,EAAzB,CAAZ,CACA,GAAI8B,CAAAA,WAAW,oBAAOxB,KAAK,CAAC9B,IAAb,CAAf,CACAsD,WAAW,CAACtC,MAAZ,CAAmBqC,KAAnB,CAA0B,CAA1B,EACA,sCACKvB,KADL,MAEE9B,IAAI,CAAEsD,WAFR,CAGEjD,YAAY,CAAEyB,KAAK,CAAC5B,OAAN,CAAckB,MAH9B,CAIEd,SAAS,CAAEW,QAAQ,CACjBa,KAAK,CAAC5B,OADW,CAEjB4B,KAAK,CAAC9B,IAFW,CAGjB8B,KAAK,CAACxB,SAHW,CAIjBwB,KAAK,CAAC7B,MAJW,CAJrB,GAWF,QACE,MAAO6B,CAAAA,KAAP,CA/FJ,CAiGD,CAlGD,CAoGA,cAAeD,CAAAA,eAAf","sourcesContent":["const initialState = {\n  data: [],\n  params: null,\n  allData: [],\n  totalPages: 0,\n  filteredData: [],\n  totalRecords: 0,\n  sortIndex: []\n}\n\nconst determinePopularity = val => {\n  if (val >= 75) return { popValue: val, color: \"success\" }\n  else if (val < 75 && val >= 55) return { popValue: val, color: \"primary\" }\n  else if (val < 55 && val >= 35) return { popValue: val, color: \"warning\" }\n  else if (val < 35 && val >= 0) return { popValue: val, color: \"danger\" }\n  else return { popValue: 0, color: \"danger\" }\n}\n\nconst moveIndex = (arr, from, to) => {\n  let el = arr[from]\n  arr.splice(from, 1)\n  arr.splice(to, 0, el)\n}\n\nconst getIndex = (arr, arr2, arr3, params = {}) => {\n  if (arr2.length > 0) {\n    let startIndex = arr.findIndex(i => i.id === arr2[0].id) + 1\n    let endIndex = arr.findIndex(i => i.id === arr2[arr2.length - 1].id) + 1\n    let finalArr = [startIndex, endIndex]\n    return (arr3 = finalArr)\n  } else {\n    let finalArr = [arr.length - parseInt(params.perPage), arr.length]\n    return (arr3 = finalArr)\n  }\n}\n\nconst DataListReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"GET_DATA\":\n      return {\n        ...state,\n        data: action.data,\n        totalPages: action.totalPages,\n        params: action.params,\n        sortIndex: getIndex(\n          state.allData,\n          action.data,\n          state.sortIndex,\n          action.params\n        )\n      }\n    case \"GET_ALL_DATA\":\n      return {\n        ...state,\n        allData: action.data,\n        totalRecords: action.data.length,\n        sortIndex: getIndex(action.data, state.data, state.sortIndex)\n      }\n    case \"FILTER_DATA\":\n      let value = action.value\n      let filteredData = []\n      if (value.length) {\n        filteredData = state.allData\n          .filter(item => {\n            let startsWithCondition =\n              item.name.toLowerCase().startsWith(value.toLowerCase()) ||\n              item.category.toLowerCase().startsWith(value.toLowerCase()) ||\n              item.price.toLowerCase().startsWith(value.toLowerCase()) ||\n              item.order_status.toLowerCase().startsWith(value.toLowerCase())\n\n            let includesCondition =\n              item.name.toLowerCase().includes(value.toLowerCase()) ||\n              item.category.toLowerCase().includes(value.toLowerCase()) ||\n              item.price.toLowerCase().includes(value.toLowerCase()) ||\n              item.order_status.toLowerCase().includes(value.toLowerCase())\n\n            if (startsWithCondition) {\n              return startsWithCondition\n            } else if (!startsWithCondition && includesCondition) {\n              return includesCondition\n            } else return null\n          })\n          .slice(state.params.page - 1, state.params.perPage)\n        return { ...state, filteredData }\n      } else {\n        filteredData = state.data\n        return { ...state, filteredData }\n      }\n    case \"ADD_DATA\":\n      let id = state.data.slice(-1)[0].id + 1\n      state.data.push({\n        ...action.obj,\n        id,\n        popularity: determinePopularity(action.obj.popularity)\n      })\n      moveIndex(\n        state.data,\n        state.data.findIndex(item => item.id === id),\n        0\n      )\n      return {\n        ...state,\n        data: state.data,\n        totalRecords: state.allData.length,\n        sortIndex: getIndex(state.allData, state.data, state.sortIndex)\n      }\n    case \"UPDATE_DATA\":\n      state.data.find(item => {\n        if (item.id === action.obj.id) {\n          let popularity = determinePopularity(action.obj.popularity.popValue)\n          return Object.assign(item, { ...action.obj, popularity })\n        } else {\n          return item\n        }\n      })\n      return { ...state }\n    case \"DELETE_DATA\":\n      let index = state.data.findIndex(item => item.id === action.obj.id)\n      let updatedData = [...state.data]\n      updatedData.splice(index, 1)\n      return {\n        ...state,\n        data: updatedData,\n        totalRecords: state.allData.length,\n        sortIndex: getIndex(\n          state.allData,\n          state.data,\n          state.sortIndex,\n          state.params\n        )\n      }\n    default:\n      return state\n  }\n}\n\nexport default DataListReducer\n"]},"metadata":{},"sourceType":"module"}