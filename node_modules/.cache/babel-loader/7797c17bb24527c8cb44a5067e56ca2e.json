{"ast":null,"code":"import _objectSpread from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";var initialState={mails:[],params:null,query:null,selectedEmails:[],filteredMails:[]};var emails=function emails(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"GET_MAILS\":var mails=_toConsumableArray(state.mails);mails=action.mails;return _objectSpread(_objectSpread({},state),{},{mails:mails,params:action.routeParams});case\"SET_STARRED\":state.mails.find(function(i){return i.id===action.mailId;}).isStarred=!state.mails.find(function(i){return i.id===action.mailId;}).isStarred;return _objectSpread({},state);case\"SEARCH_MAIL\":var filteredMails=state.mails.filter(function(val){if(action.query.length>0){return val.sender_name.toLowerCase().includes(action.query)||val.sender.toLowerCase().includes(action.query)||val.message.includes(action.query)||val.subject.toLowerCase().includes(action.query);}else{return state.mails;}});return _objectSpread(_objectSpread({},state),{},{query:action.query,filteredMails:filteredMails});case\"SELECT_MAIL\":var mailId=action.id;var selectedEmails=_toConsumableArray(state.selectedEmails);if(selectedEmails.find(function(id){return id===mailId;})!==undefined){selectedEmails=selectedEmails.filter(function(id){return id!==mailId;});}else{selectedEmails=[].concat(_toConsumableArray(selectedEmails),[mailId]);}return _objectSpread(_objectSpread({},state),{},{selectedEmails:selectedEmails});case\"SELECT_ALL_MAILS\":var arr=Object.keys(state.mails).map(function(k){return state.mails[k];});var selectedEmailsID=arr.map(function(mail){return mail.id;});return _objectSpread(_objectSpread({},state),{},{selectedEmails:selectedEmailsID});case\"DESELECT_ALL_MAILS\":{return _objectSpread(_objectSpread({},state),{},{selectedEmails:[]});}case\"MOVE_MAIL\":return _objectSpread(_objectSpread({},state),{},{selectedEmails:[]});case\"SET_UNREAD\":var updatedEmails=action.id.forEach(function(mailId){var mailIndex=state.mails.findIndex(function(mail){return mail.id===mailId;});if(mailIndex!==-1)state.mails[mailIndex].unread=action.unreadFlag;state.selectedEmails=[];});return _objectSpread(_objectSpread({},state),{},{updatedEmails:updatedEmails});case\"CHANGE_FILTER\":state.params=action.filter;return _objectSpread({},state);default:return _objectSpread({},state);}};export default emails;","map":null,"metadata":{},"sourceType":"module"}