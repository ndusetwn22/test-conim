{"ast":null,"code":"import _objectSpread from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{searchResult}from\"../../../@fake-db/navbar/navbarBookmarkSearch\";var defaultStarred=searchResult.filter(function(item){return item.starred===true;});var initialState={suggestions:[],isLoading:false,value:\"\",starred:defaultStarred,noSuggestions:false,extraStarred:[]};var navbarReducer=function navbarReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case\"MAYBE_UPDATE_SUGGESTIONS\":return _objectSpread(_objectSpread({},state),{},{suggestions:action.suggestions,isLoading:false});case\"UPDATE_STARRED\":var starredState=state.starred.map(function(i){return i.id;});var extraStarredState=state.extraStarred.map(function(j){return j.id;});// Update main suggestions\nif(state){state.suggestions.find(function(i){if(i.id===action.object.id){i.starred=!action.object.starred;return _objectSpread({},state);}else{return null;}});}// checks if it includes and length is 0 < 10 then pushes object\nif(!starredState.includes(action.object.id)&&state.starred.length<10){var newState=state.starred.push(action.object);return _objectSpread(_objectSpread({},state),{},{newState:newState});}// checks if it already includes and then removes it\nelse if(starredState.includes(action.object.id)){if(state.extraStarred.length===0){var _newState=state.starred.splice(starredState.indexOf(action.object.id),1);return _objectSpread(_objectSpread({},state),{},{newState:_newState});}else if(state.extraStarred.length>0){var getBookmark=state.extraStarred.splice(0,1);state.starred.splice(starredState.indexOf(action.object.id),1);var updatedState=state.starred.push(getBookmark[0]);return _objectSpread(_objectSpread({},state),{},{updatedState:updatedState});}else{return _objectSpread({},state);}}// checks if extraState doesn't includes and main starred length is 10+\nelse if(!extraStarredState.includes(action.object.id)&&state.starred.length>=10){var extraStarred=state.extraStarred.concat(action.object);return _objectSpread(_objectSpread({},state),{},{extraStarred:extraStarred});}else{return _objectSpread({},state);}default:return state;}};export default navbarReducer;","map":null,"metadata":{},"sourceType":"module"}