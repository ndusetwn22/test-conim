{"ast":null,"code":"var _jsxFileName = \"E:\\\\react\\\\rombak-react-vuexy2\\\\src\\\\layouts\\\\components\\\\menu\\\\vertical-menu\\\\sidemenu\\\\SideMenuContent.js\";\nimport React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport navigationConfig from \"../../../../../configs/navigationConfig\";\nimport SideMenuGroup from \"./SideMenuGroup\";\nimport { Badge } from \"reactstrap\";\nimport { ChevronRight } from \"react-feather\";\nimport { FormattedMessage } from \"react-intl\";\nimport { history } from \"../../../../../history\";\n\nclass SideMenuContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      flag: true,\n      isHovered: false,\n      activeGroups: [],\n      currentActiveGroup: [],\n      tempArr: []\n    };\n\n    this.handleGroupClick = (id, parent = null, type = \"\") => {\n      let open_group = this.state.activeGroups;\n      let active_group = this.state.currentActiveGroup;\n      let temp_arr = this.state.tempArr; // Active Group to apply sidebar-group-active class\n\n      if (type === \"item\" && parent === null) {\n        active_group = [];\n        temp_arr = [];\n      } else if (type === \"item\" && parent !== null) {\n        active_group = [];\n\n        if (temp_arr.includes(parent)) {\n          temp_arr.splice(temp_arr.indexOf(parent) + 1, temp_arr.length);\n        } else {\n          temp_arr = [];\n          temp_arr.push(parent);\n        }\n\n        active_group = temp_arr.slice(0);\n      } else if (type === \"collapse\" && parent === null) {\n        temp_arr = [];\n        temp_arr.push(id);\n      } else if (type === \"collapse\" && parent !== null) {\n        if (active_group.includes(parent)) {\n          temp_arr = active_group.slice(0);\n        }\n\n        if (temp_arr.includes(id)) {\n          // temp_arr.splice(temp_arr.indexOf(id), 1)\n          temp_arr.splice(temp_arr.indexOf(id), temp_arr.length);\n        } else {\n          temp_arr.push(id);\n        }\n      } else {\n        temp_arr = [];\n      }\n\n      if (type === \"collapse\") {\n        // If open group does not include clicked group item\n        if (!open_group.includes(id)) {\n          // Get unmatched items that are not in the active group\n          let temp = open_group.filter(function (obj) {\n            return active_group.indexOf(obj) === -1;\n          }); // Remove those unmatched items from open group\n\n          if (temp.length > 0 && !open_group.includes(parent)) {\n            open_group = open_group.filter(function (obj) {\n              return !temp.includes(obj);\n            });\n          }\n\n          if (open_group.includes(parent) && active_group.includes(parent)) {\n            open_group = active_group.slice(0);\n          } // Add group item clicked in open group\n\n\n          if (!open_group.includes(id)) {\n            open_group.push(id);\n          }\n        } else {\n          // If open group includes click group item, remove it from open group\n          open_group.splice(open_group.indexOf(id), 1);\n        }\n      }\n\n      if (type === \"item\") {\n        open_group = active_group.slice(0);\n      }\n\n      this.setState({\n        activeGroups: open_group,\n        tempArr: temp_arr,\n        currentActiveGroup: active_group\n      });\n    };\n\n    this.initRender = parentArr => {\n      this.setState({\n        activeGroups: parentArr.slice(0),\n        currentActiveGroup: parentArr.slice(0),\n        flag: false\n      });\n    };\n\n    this.parentArr = [];\n    this.collapsedPath = null;\n\n    this.redirectUnauthorized = () => {\n      history.push(\"/misc/not-authorized\");\n    };\n  }\n\n  componentDidMount() {\n    this.initRender(this.parentArr[0] ? this.parentArr[0] : []);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.activePath !== this.props.activePath) {\n      if (this.collapsedMenuPaths !== null) {\n        this.props.collapsedMenuPaths(this.collapsedMenuPaths);\n      }\n\n      this.initRender(this.parentArr[0] ? this.parentArr[this.parentArr.length - 1] : []);\n    }\n  }\n\n  render() {\n    // Loop over sidebar items\n    // eslint-disable-next-line\n    const menuItems = navigationConfig.map(item => {\n      const CustomAnchorTag = item.type === \"external-link\" ? `a` : Link; // checks if item has groupheader\n\n      if (item.type === \"groupHeader\") {\n        return /*#__PURE__*/React.createElement(\"li\", {\n          className: \"navigation-header\",\n          key: `group-header-${item.groupTitle}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }\n        }, item.groupTitle));\n      }\n\n      let renderItem = /*#__PURE__*/React.createElement(\"li\", {\n        className: classnames(\"nav-item\", {\n          \"has-sub\": item.type === \"collapse\",\n          open: this.state.activeGroups.includes(item.id),\n          \"sidebar-group-active\": this.state.currentActiveGroup.includes(item.id),\n          hover: this.props.hoverIndex === item.id,\n          active: this.props.activeItemState === item.navLink && item.type === \"item\" || item.parentOf && item.parentOf.includes(this.props.activeItemState),\n          disabled: item.disabled\n        }),\n        key: item.id,\n        onClick: e => {\n          e.stopPropagation();\n\n          if (item.type === \"item\") {\n            this.props.handleActiveItem(item.navLink);\n            this.handleGroupClick(item.id, null, item.type);\n\n            if (this.props.deviceWidth <= 1200 && item.type === \"item\") {\n              this.props.toggleMenu();\n            }\n          } else {\n            this.handleGroupClick(item.id, null, item.type);\n          }\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(CustomAnchorTag, {\n        to: item.filterBase ? item.filterBase : item.navLink && item.type === \"item\" ? item.navLink : \"\",\n        href: item.type === \"external-link\" ? item.navLink : \"\",\n        className: `d-flex ${item.badgeText ? \"justify-content-between\" : \"justify-content-start\"}`,\n        onMouseEnter: () => {\n          this.props.handleSidebarMouseEnter(item.id);\n        },\n        onMouseLeave: () => {\n          this.props.handleSidebarMouseEnter(item.id);\n        },\n        key: item.id,\n        onClick: e => {\n          return item.type === \"collapse\" ? e.preventDefault() : \"\";\n        },\n        target: item.newTab ? \"_blank\" : undefined,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"menu-text\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }\n      }, item.icon, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"menu-item menu-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(FormattedMessage, {\n        id: item.title,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }))), item.badge ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"menu-badge\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Badge, {\n        color: item.badge,\n        className: \"mr-1\",\n        pill: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }\n      }, item.badgeText)) : \"\", item.type === \"collapse\" ? /*#__PURE__*/React.createElement(ChevronRight, {\n        className: \"menu-toggle-icon\",\n        size: 13,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }\n      }) : \"\"), item.type === \"collapse\" ? /*#__PURE__*/React.createElement(SideMenuGroup, {\n        group: item,\n        handleGroupClick: this.handleGroupClick,\n        activeGroup: this.state.activeGroups,\n        handleActiveItem: this.props.handleActiveItem,\n        activeItemState: this.props.activeItemState,\n        handleSidebarMouseEnter: this.props.handleSidebarMouseEnter,\n        activePath: this.props.activePath,\n        hoverIndex: this.props.hoverIndex,\n        initRender: this.initRender,\n        parentArr: this.parentArr,\n        triggerActive: undefined,\n        currentActiveGroup: this.state.currentActiveGroup // permission={this.props.permission}\n        // currentUser={this.props.currentUser}\n        ,\n        redirectUnauthorized: this.redirectUnauthorized,\n        collapsedMenuPaths: this.props.collapsedMenuPaths,\n        toggleMenu: this.props.toggleMenu,\n        deviceWidth: this.props.deviceWidth,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }\n      }) : \"\");\n\n      if (item.navLink && item.collapsed !== undefined && item.collapsed === true) {\n        this.collapsedPath = item.navLink;\n        this.props.collapsedMenuPaths(item.navLink);\n      }\n\n      if (item.type === \"collapse\" || item.type === \"external-link\") {\n        return renderItem;\n      } else if (item.type === \"item\" && item.navLink === this.props.activePath) {\n        return this.redirectUnauthorized();\n      }\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 12\n      }\n    }, menuItems);\n  }\n\n}\n\nexport default SideMenuContent;","map":{"version":3,"sources":["E:/react/rombak-react-vuexy2/src/layouts/components/menu/vertical-menu/sidemenu/SideMenuContent.js"],"names":["React","Link","classnames","navigationConfig","SideMenuGroup","Badge","ChevronRight","FormattedMessage","history","SideMenuContent","Component","constructor","props","state","flag","isHovered","activeGroups","currentActiveGroup","tempArr","handleGroupClick","id","parent","type","open_group","active_group","temp_arr","includes","splice","indexOf","length","push","slice","temp","filter","obj","setState","initRender","parentArr","collapsedPath","redirectUnauthorized","componentDidMount","componentDidUpdate","prevProps","prevState","activePath","collapsedMenuPaths","render","menuItems","map","item","CustomAnchorTag","groupTitle","renderItem","open","hover","hoverIndex","active","activeItemState","navLink","parentOf","disabled","e","stopPropagation","handleActiveItem","deviceWidth","toggleMenu","filterBase","badgeText","handleSidebarMouseEnter","preventDefault","newTab","undefined","icon","title","badge","collapsed"],"mappings":"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","sourcesContent":["import React from \"react\"\nimport { Link } from \"react-router-dom\"\nimport classnames from \"classnames\"\nimport navigationConfig from \"../../../../../configs/navigationConfig\"\nimport SideMenuGroup from \"./SideMenuGroup\"\nimport { Badge } from \"reactstrap\"\nimport { ChevronRight } from \"react-feather\"\nimport { FormattedMessage } from \"react-intl\"\nimport { history } from \"../../../../../history\"\n\nclass SideMenuContent extends React.Component {\n  constructor(props) {\n    super(props)\n\n    this.parentArr = []\n    this.collapsedPath = null\n    this.redirectUnauthorized = () => {\n      history.push(\"/misc/not-authorized\")\n    }\n  }\n  state = {\n    flag: true,\n    isHovered: false,\n    activeGroups: [],\n    currentActiveGroup: [],\n    tempArr: []\n  }\n\n  handleGroupClick = (id, parent = null, type = \"\") => {\n    let open_group = this.state.activeGroups\n    let active_group = this.state.currentActiveGroup\n    let temp_arr = this.state.tempArr\n    // Active Group to apply sidebar-group-active class\n    if (type === \"item\" && parent === null) {\n      active_group = []\n      temp_arr = []\n    } else if (type === \"item\" && parent !== null) {\n      active_group = []\n      if (temp_arr.includes(parent)) {\n        temp_arr.splice(temp_arr.indexOf(parent) + 1, temp_arr.length)\n      } else {\n        temp_arr = []\n        temp_arr.push(parent)\n      }\n      active_group = temp_arr.slice(0)\n    } else if (type === \"collapse\" && parent === null) {\n      temp_arr = []\n      temp_arr.push(id)\n    } else if (type === \"collapse\" && parent !== null) {\n      if (active_group.includes(parent)) {\n        temp_arr = active_group.slice(0)\n      }\n      if (temp_arr.includes(id)) {\n        // temp_arr.splice(temp_arr.indexOf(id), 1)\n        temp_arr.splice(temp_arr.indexOf(id), temp_arr.length)\n      } else {\n        temp_arr.push(id)\n      }\n    } else {\n      temp_arr = []\n    }\n\n    if (type === \"collapse\") {\n      // If open group does not include clicked group item\n      if (!open_group.includes(id)) {\n        // Get unmatched items that are not in the active group\n        let temp = open_group.filter(function(obj) {\n          return active_group.indexOf(obj) === -1\n        })\n        // Remove those unmatched items from open group\n        if (temp.length > 0 && !open_group.includes(parent)) {\n          open_group = open_group.filter(function(obj) {\n            return !temp.includes(obj)\n          })\n        }\n        if (open_group.includes(parent) && active_group.includes(parent)) {\n          open_group = active_group.slice(0)\n        }\n        // Add group item clicked in open group\n        if (!open_group.includes(id)) {\n          open_group.push(id)\n        }\n      } else {\n        // If open group includes click group item, remove it from open group\n        open_group.splice(open_group.indexOf(id), 1)\n      }\n    }\n    if (type === \"item\") {\n      open_group = active_group.slice(0)\n    }\n\n    this.setState({\n      activeGroups: open_group,\n      tempArr: temp_arr,\n      currentActiveGroup: active_group\n    })\n  }\n\n  initRender = parentArr => {\n    this.setState({\n      activeGroups: parentArr.slice(0),\n      currentActiveGroup: parentArr.slice(0),\n      flag: false\n    })\n  }\n\n  componentDidMount() {\n    this.initRender(this.parentArr[0] ? this.parentArr[0] : [])\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.activePath !== this.props.activePath) {\n      if (this.collapsedMenuPaths !== null) {\n        this.props.collapsedMenuPaths(this.collapsedMenuPaths)\n      }\n\n      this.initRender(\n        this.parentArr[0] ? this.parentArr[this.parentArr.length - 1] : []\n      )\n    }\n  }\n\n  render() {\n    // Loop over sidebar items\n    // eslint-disable-next-line\n    const menuItems = navigationConfig.map(item => {\n      const CustomAnchorTag = item.type === \"external-link\" ? `a` : Link\n      // checks if item has groupheader\n      if (item.type === \"groupHeader\") {\n        return (\n          <li\n            className=\"navigation-header\"\n            key={`group-header-${item.groupTitle}`}>\n            <span>{item.groupTitle}</span>\n          </li>\n        )\n      }\n\n      let renderItem = (\n        <li\n          className={classnames(\"nav-item\", {\n            \"has-sub\": item.type === \"collapse\",\n            open: this.state.activeGroups.includes(item.id),\n            \"sidebar-group-active\": this.state.currentActiveGroup.includes(\n              item.id\n            ),\n            hover: this.props.hoverIndex === item.id,\n            active:\n              (this.props.activeItemState === item.navLink &&\n                item.type === \"item\") ||\n              (item.parentOf &&\n                item.parentOf.includes(this.props.activeItemState)),\n            disabled: item.disabled\n          })}\n          key={item.id}\n          onClick={e => {\n            e.stopPropagation()\n            if (item.type === \"item\") {\n              this.props.handleActiveItem(item.navLink)\n              this.handleGroupClick(item.id, null, item.type)\n              if (this.props.deviceWidth <= 1200 && item.type === \"item\") {\n                this.props.toggleMenu()\n              }\n            } else {\n              this.handleGroupClick(item.id, null, item.type)\n            }\n          }}>\n            \n          <CustomAnchorTag\n            to={\n              item.filterBase\n                ? item.filterBase\n                : item.navLink && item.type === \"item\"\n                ? item.navLink\n                : \"\"\n            }\n            href={item.type === \"external-link\" ? item.navLink : \"\"}\n            className={`d-flex ${\n              item.badgeText\n                ? \"justify-content-between\"\n                : \"justify-content-start\"\n            }`}\n            onMouseEnter={() => {\n              this.props.handleSidebarMouseEnter(item.id)\n            }}\n            onMouseLeave={() => {\n              this.props.handleSidebarMouseEnter(item.id)\n            }}\n            key={item.id}\n            onClick={e => {\n              return item.type === \"collapse\" ? e.preventDefault() : \"\"\n            }}\n            target={item.newTab ? \"_blank\" : undefined}>\n            <div className=\"menu-text\">\n              {item.icon}\n              <span className=\"menu-item menu-title\">\n                <FormattedMessage id={item.title} />\n              </span>\n            </div>\n\n            {item.badge ? (\n              <div className=\"menu-badge\">\n                <Badge color={item.badge} className=\"mr-1\" pill>\n                  {item.badgeText}\n                </Badge>\n              </div>\n            ) : (\n              \"\"\n            )}\n            {item.type === \"collapse\" ? (\n              <ChevronRight className=\"menu-toggle-icon\" size={13} />\n            ) : (\n              \"\"\n            )}\n          </CustomAnchorTag>\n          {item.type === \"collapse\" ? (\n            <SideMenuGroup\n              group={item}\n              handleGroupClick={this.handleGroupClick}\n              activeGroup={this.state.activeGroups}\n              handleActiveItem={this.props.handleActiveItem}\n              activeItemState={this.props.activeItemState}\n              handleSidebarMouseEnter={this.props.handleSidebarMouseEnter}\n              activePath={this.props.activePath}\n              hoverIndex={this.props.hoverIndex}\n              initRender={this.initRender}\n              parentArr={this.parentArr}\n              triggerActive={undefined}\n              currentActiveGroup={this.state.currentActiveGroup}\n              // permission={this.props.permission}\n              // currentUser={this.props.currentUser}\n              redirectUnauthorized={this.redirectUnauthorized}\n              collapsedMenuPaths={this.props.collapsedMenuPaths}\n              toggleMenu={this.props.toggleMenu}\n              deviceWidth={this.props.deviceWidth}\n            />\n          ) : (\n            \"\"\n          )}\n        </li>\n      )\n\n      if (\n        item.navLink &&\n        item.collapsed !== undefined &&\n        item.collapsed === true\n      ) {\n        this.collapsedPath = item.navLink\n        this.props.collapsedMenuPaths(item.navLink)\n      }\n\n      if (\n        item.type === \"collapse\" ||\n        item.type === \"external-link\")\n         {\n        return renderItem\n      } else if (\n        item.type === \"item\" &&\n        item.navLink === this.props.activePath\n      ) {\n        return this.redirectUnauthorized()\n      }\n    })\n    return <React.Fragment>{menuItems}</React.Fragment>\n  }\n}\nexport default SideMenuContent\n"]},"metadata":{},"sourceType":"module"}