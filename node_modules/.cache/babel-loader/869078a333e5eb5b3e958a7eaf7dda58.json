{"ast":null,"code":"import _regeneratorRuntime from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/pandusetiawan/Documents/react/df-v1.3 backup build/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{Row,Col,Spinner}from\"reactstrap\";import Breadcrumbs from\"../../components/@vuexy/breadCrumbs/BreadCrumb\";import DataTableEmployees from\"./DataTableEmployees\";import EmployeesAdd from\"./EmployeesAdd\";import EmployeesEdit from\"./EmployeesEdit\";import axios from'axios';import{api_query}from\"../../api/ApiConstant\";var EmployeesPage=/*#__PURE__*/function(_React$Component){_inherits(EmployeesPage,_React$Component);var _super=_createSuper(EmployeesPage);function EmployeesPage(props){var _this;_classCallCheck(this,EmployeesPage);_this=_super.call(this,props);_this.changeViewPage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(typeView,resultEdit){var tmp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(typeView=='add')){_context.next=5;break;}_context.next=3;return _this.setState({addPage:true,editPage:false});case 3:_context.next=19;break;case 5:if(!(typeView=='edit')){_context.next=17;break;}_context.next=8;return _this.tarikDataDept();case 8:_context.next=10;return _this.tarikDataPosition();case 10:tmp=resultEdit;tmp.all_dept_name=_this.state.dept_name;tmp.all_position=_this.state.position;// console.log('new data tmp : ', tmp)\n_context.next=15;return _this.setState({editPage:true,editData:tmp,addPage:false});case 15:_context.next=19;break;case 17:_context.next=19;return _this.setState({addPage:false,editPage:false});case 19:case\"end\":return _context.stop();}}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();_this.tarikDataDept=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var sql,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log('tarik data');// let sql = `\n//     select * from employees_new limit 10000;\n// `\nsql=\"\\n    select * from departments_new\\n    \";_context2.next=4;return axios.post(api_query,{query:sql}).then(function(result){var res=result.data.response;// console.log('result : ', result)\nif(res.length==''){return[];}var tmp=[];for(var index=0;index<res.length;index++){var element=res[index];// console.log('dataaaaa : ', element)\nvar data={};data.id=element.id;data.value=element.id;data.label=element.dept_name;tmp.push(data);// console.log('tiap push : ', tmp)\n}// console.log('hasil push : ', tmp)\n// return res;\nreturn tmp;}).catch(function(err){console.log('error : ',err);return[];});case 4:result=_context2.sent;_context2.next=7;return _this.setState({dept_name:result});case 7:case\"end\":return _context2.stop();}}},_callee2);}));_this.tarikDataPosition=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var sql,result;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:// console.log('tarik data')\n// let sql = `\n//     select * from employees_new limit 10000;\n// `\nsql=\"\\n      select * from position_management\\n      \";_context3.next=3;return axios.post(api_query,{query:sql}).then(function(result){var res=result.data.response;// console.log('result : ', result)\nif(res.length==''){return[];}var tmp=[];for(var index=0;index<res.length;index++){var element=res[index];// console.log('dataaaaa : ', element)\nvar data={};data.id=element.id;data.value=element.id;data.label=element.position;tmp.push(data);// console.log('tiap push : ', tmp)\n}// console.log('hasil push : ', tmp)\n// return res;\nreturn tmp;}).catch(function(err){console.log('error : ',err);return[];});case 3:result=_context3.sent;_context3.next=6;return _this.setState({position:result});case 6:case\"end\":return _context3.stop();}}},_callee3);}));_this.state={addPage:false,editPage:false,editData:null,dept_name:null,position:null};return _this;}_createClass(EmployeesPage,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(React.Fragment,null,this.state.addPage?/*#__PURE__*/React.createElement(Breadcrumbs,{breadCrumbTitle:\"Employees Add\",breadCrumbParent:\"Employees\",breadCrumbActive:\"Employees Add\"}):this.state.editPage?/*#__PURE__*/React.createElement(Breadcrumbs,{breadCrumbTitle:\"Employees Edit\",breadCrumbParent:\"Employees\",breadCrumbActive:\"Employees Edit\"}):/*#__PURE__*/React.createElement(Breadcrumbs,{breadCrumbTitle:\"Employees\",breadCrumbParent:\"Employees\",breadCrumbActive:\"Employees\"}),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},this.state.addPage?/*#__PURE__*/React.createElement(EmployeesAdd,Object.assign({},this.state,this.props,{changeViewPage:this.changeViewPage}))// <Spinner color=\"primary\" />\n:this.state.editPage?/*#__PURE__*/React.createElement(EmployeesEdit,Object.assign({},this.state,this.props,{changeViewPage:this.changeViewPage})):/*#__PURE__*/React.createElement(DataTableEmployees,Object.assign({},this.state,this.props,{changeViewPage:this.changeViewPage})))));}}]);return EmployeesPage;}(React.Component);export default EmployeesPage;","map":null,"metadata":{},"sourceType":"module"}